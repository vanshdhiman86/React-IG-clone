/*! For license information please see main.78f7e798.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},110:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(b){}}}}return t}},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function j(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case I:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ie(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Te(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Re(){}var Ae=!1;function Ne(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==_e||null!==Se)&&(Re(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Oe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ue=!1,Ve=null,je={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(je,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,$e=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,St,It,Et=!1,Tt=[],Ct=null,Rt=null,At=null,Nt=new Map,Pt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Vt(e,t,n){Ut(e)&&n.delete(t)}function jt(){Et=!1,null!==Ct&&Ut(Ct)&&(Ct=null),null!==Rt&&Ut(Rt)&&(Rt=null),null!==At&&Ut(At)&&(At=null),Nt.forEach(Vt),Pt.forEach(Vt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Rt&&zt(Rt,e),null!==At&&zt(At,e),Nt.forEach(t),Pt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var qt=k.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Ht(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Ht(e,t,n,r)}finally{bt=i,qt.transition=a}}function Ht(e,t,n,r){if(Wt){var i=Qt(e,t,n,r);if(null===i)Wr(e,t,r,$t,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Rt=Mt(Rt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nt.set(a,Mt(Nt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&Wr(e,t,r,$t,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var $t=null;function Qt(e,t,n,r){if($t=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),kn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function In(){return Sn}var En=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),An=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Nn),On=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),Vn=!1;function jn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ee(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function $n(e){Ur(e,0)}function Qn(e){if(H(ki(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Hn=Gn=null)}function nr(e){if("value"===e.propertyName&&Qn(Hn)){var t=[];Kn(t,Hn,e,we(e)),Ne($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Hn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==$(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Sr={};function Ir(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Ir("animationend"),Tr=Ir("animationiteration"),Cr=Ir("animationstart"),Rr=Ir("transitionend"),Ar=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),s(t,[e])}for(var Or=0;Or<Nr.length;Or++){var Dr=Nr[Or];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Er,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Rr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ue||(Ue=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ue)throw e=Ve,Ue=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,jr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Kt;break;case 4:i=Gt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ne((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Rn;break;case Er:case Tr:case Cr:s=yn;break;case Rr:s=An;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ki(s),d=null==c?u:ki(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&$r(o,u,s,l,!1),null!==c&&null!==f&&$r(o,f,c,l,!0)}if("select"===(s=(u=r?ki(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(Wn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?ki(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?jn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Gr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=zn(n))&&(b.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Un);case"textInput":return(e=t.data)===Un&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&jn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ur(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Kr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Kr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Si(e){return{current:e}}function Ii(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ei(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Si(Ti),Ri=Si(!1),Ai=Ti;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ii(Ri),Ii(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ei(Ci,t),Ei(Ri,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,Ei(Ci,e),Ei(Ri,Ri.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ri),Ii(Ci),Ei(Ci,e)):Ii(Ri),Ei(Ri,n)}var Ui=null,Vi=!1,ji=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!ji&&null!==Ui){ji=!0;var e=0,t=bt;try{var n=Ui;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Vi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),He(Ze,Bi),i}finally{bt=t,ji=!1}}return null}var qi=k.ReactCurrentBatchConfig;function Wi(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ki=Si(null),Gi=null,Hi=null,$i=null;function Qi(){$i=Hi=Gi=null}function Yi(e){var t=Ki.current;Ii(Ki),e._currentValue=t}function Xi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ji(e,t){Gi=e,$i=Hi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wu=!0),e.firstContext=null)}function Zi(e){var t=e._currentValue;if($i!==e)if(e={context:e,memoizedValue:t,next:null},null===Hi){if(null===Gi)throw Error(a(308));Hi=e,Gi.dependencies={lanes:0,firstContext:e}}else Hi=Hi.next=e;return t}var ea=null,ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function aa(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tc(e)?(null===(e=n.interleaved)?(t.next=t,null===ea?ea=[n]:ea.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function ua(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function sa(e,t,n,r){var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:ta=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Os|=o,e.lanes=o,e.memoizedState=f}}function ca(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var la=(new r.Component).refs;function fa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ha={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xs(),i=Js(e),a=ia(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Zs(e,i,r))&&oa(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xs(),i=Js(e),a=ia(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Zs(e,i,r))&&oa(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xs(),r=Js(e),i=ia(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),aa(e,i),null!==(t=Zs(e,r,n))&&oa(t,e,r)}};function da(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function pa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Zi(a):(i=Pi(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ha,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function va(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ha.enqueueReplaceState(t,t.state,null)}function ma(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=la,na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Zi(a):(a=Pi(t)?Ai:Ci.current,i.context=Ni(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(fa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ha.enqueueReplaceState(i,i.state,null),sa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var ya=[],ga=0,ba=null,ka=0,wa=[],xa=0,_a=null,Sa=1,Ia="";function Ea(e,t){ya[ga++]=ka,ya[ga++]=ba,ba=e,ka=t}function Ta(e,t,n){wa[xa++]=Sa,wa[xa++]=Ia,wa[xa++]=_a,_a=e;var r=Sa;e=Ia;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Sa=1<<32-ot(t)+i|n<<i|r,Ia=a+e}else Sa=1<<a|n<<i|r,Ia=e}function Ca(e){null!==e.return&&(Ea(e,1),Ta(e,1,0))}function Ra(e){for(;e===ba;)ba=ya[--ga],ya[ga]=null,ka=ya[--ga],ya[ga]=null;for(;e===_a;)_a=wa[--xa],wa[xa]=null,Ia=wa[--xa],wa[xa]=null,Sa=wa[--xa],wa[xa]=null}var Aa=null,Na=null,Pa=!1,Oa=null;function Da(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function La(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Aa=e,Na=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Aa=e,Na=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==_a?{id:Sa,overflow:Ia}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Aa=e,Na=null,!0);default:return!1}}function Ma(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Fa(e){if(Pa){var t=Na;if(t){var n=t;if(!La(e,t)){if(Ma(e))throw Error(a(418));t=ci(n.nextSibling);var r=Aa;t&&La(e,t)?Da(r,n):(e.flags=-4097&e.flags|2,Pa=!1,Aa=e)}}else{if(Ma(e))throw Error(a(418));e.flags=-4097&e.flags|2,Pa=!1,Aa=e}}}function Ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Aa=e}function Va(e){if(e!==Aa)return!1;if(!Pa)return Ua(e),Pa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=Na)){if(Ma(e)){for(e=Na;e;)e=ci(e.nextSibling);throw Error(a(418))}for(;t;)Da(e,t),t=ci(t.nextSibling)}if(Ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Na=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Na=null}}else Na=Aa?ci(e.stateNode.nextSibling):null;return!0}function ja(){Na=Aa=null,Pa=!1}function za(e){null===Oa?Oa=[e]:Oa.push(e)}function Ba(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===la&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function qa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wa(e){return(0,e._init)(e._payload)}function Ka(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Wa(a)===t.type)?((r=i(t,n.props)).ref=Ba(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=Ba(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=Ba(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Dc(t,e.mode,n,null)).return=e,t;qa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);qa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);qa(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),Pa&&Ea(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Pa&&Ea(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),Pa&&Ea(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),Pa&&Ea(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return Pa&&Ea(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),Pa&&Ea(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Wa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ba(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Dc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Oc(o.type,o.key,o.props,null,r.mode,s)).ref=Ba(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);qa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Mc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ga=Ka(!0),Ha=Ka(!1),$a={},Qa=Si($a),Ya=Si($a),Xa=Si($a);function Ja(e){if(e===$a)throw Error(a(174));return e}function Za(e,t){switch(Ei(Xa,t),Ei(Ya,e),Ei(Qa,$a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Qa),Ei(Qa,t)}function eo(){Ii(Qa),Ii(Ya),Ii(Xa)}function to(e){Ja(Xa.current);var t=Ja(Qa.current),n=se(t,e.type);t!==n&&(Ei(Ya,e),Ei(Qa,n))}function no(e){Ya.current===e&&(Ii(Qa),Ii(Ya))}var ro=Si(0);function io(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=[];function oo(){for(var e=0;e<ao.length;e++)ao[e]._workInProgressVersionPrimary=null;ao.length=0}var uo=k.ReactCurrentDispatcher,so=k.ReactCurrentBatchConfig,co=0,lo=null,fo=null,ho=null,po=!1,vo=!1,mo=0,yo=0;function go(){throw Error(a(321))}function bo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function ko(e,t,n,r,i,o){if(co=o,lo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,uo.current=null===e||null===e.memoizedState?ru:iu,e=n(r,i),vo){o=0;do{if(vo=!1,mo=0,25<=o)throw Error(a(301));o+=1,ho=fo=null,t.updateQueue=null,uo.current=au,e=n(r,i)}while(vo)}if(uo.current=nu,t=null!==fo&&null!==fo.next,co=0,ho=fo=lo=null,po=!1,t)throw Error(a(300));return e}function wo(){var e=0!==mo;return mo=0,e}function xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ho?lo.memoizedState=ho=e:ho=ho.next=e,ho}function _o(){if(null===fo){var e=lo.alternate;e=null!==e?e.memoizedState:null}else e=fo.next;var t=null===ho?lo.memoizedState:ho.next;if(null!==t)ho=t,fo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(fo=e).memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},null===ho?lo.memoizedState=ho=e:ho=ho.next=e}return ho}function So(e,t){return"function"===typeof t?t(e):t}function Io(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=fo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((co&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,lo.lanes|=f,Os|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(wu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,lo.lanes|=o,Os|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Eo(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(wu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function To(){}function Co(e,t){var n=lo,r=_o(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,wu=!0),r=r.queue,Vo(No.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==ho&&1&ho.memoizedState.tag){if(n.flags|=2048,Do(9,Ao.bind(null,n,r,i,t),void 0,null),null===Es)throw Error(a(349));0!==(30&co)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ao(e,t,n,r){t.value=n,t.getSnapshot=r,Po(t)&&Zs(e,1,-1)}function No(e,t,n){return n((function(){Po(t)&&Zs(e,1,-1)}))}function Po(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Oo(e){var t=xo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:e},t.queue=e,e=e.dispatch=Xo.bind(null,lo,e),[t.memoizedState,e]}function Do(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Lo(){return _o().memoizedState}function Mo(e,t,n,r){var i=xo();lo.flags|=e,i.memoizedState=Do(1|t,n,void 0,void 0===r?null:r)}function Fo(e,t,n,r){var i=_o();r=void 0===r?null:r;var a=void 0;if(null!==fo){var o=fo.memoizedState;if(a=o.destroy,null!==r&&bo(r,o.deps))return void(i.memoizedState=Do(t,n,a,r))}lo.flags|=e,i.memoizedState=Do(1|t,n,a,r)}function Uo(e,t){return Mo(8390656,8,e,t)}function Vo(e,t){return Fo(2048,8,e,t)}function jo(e,t){return Fo(4,2,e,t)}function zo(e,t){return Fo(4,4,e,t)}function Bo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fo(4,4,Bo.bind(null,t,e),n)}function Wo(){}function Ko(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Go(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ho(e,t,n){return 0===(21&co)?(e.baseState&&(e.baseState=!1,wu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),lo.lanes|=n,Os|=n,e.baseState=!0),t)}function $o(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=so.transition;so.transition={};try{e(!1),t()}finally{bt=n,so.transition=r}}function Qo(){return _o().memoizedState}function Yo(e,t,n){var r=Js(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jo(e)?Zo(t,n):(eu(e,t,n),null!==(e=Zs(e,r,n=Xs()))&&tu(e,t,r))}function Xo(e,t,n){var r=Js(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jo(e))Zo(t,i);else{eu(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o))return}catch(s){}null!==(e=Zs(e,r,n=Xs()))&&tu(e,t,r)}}function Jo(e){var t=e.alternate;return e===lo||null!==t&&t===lo}function Zo(e,t){vo=po=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eu(e,t,n){tc(e)?(null===(e=t.interleaved)?(n.next=n,null===ea?ea=[t]:ea.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function tu(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var nu={readContext:Zi,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},ru={readContext:Zi,useCallback:function(e,t){return xo().memoizedState=[e,void 0===t?null:t],e},useContext:Zi,useEffect:Uo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4194308,4,Bo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mo(4,2,e,t)},useMemo:function(e,t){var n=xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Yo.bind(null,lo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xo().memoizedState=e},useState:Oo,useDebugValue:Wo,useDeferredValue:function(e){return xo().memoizedState=e},useTransition:function(){var e=Oo(!1),t=e[0];return e=$o.bind(null,e[1]),xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lo,i=xo();if(Pa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Es)throw Error(a(349));0!==(30&co)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Uo(No.bind(null,r,o,e),[e]),r.flags|=2048,Do(9,Ao.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=xo(),t=Es.identifierPrefix;if(Pa){var n=Ia;t=":"+t+"R"+(n=(Sa&~(1<<32-ot(Sa)-1)).toString(32)+n),0<(n=mo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=yo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},iu={readContext:Zi,useCallback:Ko,useContext:Zi,useEffect:Vo,useImperativeHandle:qo,useInsertionEffect:jo,useLayoutEffect:zo,useMemo:Go,useReducer:Io,useRef:Lo,useState:function(){return Io(So)},useDebugValue:Wo,useDeferredValue:function(e){return Ho(_o(),fo.memoizedState,e)},useTransition:function(){return[Io(So)[0],_o().memoizedState]},useMutableSource:To,useSyncExternalStore:Co,useId:Qo,unstable_isNewReconciler:!1},au={readContext:Zi,useCallback:Ko,useContext:Zi,useEffect:Vo,useImperativeHandle:qo,useInsertionEffect:jo,useLayoutEffect:zo,useMemo:Go,useReducer:Eo,useRef:Lo,useState:function(){return Eo(So)},useDebugValue:Wo,useDeferredValue:function(e){var t=_o();return null===fo?t.memoizedState=e:Ho(t,fo.memoizedState,e)},useTransition:function(){return[Eo(So)[0],_o().memoizedState]},useMutableSource:To,useSyncExternalStore:Co,useId:Qo,unstable_isNewReconciler:!1};function ou(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function uu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var su,cu,lu,fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zs||(zs=!0,Bs=r),uu(0,t)},n}function du(e,t,n){(n=ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){uu(0,t),"function"!==typeof r&&(null===qs?qs=new Set([this]):qs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function pu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function vu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function mu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ia(-1,1)).tag=2,aa(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function yu(e,t){if(!Pa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bu(e,t,n){var r=t.pendingProps;switch(Ra(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gu(t),null;case 1:case 17:return Pi(t.type)&&Oi(),gu(t),null;case 3:return r=t.stateNode,eo(),Ii(Ri),Ii(Ci),oo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Va(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Oa&&(ac(Oa),Oa=null))),gu(t),null;case 5:no(t);var i=Ja(Xa.current);if(n=t.type,null!==e&&null!=t.stateNode)cu(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return gu(t),null}if(e=Ja(Qa.current),Va(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Y(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Vr("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,su(e,t),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return gu(t),null;case 6:if(e&&null!=t.stateNode)lu(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ja(Xa.current),Ja(Qa.current),Va(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=Aa))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return gu(t),null;case 13:if(Ii(ro),r=t.memoizedState,Pa&&null!==Na&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Na;r;)r=ci(r.nextSibling);return ja(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Va(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[hi]=t}else ja(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return gu(t),null}return null!==Oa&&(ac(Oa),Oa=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Va(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ro.current)?0===Ns&&(Ns=3):pc())),null!==t.updateQueue&&(t.flags|=4),gu(t),null);case 4:return eo(),null===e&&Br(t.stateNode.containerInfo),gu(t),null;case 10:return Yi(t.type._context),gu(t),null;case 19:if(Ii(ro),null===(o=t.memoizedState))return gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)yu(o,!1);else{if(0!==Ns||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=io(e))){for(t.flags|=128,yu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(ro,1&ro.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Vs&&(t.flags|=128,r=!0,yu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=io(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),yu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Pa)return gu(t),null}else 2*Xe()-o.renderingStartTime>Vs&&1073741824!==n&&(t.flags|=128,r=!0,yu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=ro.current,Ei(ro,r?1&n|2:1&n),t):(gu(t),null);case 22:case 23:return lc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rs)&&(gu(t),6&t.subtreeFlags&&(t.flags|=8192)):gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}su=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},cu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ja(Qa.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var ku=k.ReactCurrentOwner,wu=!1;function xu(e,t,n,r){t.child=null===e?Ha(t,null,n,r):Ga(t,e.child,n,r)}function _u(e,t,n,r,i){n=n.render;var a=t.ref;return Ji(t,i),r=ko(e,t,n,r,a,i),n=wo(),null===e||wu?(Pa&&n&&Ca(t),t.flags|=1,xu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function Su(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Nc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Wu(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(wu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Wu(e,t,i);0!==(131072&e.flags)&&(wu=!0)}}return Cu(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(As,Rs),Rs|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(As,Rs),Rs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(As,Rs),Rs|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(As,Rs),Rs|=r;return xu(e,t,i,n),t.child}function Tu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cu(e,t,n,r,i){var a=Pi(n)?Ai:Ci.current;return a=Ni(t,a),Ji(t,i),n=ko(e,t,n,r,a,i),r=wo(),null===e||wu?(Pa&&r&&Ca(t),t.flags|=1,xu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function Ru(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(Ji(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),pa(t,n,r),ma(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Zi(c):c=Ni(t,c=Pi(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&va(t,o,r,c),ta=!1;var h=t.memoizedState;o.state=h,sa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ri.current||ta?("function"===typeof l&&(fa(t,n,l,r),s=t.memoizedState),(u=ta||da(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ra(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Wi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Zi(s):s=Ni(t,s=Pi(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&va(t,o,r,s),ta=!1,h=t.memoizedState,o.state=h,sa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ri.current||ta?("function"===typeof d&&(fa(t,n,d,r),p=t.memoizedState),(c=ta||da(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Tu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Wu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ga(t,e.child,null,a),t.child=Ga(t,null,u,a)):xu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Za(e,t.containerInfo)}function Pu(e,t,n,r,i){return ja(),za(i),t.flags|=256,xu(e,t,n,r),t.child}var Ou={dehydrated:null,treeContext:null,retryLane:0};function Du(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lu(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Mu(e,t,n){var r,i=t.pendingProps,o=ro.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(ro,1&o),null===e)return Fa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,u?(i=t.mode,u=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=o):u=Lc(o,i,0,null),e=Dc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Du(n),t.memoizedState=Ou,e):Fu(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,ju(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=Lc({mode:"visible",children:i.children},o,0,null),(u=Dc(u,o,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&Ga(t,e.child,null,n),t.child.memoizedState=Du(n),t.memoizedState=Ou,u);if(0===(1&t.mode))t=ju(e,t,n,null);else if("$!"===r.data)t=ju(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),wu||i){if(null!==(i=Es)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==o.retryLane&&(o.retryLane=i,Zs(e,i,-1))}pc(),t=ju(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Na=ci(r.nextSibling),Aa=t,Pa=!0,Oa=null,null!==n&&(wa[xa++]=Sa,wa[xa++]=Ia,wa[xa++]=_a,Sa=n.id,Ia=n.overflow,_a=t),(t=Fu(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=Vu(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Du(n):Lu(o,n),u.childLanes=e.childLanes&~n,t.memoizedState=Ou,i):(n=Uu(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=Vu(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Du(n):Lu(o,n),u.childLanes=e.childLanes&~n,t.memoizedState=Ou,i):(n=Uu(e,t,i.children,n),t.memoizedState=null,n)}function Fu(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){var i=e.child;return e=i.sibling,n=Pc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Vu(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=Pc(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=Pc(o,r):(r=Dc(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ju(e,t,n,r){return null!==r&&za(r),Ga(t,e.child,null,n),(e=Fu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Xi(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xu(e,t,r.children,n),0!==(2&(r=ro.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zu(e,n,t);else if(19===e.tag)zu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(ro,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===io(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===io(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Os|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ku(e,t){switch(Ra(t),t.tag){case 1:return Pi(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return eo(),Ii(Ri),Ii(Ci),oo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return no(t),null;case 13:if(Ii(ro),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ja()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(ro),null;case 4:return eo(),null;case 10:return Yi(t.type._context),null;case 22:case 23:return lc(),null;default:return null}}var Gu=!1,Hu=!1,$u="function"===typeof WeakSet?WeakSet:Set,Qu=null;function Yu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function Xu(e,t,n){try{n()}catch(r){_c(e,t,r)}}var Ju=!1;function Zu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Xu(t,n,a)}i=i.next}while(i!==r)}}function es(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ts(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ns(e){var t=e.alternate;null!==t&&(e.alternate=null,ns(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rs(e){return 5===e.tag||3===e.tag||4===e.tag}function is(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||rs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function as(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(as(e,t,n),e=e.sibling;null!==e;)as(e,t,n),e=e.sibling}function os(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(os(e,t,n),e=e.sibling;null!==e;)os(e,t,n),e=e.sibling}var us=null,ss=!1;function cs(e,t,n){for(n=n.child;null!==n;)ls(e,t,n),n=n.sibling}function ls(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Hu||Yu(n,t);case 6:var r=us,i=ss;us=null,cs(e,t,n),ss=i,null!==(us=r)&&(ss?(e=us,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):us.removeChild(n.stateNode));break;case 18:null!==us&&(ss?(e=us,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(us,n.stateNode));break;case 4:r=us,i=ss,us=n.stateNode.containerInfo,ss=!0,cs(e,t,n),us=r,ss=i;break;case 0:case 11:case 14:case 15:if(!Hu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&Xu(n,t,o),i=i.next}while(i!==r)}cs(e,t,n);break;case 1:if(!Hu&&(Yu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){_c(n,t,u)}cs(e,t,n);break;case 21:cs(e,t,n);break;case 22:1&n.mode?(Hu=(r=Hu)||null!==n.memoizedState,cs(e,t,n),Hu=r):cs(e,t,n);break;default:cs(e,t,n)}}function fs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $u),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function hs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:us=s.stateNode,ss=!1;break e;case 3:case 4:us=s.stateNode.containerInfo,ss=!0;break e}s=s.return}if(null===us)throw Error(a(160));ls(o,u,i),us=null,ss=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){_c(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ds(t,e),t=t.sibling}function ds(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hs(t,e),ps(e),4&r){try{Zu(3,e,e.return),es(3,e)}catch(v){_c(e,e.return,v)}try{Zu(5,e,e.return)}catch(v){_c(e,e.return,v)}}break;case 1:hs(t,e),ps(e),512&r&&null!==n&&Yu(n,n.return);break;case 5:if(hs(t,e),ps(e),512&r&&null!==n&&Yu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(v){_c(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),be(s,u);var l=be(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(v){_c(e,e.return,v)}}break;case 6:if(hs(t,e),ps(e),4&r){if(null===e.stateNode)throw Error(a(162));l=e.stateNode,f=e.memoizedProps;try{l.nodeValue=f}catch(v){_c(e,e.return,v)}}break;case 3:if(hs(t,e),ps(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(v){_c(e,e.return,v)}break;case 4:default:hs(t,e),ps(e);break;case 13:hs(t,e),ps(e),8192&(l=e.child).flags&&null!==l.memoizedState&&(null===l.alternate||null===l.alternate.memoizedState)&&(Us=Xe()),4&r&&fs(e);break;case 22:if(l=null!==n&&null!==n.memoizedState,1&e.mode?(Hu=(f=Hu)||l,hs(t,e),Hu=f):hs(t,e),ps(e),8192&r){f=null!==e.memoizedState;e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,f?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=d.stateNode,u=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(v){_c(e,e.return,v)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=f?"":d.memoizedProps}catch(v){_c(e,e.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}if(f&&!l&&0!==(1&e.mode))for(Qu=e,e=e.child;null!==e;){for(l=Qu=e;null!==Qu;){switch(h=(f=Qu).child,f.tag){case 0:case 11:case 14:case 15:Zu(4,f,f.return);break;case 1:if(Yu(f,f.return),"function"===typeof(o=f.stateNode).componentWillUnmount){d=f,p=f.return;try{i=d,o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(v){_c(d,p,v)}}break;case 5:Yu(f,f.return);break;case 22:if(null!==f.memoizedState){gs(l);continue}}null!==h?(h.return=f,Qu=h):gs(l)}e=e.sibling}}break;case 19:hs(t,e),ps(e),4&r&&fs(e);case 21:}}function ps(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(rs(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),os(e,is(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;as(e,is(e),o);break;default:throw Error(a(161))}}catch(u){_c(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vs(e,t,n){Qu=e,ms(e,t,n)}function ms(e,t,n){for(var r=0!==(1&e.mode);null!==Qu;){var i=Qu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Gu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Hu;u=Gu;var c=Hu;if(Gu=o,(Hu=s)&&!c)for(Qu=i;null!==Qu;)s=(o=Qu).child,22===o.tag&&null!==o.memoizedState?bs(i):null!==s?(s.return=o,Qu=s):bs(i);for(;null!==a;)Qu=a,ms(a,t,n),a=a.sibling;Qu=i,Gu=u,Hu=c}ys(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Qu=a):ys(e)}}function ys(e){for(;null!==Qu;){var t=Qu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Hu||es(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Hu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Wi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ca(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ca(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Hu||512&t.flags&&ts(t)}catch(d){_c(t,t.return,d)}}if(t===e){Qu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qu=n;break}Qu=t.return}}function gs(e){for(;null!==Qu;){var t=Qu;if(t===e){Qu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qu=n;break}Qu=t.return}}function bs(e){for(;null!==Qu;){var t=Qu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{es(4,t)}catch(s){_c(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){_c(t,i,s)}}var a=t.return;try{ts(t)}catch(s){_c(t,a,s)}break;case 5:var o=t.return;try{ts(t)}catch(s){_c(t,o,s)}}}catch(s){_c(t,t.return,s)}if(t===e){Qu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Qu=u;break}Qu=t.return}}var ks,ws=Math.ceil,xs=k.ReactCurrentDispatcher,_s=k.ReactCurrentOwner,Ss=k.ReactCurrentBatchConfig,Is=0,Es=null,Ts=null,Cs=0,Rs=0,As=Si(0),Ns=0,Ps=null,Os=0,Ds=0,Ls=0,Ms=null,Fs=null,Us=0,Vs=1/0,js=null,zs=!1,Bs=null,qs=null,Ws=!1,Ks=null,Gs=0,Hs=0,$s=null,Qs=-1,Ys=0;function Xs(){return 0!==(6&Is)?Xe():-1!==Qs?Qs:Qs=Xe()}function Js(e){return 0===(1&e.mode)?1:0!==(2&Is)&&0!==Cs?Cs&-Cs:null!==qi.transition?(0===Ys&&(Ys=vt()),Ys):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function Zs(e,t,n){if(50<Hs)throw Hs=0,$s=null,Error(a(185));var r=ec(e,t);return null===r?null:(yt(r,t,n),0!==(2&Is)&&r===Es||(r===Es&&(0===(2&Is)&&(Ds|=t),4===Ns&&oc(r,Cs)),nc(r,n),1===t&&0===Is&&0===(1&e.mode)&&(Vs=Xe()+500,Vi&&Bi())),r)}function ec(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tc(e){return(null!==Es||null!==ea)&&0!==(1&e.mode)&&0===(2&Is)}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Es?Cs:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Vi=!0,zi(e)}(uc.bind(null,e)):zi(uc.bind(null,e)),oi((function(){0===Is&&Bi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Qs=-1,Ys=0,0!==(6&Is))throw Error(a(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=ht(e,e===Es?Cs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Is;Is|=2;var o=dc();for(Es===e&&Cs===t||(js=null,Vs=Xe()+500,fc(e,t));;)try{yc();break}catch(s){hc(e,s)}Qi(),xs.current=o,Is=i,null!==Ts?t=0:(Es=null,Cs=0,t=Ns)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ic(e,i))),1===t)throw n=Ps,fc(e,0),oc(e,r),nc(e,Xe()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ic(e,o))),1===t))throw n=Ps,fc(e,0),oc(e,r),nc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:kc(e,Fs,js);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Us+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Xs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(kc.bind(null,e,Fs,js),t);break}kc(e,Fs,js);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ws(r/1960))-r)){e.timeoutHandle=ri(kc.bind(null,e,Fs,js),r);break}kc(e,Fs,js);break;default:throw Error(a(329))}}}return nc(e,Xe()),e.callbackNode===n?rc.bind(null,e):null}function ic(e,t){var n=Ms;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Fs,Fs=n,null!==t&&ac(t)),e}function ac(e){null===Fs?Fs=e:Fs.push.apply(Fs,e)}function oc(e,t){for(t&=~Ls,t&=~Ds,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Is))throw Error(a(327));wc();var t=ht(e,0);if(0===(1&t))return nc(e,Xe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ps,fc(e,0),oc(e,t),nc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kc(e,Fs,js),nc(e,Xe()),null}function sc(e,t){var n=Is;Is|=1;try{return e(t)}finally{0===(Is=n)&&(Vs=Xe()+500,Vi&&Bi())}}function cc(e){null!==Ks&&0===Ks.tag&&0===(6&Is)&&wc();var t=Is;Is|=1;var n=Ss.transition,r=bt;try{if(Ss.transition=null,bt=1,e)return e()}finally{bt=r,Ss.transition=n,0===(6&(Is=t))&&Bi()}}function lc(){Rs=As.current,Ii(As)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ts)for(n=Ts.return;null!==n;){var r=n;switch(Ra(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:eo(),Ii(Ri),Ii(Ci),oo();break;case 5:no(r);break;case 4:eo();break;case 13:case 19:Ii(ro);break;case 10:Yi(r.type._context);break;case 22:case 23:lc()}n=n.return}if(Es=e,Ts=e=Pc(e.current,null),Cs=Rs=t,Ns=0,Ps=null,Ls=Ds=Os=0,Fs=Ms=null,null!==ea){for(t=0;t<ea.length;t++)if(null!==(r=(n=ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}ea=null}return e}function hc(e,t){for(;;){var n=Ts;try{if(Qi(),uo.current=nu,po){for(var r=lo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}po=!1}if(co=0,ho=fo=lo=null,vo=!1,mo=0,_s.current=null,null===n||null===n.return){Ns=1,Ps=t,Ts=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Cs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=vu(u);if(null!==p){p.flags&=-257,mu(p,u,s,0,t),1&p.mode&&pu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){pu(o,l,t),pc();break e}c=Error(a(426))}else if(Pa&&1&s.mode){var y=vu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),mu(y,u,s,0,t),za(c);break e}}o=c,4!==Ns&&(Ns=2),null===Ms?Ms=[o]:Ms.push(o),c=ou(c,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ua(s,hu(0,c,t));break e;case 1:o=c;var g=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===qs||!qs.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,ua(s,du(s,o,t));break e}}s=s.return}while(null!==s)}bc(n)}catch(k){t=k,Ts===n&&null!==n&&(Ts=n=n.return);continue}break}}function dc(){var e=xs.current;return xs.current=nu,null===e?nu:e}function pc(){0!==Ns&&3!==Ns&&2!==Ns||(Ns=4),null===Es||0===(268435455&Os)&&0===(268435455&Ds)||oc(Es,Cs)}function vc(e,t){var n=Is;Is|=2;var r=dc();for(Es===e&&Cs===t||(js=null,fc(e,t));;)try{mc();break}catch(i){hc(e,i)}if(Qi(),Is=n,xs.current=r,null!==Ts)throw Error(a(261));return Es=null,Cs=0,Ns}function mc(){for(;null!==Ts;)gc(Ts)}function yc(){for(;null!==Ts&&!Qe();)gc(Ts)}function gc(e){var t=ks(e.alternate,e,Rs);e.memoizedProps=e.pendingProps,null===t?bc(e):Ts=t,_s.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=bu(n,t,Rs)))return void(Ts=n)}else{if(null!==(n=Ku(n,t)))return n.flags&=32767,void(Ts=n);if(null===e)return Ns=6,void(Ts=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ts=t);Ts=t=e}while(null!==t);0===Ns&&(Ns=5)}function kc(e,t,n){var r=bt,i=Ss.transition;try{Ss.transition=null,bt=1,function(e,t,n,r){do{wc()}while(null!==Ks);if(0!==(6&Is))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Es&&(Ts=Es=null,Cs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ws||(Ws=!0,Cc(tt,(function(){return wc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ss.transition,Ss.transition=null;var u=bt;bt=1;var s=Is;Is|=4,_s.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Qu=t;null!==Qu;)if(e=(t=Qu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qu=e;else for(;null!==Qu;){t=Qu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Wi(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;if(1===k.nodeType)k.textContent="";else if(9===k.nodeType){var w=k.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(x){_c(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Qu=e;break}Qu=t.return}v=Ju,Ju=!1}(e,n),ds(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,vs(n,e,i),Ye(),Is=s,bt=u,Ss.transition=o}else e.current=n;if(Ws&&(Ws=!1,Ks=e,Gs=i),0===(o=e.pendingLanes)&&(qs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(zs)throw zs=!1,e=Bs,Bs=null,e;0!==(1&Gs)&&0!==e.tag&&wc(),0!==(1&(o=e.pendingLanes))?e===$s?Hs++:(Hs=0,$s=e):Hs=0,Bi()}(e,t,n,r)}finally{Ss.transition=i,bt=r}return null}function wc(){if(null!==Ks){var e=kt(Gs),t=Ss.transition,n=bt;try{if(Ss.transition=null,bt=16>e?16:e,null===Ks)var r=!1;else{if(e=Ks,Ks=null,Gs=0,0!==(6&Is))throw Error(a(331));var i=Is;for(Is|=4,Qu=e.current;null!==Qu;){var o=Qu,u=o.child;if(0!==(16&Qu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Qu=l;null!==Qu;){var f=Qu;switch(f.tag){case 0:case 11:case 15:Zu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Qu=h;else for(;null!==Qu;){var d=(f=Qu).sibling,p=f.return;if(ns(f),f===l){Qu=null;break}if(null!==d){d.return=p,Qu=d;break}Qu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Qu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Qu=u;else e:for(;null!==Qu;){if(0!==(2048&(o=Qu).flags))switch(o.tag){case 0:case 11:case 15:Zu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Qu=g;break e}Qu=o.return}}var b=e.current;for(Qu=b;null!==Qu;){var k=(u=Qu).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,Qu=k;else e:for(u=b;null!==Qu;){if(0!==(2048&(s=Qu).flags))try{switch(s.tag){case 0:case 11:case 15:es(9,s)}}catch(x){_c(s,s.return,x)}if(s===u){Qu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Qu=w;break e}Qu=s.return}}if(Is=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Ss.transition=t}}return!1}function xc(e,t,n){aa(e,t=hu(0,t=ou(n,t),1)),t=Xs(),null!==(e=ec(e,1))&&(yt(e,1,t),nc(e,t))}function _c(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qs||!qs.has(r))){aa(t,e=du(t,e=ou(n,e),1)),e=Xs(),null!==(t=ec(t,1))&&(yt(t,1,e),nc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Xs(),e.pingedLanes|=e.suspendedLanes&n,Es===e&&(Cs&n)===n&&(4===Ns||3===Ns&&(130023424&Cs)===Cs&&500>Xe()-Us?fc(e,0):Ls|=n),nc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Xs();null!==(e=ec(e,t))&&(yt(e,t,n),nc(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Cc(e,t){return He(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Rc(e,t,n,r)}function Nc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Nc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Dc(n.children,i,o,t);case S:u=8,i|=8;break;case I:return(e=Ac(12,n,t,2|i)).elementType=I,e.lanes=o,e;case R:return(e=Ac(13,n,t,i)).elementType=R,e.lanes=o,e;case A:return(e=Ac(19,n,t,i)).elementType=A,e.lanes=o,e;case O:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case N:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ac(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Dc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={},e}function Mc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ac(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},na(a),e}function jc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function Bc(e,t,n,r,i,a,o,u,s){return(e=Vc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=ia(r=Xs(),i=Js(n))).callback=void 0!==t&&null!==t?t:null,aa(n,a),e.current.lanes=i,yt(e,i,r),nc(e,r),e}function qc(e,t,n,r){var i=t.current,a=Xs(),o=Js(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ia(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),aa(i,t),null!==(e=Zs(i,o,a))&&oa(e,i,o),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}ks=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ri.current)wu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),ja();break;case 5:to(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:Za(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(Ki,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(ro,1&ro.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mu(e,t,n):(Ei(ro,1&ro.current),null!==(e=Wu(e,t,n))?e.sibling:null);Ei(ro,1&ro.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(ro,ro.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Wu(e,t,n)}(e,t,n);wu=0!==(131072&e.flags)}else wu=!1,Pa&&0!==(1048576&t.flags)&&Ta(t,ka,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ni(t,Ci.current);Ji(t,n),i=ko(null,t,r,e,i,n);var o=wo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,na(t),i.updater=ha,t.stateNode=i,i._reactInternals=t,ma(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,Pa&&o&&Ca(t),xu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Nc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===N)return 14}return 2}(r),e=Wi(r,e),i){case 0:t=Cu(null,t,r,e,n);break e;case 1:t=Ru(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=Su(null,t,r,Wi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:Wi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ru(e,t,r,i=t.elementType===r?i:Wi(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ra(e,t),sa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pu(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Pu(e,t,r,n,i=Error(a(424)));break e}for(Na=ci(t.stateNode.containerInfo.firstChild),Aa=t,Pa=!0,Oa=null,n=Ha(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ja(),r===i){t=Wu(e,t,n);break e}xu(e,t,r,n)}t=t.child}return t;case 5:return to(t),null===e&&Fa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Tu(e,t),xu(e,t,u,n),t.child;case 6:return null===e&&Fa(t),null;case 13:return Mu(e,t,n);case 4:return Za(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ga(t,null,r,n):xu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:Wi(r,i),n);case 7:return xu(e,t,t.pendingProps,n),t.child;case 8:case 12:return xu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(Ki,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ri.current){t=Wu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ia(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Xi(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Xi(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}xu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ji(t,n),r=r(i=Zi(i)),t.flags|=1,xu(e,t,r,n),t.child;case 14:return i=Wi(r=t.type,t.pendingProps),Su(e,t,r,i=Wi(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Ji(t,n),pa(t,r,i),ma(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Hc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Wc(o);u.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=Bc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),cc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Wc(s);u.call(e)}}var s=Vc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),cc((function(){qc(t,s,n,r)})),s}(n,t,e,i,r);return Wc(o)}Qc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qc(e,t,null,null)},Qc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc((function(){qc(null,e,null,null)})),t[pi]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),nc(t,Xe()),0===(6&Is)&&(Vs=Xe()+500,Bi()))}break;case 13:var r=Xs();cc((function(){return Zs(e,1,r)})),Gc(e,1)}},xt=function(e){13===e.tag&&(Zs(e,134217728,Xs()),Gc(e,134217728))},_t=function(e){if(13===e.tag){var t=Xs(),n=Js(e);Zs(e,n,t),Gc(e,n)}},St=function(){return bt},It=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=sc,Re=cc;var el={usingClientEntryPoint:!1,Events:[bi,ki,wi,Ee,Te,sc]},tl={findFiberByHostInstance:gi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nl={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{it=rl.inject(nl),at=rl}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return jc(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Hc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Hc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(cc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=sc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===b||e.$$typeof===k||e.$$typeof===y)},t.typeOf=w},441:function(e,t,n){"use strict";e.exports=n(372)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,v(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),R(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=R(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=R(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:_};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.1.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(N){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=I(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var b={};s(b,a,(function(){return this}));var k=Object.getPrototypeOf,w=k&&k(k(R([])));w&&w!==n&&r.call(w,a)&&(b=w);var x=g.prototype=m.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function R(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(S.prototype),s(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=R,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:R(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,O(x);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!R());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,I=null,E=-1,T=5,C=-1;function R(){return!(t.unstable_now()-C<T)}function A(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?_():(S=!1,I=null)}}else S=!1}if("function"===typeof b)_=function(){b(A)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,P=N.port2;N.port1.onmessage=A,_=function(){P.postMessage(null)}}else _=function(){y(A,0)};function O(e){I=e,S||(S=!0,_())}function D(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,O(x))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},559:function(e,t,n){"use strict";var r=n(246),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(b){}}}}return t}},318:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===b||e.$$typeof===k||e.$$typeof===y)},t.typeOf=w},246:function(e,t,n){"use strict";e.exports=n(318)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".9d576594.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="instagram-clone:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkinstagram_clone=self.webpackChunkinstagram_clone||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return bi},SDK_VERSION:function(){return La},_DEFAULT_ENTRY_NAME:function(){return xa},_addComponent:function(){return Ea},_addOrOverwriteComponent:function(){return Ta},_apps:function(){return Sa},_clearComponents:function(){return Na},_components:function(){return Ia},_getProvider:function(){return Ra},_registerComponent:function(){return Ca},_removeServiceInstance:function(){return Aa},deleteApp:function(){return Va},getApp:function(){return Fa},getApps:function(){return Ua},initializeApp:function(){return Ma},onLog:function(){return Ba},registerVersion:function(){return za},setLogLevel:function(){return qa}});var t=n(791),r=n.t(t,2),i=n(250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||u(e,t)||s()}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function h(e,t){if(null==e)return{};var n,r,i=f(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=d(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function p(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=d(e))&&(r&&(r+=" "),r+=t);return r}var v=n(559),m=n.n(v),y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g="object"===("undefined"===typeof window?"undefined":y(window))&&"object"===("undefined"===typeof document?"undefined":y(document))&&9===document.nodeType;function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function w(e,t){return w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},w(e,t)}function x(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,w(e,t)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var S={}.constructor;function I(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(I);if(e.constructor!==S)return e;var t={};for(var n in e)t[n]=I(e[n]);return t}function E(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=I(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var T=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},C=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=T(e[r]," ");else n=T(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function R(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function A(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function N(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;!1===n.format&&(a=-1/0);var u=R(n),s=u.linebreak,c=u.space;if(e&&a++,o)if(Array.isArray(o))for(var l=0;l<o.length;l++){var f=o[l];for(var h in f){var d=f[h];null!=d&&(r&&(r+=s),r+=A(h+":"+c+C(d)+";",a))}}else for(var p in o){var v=o[p];null!=v&&(r&&(r+=s),r+=A(p+":"+c+C(v)+";",a))}for(var m in t){var y=t[m];null!=y&&"fallbacks"!==m&&(r&&(r+=s),r+=A(m+":"+c+C(y)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r=""+s+r+s),A(""+e+c+"{"+r,--a)+A("}",a)):r}var P=/([[\].#*$><+~=|^:(),"'`\s])/g,O="undefined"!==typeof CSS&&CSS.escape,D=function(e){return O?O(e):e.replace(P,"\\$1")},L=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var u=a&&o;if(u?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var s=this.options.sheet;return s&&s.attached,this},e}(),M=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=r.selector,o=r.scoped,u=r.sheet,s=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=s(_(_(i)),u),i.selectorText="."+D(i.id)),i}x(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=C(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?l({},e,{allowEmpty:!0}):e;return N(this.selectorText,this.style,n)},k(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(L),F={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new M(e,t,n)}},U={indent:1,children:!0},V=/@([\w-]+)/,j=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(V);for(var i in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new le(l({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=U);var t=R(e).linebreak;if(null==e.indent&&(e.indent=U.indent),null==e.children&&(e.children=U.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),z=/@media|@supports\s+/,B={onCreateRule:function(e,t,n){return z.test(e)?new j(e,t,n):null}},q={indent:1,children:!0},W=/@keyframes\s+([\w-]+)/,K=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(W);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,a=n.sheet,o=n.generateId;for(var u in this.id=!1===i?this.name:D(o(this,a)),this.rules=new le(l({},n,{parent:this})),t)this.rules.add(u,t[u],l({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=q);var t=R(e).linebreak;if(null==e.indent&&(e.indent=q.indent),null==e.children&&(e.children=q.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),G=/@keyframes\s+/,H=/\$([\w-]+)/g,$=function(e,t){return"string"===typeof e?e.replace(H,(function(e,n){return n in t?t[n]:e})):e},Q=function(e,t,n){var r=e[t],i=$(r,n);i!==r&&(e[t]=i)},Y={onCreateRule:function(e,t,n){return"string"===typeof e&&G.test(e)?new K(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&Q(e,"animation-name",n.keyframes),"animation"in e&&Q(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return $(e,r.keyframes);default:return e}}},X=function(e){function t(){return e.apply(this,arguments)||this}return x(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?l({},e,{allowEmpty:!0}):e;return N(this.key,this.style,n)},t}(L),J={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new X(e,t,n):null}},Z=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=R(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=N(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return N(this.at,this.style,e)},e}(),ee=/@font-face/,te={onCreateRule:function(e,t,n){return ee.test(e)?new Z(e,t,n):null}},ne=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return N(this.key,this.style,e)},e}(),re={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new ne(e,t,n):null}},ie=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),ae={"@charset":!0,"@import":!0,"@namespace":!0},oe={onCreateRule:function(e,t,n){return e in ae?new ie(e,t,n):null}},ue=[F,B,Y,J,te,re,oe],se={process:!0},ce={force:!0,process:!0},le=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,i=r.parent,a=r.sheet,o=r.jss,u=r.Renderer,s=r.generateId,c=r.scoped,f=l({classes:this.classes,parent:i,sheet:a,jss:o,Renderer:u,generateId:s,scoped:c,name:e,keyframes:this.keyframes,selector:void 0},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(f.selector="."+D(this.classes[h]));var d=E(h,t,f);if(!d)return null;this.register(d);var p=void 0===f.index?this.index.length:f.index;return this.index.splice(p,0,d),d},t.replace=function(e,t,n){var r=this.get(e),i=this.index.indexOf(r);r&&this.remove(r);var a=n;return-1!==i&&(a=l({},n,{index:i})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof M?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof K&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof M?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof K&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=se);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var u=t.style;if(a.onUpdate(n,t,o,r),r.process&&u&&u!==t.style){for(var s in a.onProcessStyle(t.style,t,o),t.style){var c=t.style[s];c!==u[s]&&t.prop(s,c,ce)}for(var l in u){var f=t.style[l],h=u[l];null==f&&f!==h&&t.prop(l,null,ce)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=R(e).linebreak,a=0;a<this.index.length;a++){var o=this.index[a].toString(e);(o||r)&&(t&&(t+=i),t+=o)}return t},e}(),fe=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=l({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new le(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),he=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),de=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=f(t,["attached"]),i=R(r).linebreak,a="",o=0;o<this.registry.length;o++){var u=this.registry[o];null!=n&&u.attached!==n||(a&&(a+=i),a+=u.toString(r))}return a},k(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),pe=new de,ve="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),me="2f1acc6c3a606b082e5eef5e54414ffb";null==ve[me]&&(ve[me]=0);var ye=ve[me]++,ge=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+ye+i+t:a+n.key+"-"+ye+(i?"-"+i:"")+"-"+t}},be=function(e){var t;return function(){return t||(t=e()),t}},ke=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},we=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=C(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(i){return!1}return!0},xe=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},_e=function(e,t){return e.selectorText=t,e.selectorText===t},Se=be((function(){return document.querySelector("head")}));function Ie(e){var t=pe.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=Se(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var Ee=be((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),Te=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},Ce=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},Re=function(){function e(e){this.getPropertyValue=ke,this.setProperty=we,this.removeProperty=xe,this.setSelector=_e,this.hasInsertedRules=!1,this.cssRules=[],e&&pe.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=Ee();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=Ie(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else Se().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=Ce(n,t);if(!1===(i=Te(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var u=Ce(n,t),s=Te(n,o,u);return!1!==s&&(this.hasInsertedRules=!0,this.refCssRule(e,u,s),s)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof fe&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),Ae=0,Ne=function(){function e(e){this.id=Ae++,this.version="10.9.0",this.plugins=new he,this.options={id:{minify:!1},createGenerateId:ge,Renderer:g?Re:null,plugins:[]},this.generateId=ge({minify:!1});for(var t=0;t<ue.length;t++)this.plugins.use(ue[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=l({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===pe.index?0:pe.index+1);var r=new fe(e,l({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),pe.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=l({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var i=E(e,t,r);return i&&this.plugins.onProcessRule(i),i},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),Pe=function(e){return new Ne(e)},Oe="object"===typeof CSS&&null!=CSS&&"number"in CSS;function De(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=De(r);a&&(t||(t={}),t[n]=a)}}return t}Pe();function Le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=l({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}var Me={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},Fe=Me;var Ue=t.createContext(null);function Ve(){return t.useContext(Ue)}var je="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",ze=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Be=Date.now(),qe="fnValues"+Be,We="fnStyle"+ ++Be,Ke=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=E(e,{},n);return r[We]=t,r},onProcessStyle:function(e,t){if(qe in t||We in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[qe]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[We];a&&(i.style=a(e)||{});var o=i[qe];if(o)for(var u in o)i.prop(u,o[u](e),r)}}},Ge="@global",He="@global ",$e=function(){function e(e,t,n){for(var r in this.type="global",this.at=Ge,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new le(l({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),Qe=function(){function e(e,t,n){this.type="global",this.at=Ge,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(He.length);this.rule=n.jss.createRule(r,t,l({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Ye=/\s*,\s*/g;function Xe(e,t){for(var n=e.split(Ye),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Je=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Ge)return new $e(e,t,n);if("@"===e[0]&&e.substr(0,He.length)===He)return new Qe(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,i=r?r[Ge]:null;if(i){for(var a in i)t.addRule(a,i[a],l({},n,{selector:Xe(a,e.selector)}));delete r[Ge]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var i in r)if("@"===i[0]&&i.substr(0,Ge.length)===Ge){var a=Xe(i.substr(Ge.length),e.selector);t.addRule(a,r[i],l({},n,{selector:a})),delete r[i]}}(e,t))}}},Ze=/\s*,\s*/g,et=/&/g,tt=/\$([\w-]+)/g;var nt=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(Ze),r=e.split(Ze),i="",a=0;a<n.length;a++)for(var o=n[a],u=0;u<r.length;u++){var s=r[u];i&&(i+=", "),i+=-1!==s.indexOf("&")?s.replace(et,o):o+" "+s}return i}function n(e,t,n){if(n)return l({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var i=l({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete i.name,i}return{onProcessStyle:function(r,i,a){if("style"!==i.type)return r;var o,u,s=i,c=s.options.parent;for(var f in r){var h=-1!==f.indexOf("&"),d="@"===f[0];if(h||d){if(o=n(s,c,o),h){var p=t(f,s.selector);u||(u=e(c,a)),p=p.replace(tt,u);var v=s.key+"-"+f;"replaceRule"in c?c.replaceRule(v,r[f],l({},o,{selector:p})):c.addRule(v,r[f],l({},o,{selector:p}))}else d&&c.addRule(f,{},o).addRule(s.key,r[f],{selector:s.selector});delete r[f]}}return r}}},rt=/[A-Z]/g,it=/^ms-/,at={};function ot(e){return"-"+e.toLowerCase()}var ut=function(e){if(at.hasOwnProperty(e))return at[e];var t=e.replace(rt,ot);return at[e]=it.test(t)?"-"+t:t};function st(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:ut(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(st):t.fallbacks=st(e.fallbacks)),t}var ct=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=st(e[t]);return e}return st(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=ut(t);return t===r?e:(n.prop(r,e),null)}}},lt=Oe&&CSS?CSS.px:"px",ft=Oe&&CSS?CSS.ms:"ms",ht=Oe&&CSS?CSS.percent:"%";function dt(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var pt=dt({"animation-delay":ft,"animation-duration":ft,"background-position":lt,"background-position-x":lt,"background-position-y":lt,"background-size":lt,border:lt,"border-bottom":lt,"border-bottom-left-radius":lt,"border-bottom-right-radius":lt,"border-bottom-width":lt,"border-left":lt,"border-left-width":lt,"border-radius":lt,"border-right":lt,"border-right-width":lt,"border-top":lt,"border-top-left-radius":lt,"border-top-right-radius":lt,"border-top-width":lt,"border-width":lt,"border-block":lt,"border-block-end":lt,"border-block-end-width":lt,"border-block-start":lt,"border-block-start-width":lt,"border-block-width":lt,"border-inline":lt,"border-inline-end":lt,"border-inline-end-width":lt,"border-inline-start":lt,"border-inline-start-width":lt,"border-inline-width":lt,"border-start-start-radius":lt,"border-start-end-radius":lt,"border-end-start-radius":lt,"border-end-end-radius":lt,margin:lt,"margin-bottom":lt,"margin-left":lt,"margin-right":lt,"margin-top":lt,"margin-block":lt,"margin-block-end":lt,"margin-block-start":lt,"margin-inline":lt,"margin-inline-end":lt,"margin-inline-start":lt,padding:lt,"padding-bottom":lt,"padding-left":lt,"padding-right":lt,"padding-top":lt,"padding-block":lt,"padding-block-end":lt,"padding-block-start":lt,"padding-inline":lt,"padding-inline-end":lt,"padding-inline-start":lt,"mask-position-x":lt,"mask-position-y":lt,"mask-size":lt,height:lt,width:lt,"min-height":lt,"max-height":lt,"min-width":lt,"max-width":lt,bottom:lt,left:lt,top:lt,right:lt,inset:lt,"inset-block":lt,"inset-block-end":lt,"inset-block-start":lt,"inset-inline":lt,"inset-inline-end":lt,"inset-inline-start":lt,"box-shadow":lt,"text-shadow":lt,"column-gap":lt,"column-rule":lt,"column-rule-width":lt,"column-width":lt,"font-size":lt,"font-size-delta":lt,"letter-spacing":lt,"text-decoration-thickness":lt,"text-indent":lt,"text-stroke":lt,"text-stroke-width":lt,"word-spacing":lt,motion:lt,"motion-offset":lt,outline:lt,"outline-offset":lt,"outline-width":lt,perspective:lt,"perspective-origin-x":ht,"perspective-origin-y":ht,"transform-origin":ht,"transform-origin-x":ht,"transform-origin-y":ht,"transform-origin-z":ht,"transition-delay":ft,"transition-duration":ft,"vertical-align":lt,"flex-basis":lt,"shape-margin":lt,size:lt,gap:lt,grid:lt,"grid-gap":lt,"row-gap":lt,"grid-row-gap":lt,"grid-column-gap":lt,"grid-template-rows":lt,"grid-template-columns":lt,"grid-auto-rows":lt,"grid-auto-columns":lt,"box-shadow-x":lt,"box-shadow-y":lt,"box-shadow-blur":lt,"box-shadow-spread":lt,"font-line-height":lt,"text-shadow-x":lt,"text-shadow-y":lt,"text-shadow-blur":lt});function vt(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=vt(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=vt(i,t[i],n);else for(var a in t)t[a]=vt(e+"-"+a,t[a],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||pt[e];return!o||0===t&&o===lt?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var mt=function(e){void 0===e&&(e={});var t=dt(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=vt(r,e[r],t);return e},onChangeValue:function(e,n){return vt(n,e,t)}}};function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gt(e,t){if(e){if("string"===typeof e)return yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yt(e,t):void 0}}function bt(e){return function(e){if(Array.isArray(e))return yt(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||gt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var kt="",wt="",xt="",_t="",St=g&&"ontouchstart"in document.documentElement;if(g){var It={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},Et=document.createElement("p").style;for(var Tt in It)if(Tt+"Transform"in Et){kt=Tt,wt=It[Tt];break}"Webkit"===kt&&"msHyphens"in Et&&(kt="ms",wt=It.ms,_t="edge"),"Webkit"===kt&&"-apple-trailing-word"in Et&&(xt="apple")}var Ct=kt,Rt=wt,At=xt,Nt=_t,Pt=St;var Ot={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===Ct?"-webkit-"+e:Rt+e)}},Dt={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===Ct?Rt+"print-"+e:e)}},Lt=/[-\s]+(.)?/g;function Mt(e,t){return t?t.toUpperCase():""}function Ft(e){return e.replace(Lt,Mt)}function Ut(e){return Ft("-"+e)}var Vt,jt={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===Ct){var n="mask-image";if(Ft(n)in t)return e;if(Ct+Ut(n)in t)return Rt+e}return e}},zt={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==At||Pt?e:Rt+e)}},Bt={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:Rt+e)}},qt={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:Rt+e)}},Wt={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===Ct||"ms"===Ct&&"edge"!==Nt?Rt+e:e)}},Kt={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===Ct||"ms"===Ct||"apple"===At?Rt+e:e)}},Gt={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===Ct?"WebkitColumn"+Ut(e)in t&&Rt+"column-"+e:"Moz"===Ct&&("page"+Ut(e)in t&&"page-"+e))}},Ht={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===Ct)return e;var n=e.replace("-inline","");return Ct+Ut(n)in t&&Rt+n}},$t={supportedProperty:function(e,t){return Ft(e)in t&&e}},Qt={supportedProperty:function(e,t){var n=Ut(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:Ct+n in t?Rt+e:"Webkit"!==Ct&&"Webkit"+n in t&&"-webkit-"+e}},Yt={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===Ct?""+Rt+e:e)}},Xt={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===Ct?Rt+"scroll-chaining":e)}},Jt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Zt={supportedProperty:function(e,t){var n=Jt[e];return!!n&&(Ct+Ut(n)in t&&Rt+n)}},en={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},tn=Object.keys(en),nn=function(e){return Rt+e},rn={supportedProperty:function(e,t,n){var r=n.multiple;if(tn.indexOf(e)>-1){var i=en[e];if(!Array.isArray(i))return Ct+Ut(i)in t&&Rt+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(Ct+Ut(i[0])in t))return!1;return i.map(nn)}return!1}},an=[Ot,Dt,jt,zt,Bt,qt,Wt,Kt,Gt,Ht,$t,Qt,Yt,Xt,Zt,rn],on=an.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),un=an.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,bt(t.noPrefill)),e}),[]),sn={};if(g){Vt=document.createElement("p");var cn=window.getComputedStyle(document.documentElement,"");for(var ln in cn)isNaN(ln)||(sn[cn[ln]]=cn[ln]);un.forEach((function(e){return delete sn[e]}))}function fn(e,t){if(void 0===t&&(t={}),!Vt)return e;if(null!=sn[e])return sn[e];"transition"!==e&&"transform"!==e||(t[e]=e in Vt.style);for(var n=0;n<on.length&&(sn[e]=on[n](e,Vt.style,t),!sn[e]);n++);try{Vt.style[e]=""}catch(r){return!1}return sn[e]}var hn,dn={},pn={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},vn=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function mn(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?fn(t):", "+fn(n);return r||(t||n)}function yn(e,t){var n=t;if(!hn||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=dn[r])return dn[r];try{hn.style[e]=n}catch(i){return dn[r]=!1,!1}if(pn[e])n=n.replace(vn,mn);else if(""===hn.style[e]&&("-ms-flex"===(n=Rt+n)&&(hn.style[e]="-ms-flexbox"),hn.style[e]=n,""===hn.style[e]))return dn[r]=!1,!1;return hn.style[e]="",dn[r]=n,dn[r]}g&&(hn=document.createElement("p"));var gn=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=fn(n);a&&a!==n&&(i=!0);var o=!1,u=yn(a,C(r));u&&u!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=u||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===Ct?e:"@"+Rt+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return yn(t,C(e))||e}}};var bn=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};var kn=Pe({plugins:[Ke(),Je(),nt(),ct(),mt(),"undefined"===typeof window?null:gn(),bn()]}),wn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,u=""===o?"":"".concat(o,"-"),s=0,c=function(){return s+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==ze.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(u).concat(r,"-").concat(e.key);return t.options.theme[je]&&""===o?"".concat(a,"-").concat(c()):a}return"".concat(u).concat(i).concat(c())}}(),xn={disableGeneration:!1,generateClassName:wn,jss:kn,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},_n=t.createContext(xn);var Sn=-1e9;function In(){return Sn+=1}function En(e){return En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},En(e)}function Tn(e){return e&&"object"===En(e)&&e.constructor===Object}function Cn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?l({},e):e;return Tn(e)&&Tn(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(Tn(t[i])&&i in e?r[i]=Cn(e[i],t[i],n):r[i]=t[i])})),r}function Rn(e){var t="function"===typeof e;return{create:function(n,r){var i;try{i=t?e(n):e}catch(u){throw u}if(!r||!n.overrides||!n.overrides[r])return i;var a=n.overrides[r],o=l({},i);return Object.keys(a).forEach((function(e){o[e]=Cn(o[e],a[e])})),o},options:{}}}var An={};function Nn(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=Le({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function Pn(e,t){var n=e.state,r=e.theme,i=e.stylesOptions,a=e.stylesCreator,o=e.name;if(!i.disableGeneration){var u=Fe.get(i.sheetsManager,a,r);u||(u={refs:0,staticSheet:null,dynamicStyles:null},Fe.set(i.sheetsManager,a,r,u));var s=l({},a.options,i,{theme:r,flip:"boolean"===typeof i.flip?i.flip:"rtl"===r.direction});s.generateId=s.serverGenerateClassName||s.generateClassName;var c=i.sheetsRegistry;if(0===u.refs){var f;i.sheetsCache&&(f=Fe.get(i.sheetsCache,a,r));var h=a.create(r,o);f||((f=i.jss.createStyleSheet(h,l({link:!1},s))).attach(),i.sheetsCache&&Fe.set(i.sheetsCache,a,r,f)),c&&c.add(f),u.staticSheet=f,u.dynamicStyles=De(h)}if(u.dynamicStyles){var d=i.jss.createStyleSheet(u.dynamicStyles,l({link:!0},s));d.update(t),d.attach(),n.dynamicSheet=d,n.classes=Le({baseClasses:u.staticSheet.classes,newClasses:d.classes}),c&&c.add(d)}else n.classes=u.staticSheet.classes;u.refs+=1}}function On(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function Dn(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=Fe.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(Fe.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}function Ln(e,n){var r,i=t.useRef([]),a=t.useMemo((function(){return{}}),n);i.current!==a&&(i.current=a,r=e()),t.useEffect((function(){return function(){r&&r()}}),[a])}function Mn(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.name,i=n.classNamePrefix,a=n.Component,o=n.defaultTheme,u=void 0===o?An:o,s=h(n,["name","classNamePrefix","Component","defaultTheme"]),c=Rn(e),f=r||i||"makeStyles";c.options={index:In(),name:r,meta:f,classNamePrefix:f};var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Ve()||u,i=l({},t.useContext(_n),s),o=t.useRef(),f=t.useRef();Ln((function(){var t={name:r,state:{},stylesCreator:c,stylesOptions:i,theme:n};return Pn(t,e),f.current=!1,o.current=t,function(){Dn(t)}}),[n,c]),t.useEffect((function(){f.current&&On(o.current,e),f.current=!0}));var h=Nn(o.current,e.classes,a);return h};return d}function Fn(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,a=t.props[n];for(i in a)void 0===r[i]&&(r[i]=a[i]);return r}var Un=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){var i=n.defaultTheme,a=n.withTheme,o=void 0!==a&&a,u=n.name,s=h(n,["defaultTheme","withTheme","name"]);var c=u,f=Mn(e,l({defaultTheme:i,Component:r,name:u||r.displayName,classNamePrefix:c},s)),d=t.forwardRef((function(e,n){e.classes;var a,s=e.innerRef,c=h(e,["classes","innerRef"]),d=f(l({},r.defaultProps,e)),p=c;return("string"===typeof u||o)&&(a=Ve()||i,u&&(p=Fn({theme:a,name:u,props:c})),o&&!p.theme&&(p.theme=a)),t.createElement(r,l({ref:s||n,classes:d},p))}));return m()(d,r),d}},Vn=["xs","sm","md","lg","xl"];function jn(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=h(e,["values","unit","step"]);function s(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function c(e,t){var r=Vn.indexOf(t);return r===Vn.length-1?s(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[Vn[r+1]]?n[Vn[r+1]]:t)-o/100).concat(i,")")}return l({keys:Vn,values:n,up:s,down:function(e){var t=Vn.indexOf(e)+1,r=n[Vn[t]];return t===Vn.length?s("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-o/100).concat(i,")")},between:c,only:function(e){return c(e,e)},width:function(e){return n[e]}},u)}function zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bn(e,t,n){var r;return l({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),l({paddingLeft:t(2),paddingRight:t(2)},n,zn({},e.up("sm"),l({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},zn(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),zn(r,e.up("sm"),{minHeight:64}),r)},n)}function qn(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}var Wn={black:"#000",white:"#fff"},Kn={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},Gn={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},Hn={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},$n={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Qn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Yn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Xn={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function Jn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Zn(e){if(e.type)return e;if("#"===e.charAt(0))return Zn(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(qn(3,e));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map((function(e){return parseFloat(e)}))}}function er(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function tr(e){var t="hsl"===(e=Zn(e)).type?Zn(function(e){var t=(e=Zn(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),er({type:u,values:s})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function nr(e,t){return e=Zn(e),t=Jn(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,er(e)}function rr(e,t){if(e=Zn(e),t=Jn(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return er(e)}function ir(e,t){if(e=Zn(e),t=Jn(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return er(e)}var ar={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Wn.white,default:Kn[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},or={text:{primary:Wn.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:Kn[800],default:"#303030"},action:{active:Wn.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function ur(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=ir(e.main,i):"dark"===t&&(e.dark=rr(e.main,a)))}function sr(e){var t=e.primary,n=void 0===t?{light:Gn[300],main:Gn[500],dark:Gn[700]}:t,r=e.secondary,i=void 0===r?{light:Hn.A200,main:Hn.A400,dark:Hn.A700}:r,a=e.error,o=void 0===a?{light:$n[300],main:$n[500],dark:$n[700]}:a,u=e.warning,s=void 0===u?{light:Qn[300],main:Qn[500],dark:Qn[700]}:u,c=e.info,f=void 0===c?{light:Yn[300],main:Yn[500],dark:Yn[700]}:c,d=e.success,p=void 0===d?{light:Xn[300],main:Xn[500],dark:Xn[700]}:d,v=e.type,m=void 0===v?"light":v,y=e.contrastThreshold,g=void 0===y?3:y,b=e.tonalOffset,k=void 0===b?.2:b,w=h(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function x(e){var t=function(e,t){var n=tr(e),r=tr(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,or.text.primary)>=g?or.text.primary:ar.text.primary;return t}var _=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=l({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(qn(4,t));if("string"!==typeof e.main)throw new Error(qn(5,JSON.stringify(e.main)));return ur(e,"light",n,k),ur(e,"dark",r,k),e.contrastText||(e.contrastText=x(e.main)),e},S={dark:or,light:ar};return Cn(l({common:Wn,type:m,primary:_(n),secondary:_(i,"A400","A200","A700"),error:_(o),warning:_(s),info:_(f),success:_(p),grey:Kn,contrastThreshold:g,getContrastText:x,augmentColor:_,tonalOffset:k},S[m]),w)}function cr(e){return Math.round(1e5*e)/1e5}function lr(e){return cr(e)}var fr={textTransform:"uppercase"},hr='"Roboto", "Helvetica", "Arial", sans-serif';function dr(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?hr:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,c=n.fontWeightRegular,f=void 0===c?400:c,d=n.fontWeightMedium,p=void 0===d?500:d,v=n.fontWeightBold,m=void 0===v?700:v,y=n.htmlFontSize,g=void 0===y?16:y,b=n.allVariants,k=n.pxToRem,w=h(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var x=o/14,_=k||function(e){return"".concat(e/g*x,"rem")},S=function(e,t,n,r,a){return l({fontFamily:i,fontWeight:e,fontSize:_(t),lineHeight:n},i===hr?{letterSpacing:"".concat(cr(r/t),"em")}:{},a,b)},I={h1:S(s,96,1.167,-1.5),h2:S(s,60,1.2,-.5),h3:S(f,48,1.167,0),h4:S(f,34,1.235,.25),h5:S(f,24,1.334,0),h6:S(p,20,1.6,.15),subtitle1:S(f,16,1.75,.15),subtitle2:S(p,14,1.57,.1),body1:S(f,16,1.5,.15),body2:S(f,14,1.43,.15),button:S(p,14,1.75,.4,fr),caption:S(f,12,1.66,.4),overline:S(f,12,2.66,1,fr)};return Cn(l({htmlFontSize:g,pxToRem:_,round:lr,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:f,fontWeightMedium:p,fontWeightBold:m},I),w,{clone:!1})}function pr(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var vr=["none",pr(0,2,1,-1,0,1,1,0,0,1,3,0),pr(0,3,1,-2,0,2,2,0,0,1,5,0),pr(0,3,3,-2,0,3,4,0,0,1,8,0),pr(0,2,4,-1,0,4,5,0,0,1,10,0),pr(0,3,5,-1,0,5,8,0,0,1,14,0),pr(0,3,5,-1,0,6,10,0,0,1,18,0),pr(0,4,5,-2,0,7,10,1,0,2,16,1),pr(0,5,5,-3,0,8,10,1,0,3,14,2),pr(0,5,6,-3,0,9,12,1,0,3,16,2),pr(0,6,6,-3,0,10,14,1,0,4,18,3),pr(0,6,7,-4,0,11,15,1,0,4,20,3),pr(0,7,8,-4,0,12,17,2,0,5,22,4),pr(0,7,8,-4,0,13,19,2,0,5,24,4),pr(0,7,9,-4,0,14,21,2,0,5,26,4),pr(0,8,9,-5,0,15,22,2,0,6,28,5),pr(0,8,10,-5,0,16,24,2,0,6,30,5),pr(0,8,11,-5,0,17,26,2,0,6,32,5),pr(0,9,11,-5,0,18,28,2,0,7,34,6),pr(0,9,12,-6,0,19,29,2,0,7,36,6),pr(0,10,13,-6,0,20,31,3,0,8,38,7),pr(0,10,13,-6,0,21,33,3,0,8,40,7),pr(0,10,14,-6,0,22,35,3,0,8,42,7),pr(0,11,14,-7,0,23,36,3,0,9,44,8),pr(0,11,15,-7,0,24,38,3,0,9,46,8)],mr={borderRadius:4};function yr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||gt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var gr={xs:0,sm:600,md:960,lg:1280,xl:1920},br={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(gr[e],"px)")}};var kr=function(e,t){return t?Cn(e,t,{clone:!1}):e};var wr={m:"margin",p:"padding"},xr={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},_r={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Sr=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!_r[e])return[e];e=_r[e]}var t=yr(e.split(""),2),n=t[0],r=t[1],i=wr[n],a=xr[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),Ir=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function Er(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function Tr(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function Cr(e){var t=Er(e.theme);return Object.keys(e).map((function(n){if(-1===Ir.indexOf(n))return null;var r=Tr(Sr(n),t),i=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||br;return t.reduce((function(e,i,a){return e[r.up(r.keys[a])]=n(t[a]),e}),{})}if("object"===En(t)){var i=e.theme.breakpoints||br;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}(e,i,r)})).reduce(kr,{})}Cr.propTypes={},Cr.filterProps=Ir;function Rr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Er({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var Ar={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Nr={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Pr(e){return"".concat(Math.round(e),"ms")}var Or={easing:Ar,duration:Nr,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?Nr.standard:n,i=t.easing,a=void 0===i?Ar.easeInOut:i,o=t.delay,u=void 0===o?0:o;h(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof r?r:Pr(r)," ").concat(a," ").concat("string"===typeof u?u:Pr(u))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},Dr={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Lr(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,i=void 0===r?{}:r,a=e.palette,o=void 0===a?{}:a,u=e.spacing,s=e.typography,c=void 0===s?{}:s,l=h(e,["breakpoints","mixins","palette","spacing","typography"]),f=sr(o),d=jn(n),p=Rr(u),v=Cn({breakpoints:d,direction:"ltr",mixins:Bn(d,p,i),overrides:{},palette:f,props:{},shadows:vr,typography:dr(f,c),spacing:p,shape:mr,transitions:Or,zIndex:Dr},l),m=arguments.length,y=new Array(m>1?m-1:0),g=1;g<m;g++)y[g-1]=arguments[g];return v=y.reduce((function(e,t){return Cn(e,t)}),v)}var Mr=Lr();var Fr=function(e,t){return Un(e,l({defaultTheme:Mr},t))};function Ur(e){if("string"!==typeof e)throw new Error(qn(7));return e.charAt(0).toUpperCase()+e.slice(1)}var Vr=t.forwardRef((function(e,n){var r=e.children,i=e.classes,a=e.className,o=e.color,u=void 0===o?"inherit":o,s=e.component,c=void 0===s?"svg":s,f=e.fontSize,d=void 0===f?"medium":f,v=e.htmlColor,m=e.titleAccess,y=e.viewBox,g=void 0===y?"0 0 24 24":y,b=h(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return t.createElement(c,l({className:p(i.root,a,"inherit"!==u&&i["color".concat(Ur(u))],"default"!==d&&"medium"!==d&&i["fontSize".concat(Ur(d))]),focusable:"false",viewBox:g,color:v,"aria-hidden":!m||void 0,role:m?"img":void 0,ref:n},b),r,m?t.createElement("title",null,m):null)}));Vr.muiName="SvgIcon";var jr=Fr((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(Vr);var zr=function(e,n){var r=function(n,r){return t.createElement(jr,l({ref:r},n),e)};return r.muiName=jr.muiName,t.memo(t.forwardRef(r))}(t.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));var Br=t.forwardRef((function(e,n){var r=e.alt,i=e.children,a=e.classes,o=e.className,u=e.component,s=void 0===u?"div":u,c=e.imgProps,f=e.sizes,d=e.src,v=e.srcSet,m=e.variant,y=void 0===m?"circular":m,g=h(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),b=null,k=function(e){var n=e.src,r=e.srcSet,i=t.useState(!1),a=i[0],o=i[1];return t.useEffect((function(){if(n||r){o(!1);var e=!0,t=new Image;return t.src=n,t.srcSet=r,t.onload=function(){e&&o("loaded")},t.onerror=function(){e&&o("error")},function(){e=!1}}}),[n,r]),a}({src:d,srcSet:v}),w=d||v,x=w&&"error"!==k;return b=x?t.createElement("img",l({alt:r,src:d,srcSet:v,sizes:f,className:a.img},c)):null!=i?i:w&&r?r[0]:t.createElement(zr,{className:a.fallback}),t.createElement(s,l({className:p(a.root,a.system,a[y],o,!x&&a.colorDefault),ref:n},g),b)})),qr=Fr((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},circular:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(Br);function Wr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hr(e,t,n){return t&&Gr(e.prototype,t),n&&Gr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $r(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Qr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yr(e,t){return Yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Yr(e,t)}function Xr(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yr(e,t)}function Jr(e){return Jr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Jr(e)}function Zr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ei(e){return ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ei(e)}function ti(e,t){if(t&&("object"===ei(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qr(e)}function ni(e){var t=Zr();return function(){var n,r=Jr(e);if(t){var i=Jr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ti(this,n)}}function ri(e,t,n){return ri=Zr()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Yr(i,n.prototype),i},ri.apply(null,arguments)}function ii(e){var t="function"===typeof Map?new Map:void 0;return ii=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ri(e,arguments,Jr(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Yr(n,e)},ii(e)}var ai=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},oi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ai(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ui=function(e){return function(e){var t=ai(e);return oi.encodeByteArray(t,!0)}(e).replace(/\./g,"")},si=function(e){try{return oi.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ci(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&li(n)&&(e[n]=ci(e[n],t[n]));return e}function li(e){return"__proto__"!==e}var fi=function(){function e(){var t=this;Kr(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Hr(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function hi(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ui(JSON.stringify({alg:"none",type:"JWT"})),ui(JSON.stringify(a)),""].join(".")}function di(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function pi(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function vi(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function mi(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function yi(){var e=di();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function gi(){return"object"===typeof indexedDB}var bi=function(e){Xr(n,e);var t=ni(n);function n(e,r,i){var a;return Kr(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Qr(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Qr(a),ki.prototype.create),a}return Hr(n)}(ii(Error)),ki=function(){function e(t,n,r){Kr(this,e),this.service=t,this.serviceName=n,this.errors=r}return Hr(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?wi(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new bi(n,a,t);return o}}]),e}();function wi(e,t){return e.replace(xi,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var xi=/\{\$([^}]+)}/g;function _i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Si(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Ii(u)&&Ii(s)){if(!Si(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Ii(e){return null!==e&&"object"===typeof e}function Ei(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Ti(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Ci(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Ri(e,t){var n=new Ai(e,t);return n.subscribe.bind(n)}var Ai=function(){function e(t,n){var r=this;Kr(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Hr(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=$r(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Ni),void 0===r.error&&(r.error=Ni),void 0===r.complete&&(r.complete=Ni);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Ni(){}function Pi(e){return e&&e._delegate?e._delegate:e}function Oi(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Di(e){return function(e){if(Array.isArray(e))return o(e)}(e)||Oi(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Li(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Mi(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Li(a,r,i,o,u,"next",e)}function u(e){Li(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Fi=n(757),Ui=n.n(Fi),Vi=function(){function e(t,n,r){Kr(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Hr(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),ji="[DEFAULT]",zi=function(){function e(t,n){Kr(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Hr(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new fi;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ji})}catch(s){}var t,n=$r(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ji;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Mi(Fi.mark((function e(){var t;return Fi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Di(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Di(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ji;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ji;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=$r(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=c(i.value,2),s=u[0],l=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=$r(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(GT){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Bi(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(GT){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ji;return this.component?this.component.multipleInstances?e:ji:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function Bi(e){return e===ji?void 0:e}var qi,Wi,Ki=function(){function e(t){Kr(this,e),this.name=t,this.providers=new Map}return Hr(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new zi(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Gi=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Wi||(Wi={}));var Hi={debug:Wi.DEBUG,verbose:Wi.VERBOSE,info:Wi.INFO,warn:Wi.WARN,error:Wi.ERROR,silent:Wi.SILENT},$i=Wi.INFO,Qi=(Wr(qi={},Wi.DEBUG,"log"),Wr(qi,Wi.VERBOSE,"log"),Wr(qi,Wi.INFO,"info"),Wr(qi,Wi.WARN,"warn"),Wr(qi,Wi.ERROR,"error"),qi),Yi=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Qi[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Xi=function(){function e(t){Kr(this,e),this.name=t,this._logLevel=$i,this._logHandler=Yi,this._userLogHandler=null,Gi.push(this)}return Hr(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Wi))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Hi[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wi.DEBUG].concat(t)),this._logHandler.apply(this,[this,Wi.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wi.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Wi.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wi.INFO].concat(t)),this._logHandler.apply(this,[this,Wi.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wi.WARN].concat(t)),this._logHandler.apply(this,[this,Wi.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Wi.ERROR].concat(t)),this._logHandler.apply(this,[this,Wi.ERROR].concat(t))}}]),e}();function Ji(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ji(Object(n),!0).forEach((function(t){Wr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ji(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ea,ta;var na=new WeakMap,ra=new WeakMap,ia=new WeakMap,aa=new WeakMap,oa=new WeakMap;var ua={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ra.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ia.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return la(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function sa(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ta||(ta=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(fa(this),n),la(na.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return la(e.apply(fa(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[fa(this),t].concat(r));return ia.set(a,t.sort?t.sort():[t]),la(a)}}function ca(e){return"function"===typeof e?sa(e):(e instanceof IDBTransaction&&function(e){if(!ra.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));ra.set(e,t)}}(e),t=e,(ea||(ea=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,ua):e);var t}function la(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(la(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&na.set(t,e)})).catch((function(){})),oa.set(t,e),t}(e);if(aa.has(e))return aa.get(e);var t=ca(e);return t!==e&&(aa.set(e,t),oa.set(t,e)),t}var fa=function(e){return oa.get(e)};var ha,da,pa=["get","getKey","getAll","getAllKeys","count"],va=["put","add","delete","clear"],ma=new Map;function ya(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(ma.get(t))return ma.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=va.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||pa.includes(n))){var a=function(){var e=Mi(Ui().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return ma.set(t,a),a}}}ua=function(e){return Zi(Zi({},e),{},{get:function(t,n,r){return ya(t,n)||e.get(t,n,r)},has:function(t,n){return!!ya(t,n)||e.has(t,n)}})}(ua);var ga=function(){function e(t){Kr(this,e),this.container=t}return Hr(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ba="@firebase/app",ka="0.7.33",wa=new Xi("@firebase/app"),xa="[DEFAULT]",_a=(Wr(ha={},ba,"fire-core"),Wr(ha,"@firebase/app-compat","fire-core-compat"),Wr(ha,"@firebase/analytics","fire-analytics"),Wr(ha,"@firebase/analytics-compat","fire-analytics-compat"),Wr(ha,"@firebase/app-check","fire-app-check"),Wr(ha,"@firebase/app-check-compat","fire-app-check-compat"),Wr(ha,"@firebase/auth","fire-auth"),Wr(ha,"@firebase/auth-compat","fire-auth-compat"),Wr(ha,"@firebase/database","fire-rtdb"),Wr(ha,"@firebase/database-compat","fire-rtdb-compat"),Wr(ha,"@firebase/functions","fire-fn"),Wr(ha,"@firebase/functions-compat","fire-fn-compat"),Wr(ha,"@firebase/installations","fire-iid"),Wr(ha,"@firebase/installations-compat","fire-iid-compat"),Wr(ha,"@firebase/messaging","fire-fcm"),Wr(ha,"@firebase/messaging-compat","fire-fcm-compat"),Wr(ha,"@firebase/performance","fire-perf"),Wr(ha,"@firebase/performance-compat","fire-perf-compat"),Wr(ha,"@firebase/remote-config","fire-rc"),Wr(ha,"@firebase/remote-config-compat","fire-rc-compat"),Wr(ha,"@firebase/storage","fire-gcs"),Wr(ha,"@firebase/storage-compat","fire-gcs-compat"),Wr(ha,"@firebase/firestore","fire-fst"),Wr(ha,"@firebase/firestore-compat","fire-fst-compat"),Wr(ha,"fire-js","fire-js"),Wr(ha,"firebase","fire-js-all"),ha),Sa=new Map,Ia=new Map;function Ea(e,t){try{e.container.addComponent(t)}catch(n){wa.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ta(e,t){e.container.addOrOverwriteComponent(t)}function Ca(e){var t=e.name;if(Ia.has(t))return wa.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ia.set(t,e);var n,r=$r(Sa.values());try{for(r.s();!(n=r.n()).done;){Ea(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Ra(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Aa(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xa;Ra(e,t).clearInstance(n)}function Na(){Ia.clear()}var Pa=(Wr(da={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Wr(da,"bad-app-name","Illegal App name: '{$appName}"),Wr(da,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Wr(da,"app-deleted","Firebase App named '{$appName}' already deleted"),Wr(da,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Wr(da,"invalid-log-argument","First argument to `onLog` must be null or a function."),Wr(da,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Wr(da,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Wr(da,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Wr(da,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),da),Oa=new ki("app","Firebase",Pa),Da=function(){function e(t,n,r){var i=this;Kr(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vi("app",(function(){return i}),"PUBLIC"))}return Hr(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Oa.create("app-deleted",{appName:this._name})}}]),e}(),La="9.10.0";function Ma(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:xa,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Oa.create("bad-app-name",{appName:String(i)});var a=Sa.get(i);if(a){if(Si(e,a.options)&&Si(r,a.config))return a;throw Oa.create("duplicate-app",{appName:i})}var o,u=new Ki(i),s=$r(Ia.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Da(e,r,u);return Sa.set(i,l),l}function Fa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa,t=Sa.get(e);if(!t)throw Oa.create("no-app",{appName:e});return t}function Ua(){return Array.from(Sa.values())}function Va(e){return ja.apply(this,arguments)}function ja(){return(ja=Mi(Fi.mark((function e(t){var n;return Fi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Sa.has(n)){e.next=6;break}return Sa.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function za(e,t,n){var r,i=null!==(r=_a[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void wa.warn(u.join(" "))}Ca(new Vi("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Ba(e,t){if(null!==e&&"function"!==typeof e)throw Oa.create("invalid-log-argument");!function(e,t){var n,r=$r(Gi);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Hi[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Wi[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function qa(e){var t;t=e,Gi.forEach((function(e){e.setLogLevel(t)}))}var Wa="firebase-heartbeat-store",Ka=null;function Ga(){return Ka||(Ka=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=la(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(la(u.result),e.oldVersion,e.newVersion,la(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Wa)}}).catch((function(e){throw Oa.create("idb-open",{originalErrorMessage:e.message})}))),Ka}function Ha(e){return $a.apply(this,arguments)}function $a(){return $a=Mi(Fi.mark((function e(t){var n,r,i;return Fi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ga();case 3:return r=e.sent,e.abrupt("return",r.transaction(Wa).objectStore(Wa).get(Xa(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof bi?wa.warn(e.t0.message):(i=Oa.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),wa.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),$a.apply(this,arguments)}function Qa(e,t){return Ya.apply(this,arguments)}function Ya(){return Ya=Mi(Fi.mark((function e(t,n){var r,i,a,o,u;return Fi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ga();case 3:return i=e.sent,a=i.transaction(Wa,"readwrite"),o=a.objectStore(Wa),e.next=8,o.put(n,Xa(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof bi?wa.warn(e.t0.message):(u=Oa.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),wa.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Ya.apply(this,arguments)}function Xa(e){return"".concat(e.name,"!").concat(e.options.appId)}var Ja=function(){function e(t){var n=this;Kr(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new ro(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Hr(e,[{key:"triggerHeartbeat",value:function(){var e=Mi(Fi.mark((function e(){var t,n,r;return Fi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Za(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Mi(Fi.mark((function e(){var t,n,r,i,a;return Fi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Za(),n=eo(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=ui(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Za(){return(new Date).toISOString().substring(0,10)}function eo(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=$r(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),io(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),io(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var to,no,ro=function(){function e(t){Kr(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Hr(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Mi(Fi.mark((function e(){return Fi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(gi()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Mi(Fi.mark((function e(){var t;return Fi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Ha(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Mi(Fi.mark((function e(t){var n,r;return Fi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Qa(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Mi(Fi.mark((function e(t){var n,r;return Fi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Qa(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Di(r.heartbeats),Di(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function io(e){return ui(JSON.stringify({version:2,heartbeats:e})).length}to="",Ca(new Vi("platform-logger",(function(e){return new ga(e)}),"PRIVATE")),Ca(new Vi("heartbeat",(function(e){return new Ja(e)}),"PRIVATE")),za(ba,ka,to),za(ba,ka,"esm2017"),za("fire-js","");var ao=function(){function e(t,n){var r=this;Kr(this,e),this._delegate=t,this.firebase=n,Ea(t,new Vi("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Hr(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Va(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xa;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xa;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Ea(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Ta(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),oo=(Wr(no={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Wr(no,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),no),uo=new ki("app-compat","Firebase",oo);var so=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Ma(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(_i(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:za,setLogLevel:qa,onLog:Ba,apps:null,SDK_VERSION:La,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ca(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw uo.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&ci(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!_i(n,e=e||xa))throw uo.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(ao);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ci(n,e)},createSubscribe:Ri,ErrorFactory:ki,deepExtend:ci}),n}(),co=new Xi("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){co.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var lo=self.firebase.SDK_VERSION;lo&&lo.indexOf("LITE")>=0&&co.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var fo=so;!function(e){za("@firebase/app-compat","0.1.34",e)}();function ho(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Jr(e)););return e}function po(){return po="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ho(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},po.apply(this,arguments)}fo.registerVersion("firebase","9.10.0","app-compat");var vo;function mo(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}var yo="facebook.com",go="github.com",bo="google.com",ko="password",wo="twitter.com",xo="EMAIL_SIGNIN",_o="PASSWORD_RESET",So="RECOVER_EMAIL",Io="REVERT_SECOND_FACTOR_ADDITION",Eo="VERIFY_AND_CHANGE_EMAIL",To="VERIFY_EMAIL";function Co(){return Wr({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Ro=function(){var e;return Wr(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Wr(e,"argument-error",""),Wr(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Wr(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Wr(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Wr(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Wr(e,"cordova-not-ready","Cordova framework is not ready."),Wr(e,"cors-unsupported","This browser is not supported."),Wr(e,"credential-already-in-use","This credential is already associated with a different user account."),Wr(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Wr(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Wr(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Wr(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Wr(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Wr(e,"email-already-in-use","The email address is already in use by another account."),Wr(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Wr(e,"expired-action-code","The action code has expired."),Wr(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Wr(e,"internal-error","An internal AuthError has occurred."),Wr(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Wr(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Wr(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Wr(e,"invalid-auth-event","An internal AuthError has occurred."),Wr(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Wr(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Wr(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Wr(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Wr(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Wr(e,"invalid-email","The email address is badly formatted."),Wr(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Wr(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Wr(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Wr(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Wr(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Wr(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Wr(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Wr(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Wr(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Wr(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Wr(e,"wrong-password","The password is invalid or the user does not have a password."),Wr(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Wr(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Wr(e,"invalid-provider-id","The specified provider ID is invalid."),Wr(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Wr(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Wr(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Wr(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Wr(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Wr(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Wr(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Wr(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Wr(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Wr(e,"missing-continue-uri","A continue URL must be provided in the request."),Wr(e,"missing-iframe-start","An internal AuthError has occurred."),Wr(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Wr(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Wr(e,"missing-multi-factor-info","No second factor identifier is provided."),Wr(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Wr(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Wr(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Wr(e,"app-deleted","This instance of FirebaseApp has been deleted."),Wr(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Wr(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Wr(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Wr(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Wr(e,"no-auth-event","An internal AuthError has occurred."),Wr(e,"no-such-provider","User was not linked to an account with the given provider."),Wr(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Wr(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Wr(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Wr(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Wr(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Wr(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Wr(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Wr(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Wr(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Wr(e,"rejected-credential","The request contains malformed or mismatching credentials."),Wr(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Wr(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Wr(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Wr(e,"timeout","The operation has timed out."),Wr(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Wr(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Wr(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Wr(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Wr(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Wr(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Wr(e,"unverified-email","The operation requires a verified email."),Wr(e,"user-cancelled","The user did not grant your application the permissions it requested."),Wr(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Wr(e,"user-disabled","The user account has been disabled by an administrator."),Wr(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Wr(e,"user-signed-out",""),Wr(e,"weak-password","The password must be 6 characters long or more."),Wr(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Wr(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Ao=Co,No=new ki("auth","Firebase",Co()),Po=new Xi("@firebase/auth");function Oo(e){if(Po.logLevel<=Wi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Po.error.apply(Po,["Auth (".concat(La,"): ").concat(e)].concat(n))}}function Do(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Uo.apply(void 0,[e].concat(n))}function Lo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Uo.apply(void 0,[e].concat(n))}function Mo(e,t,n){var r=Object.assign(Object.assign({},Ao()),Wr({},t,n));return new ki("auth","Firebase",r).create(t,{appName:e.name})}function Fo(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Do(e,"argument-error"),Mo(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Uo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Di(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Di(o)))}return No.create.apply(No,[e].concat(n))}function Vo(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Uo.apply(void 0,[t].concat(r))}}function jo(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Oo(t),new Error(t)}function zo(e,t){e||jo(t)}var Bo=new Map;function qo(e){zo(e instanceof Function,"Expected a class definition");var t=Bo.get(e);return t?(zo(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Bo.set(e,t),t)}function Wo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ko(){return"http:"===Go()||"https:"===Go()}function Go(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Ho=function(){function e(t,n){Kr(this,e),this.shortDelay=t,this.longDelay=n,zo(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(di())||mi()}return Hr(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ko()||vi()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function $o(e,t){zo(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Qo=function(){function e(){Kr(this,e)}return Hr(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void jo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void jo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void jo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Yo=(Wr(vo={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Wr(vo,"MISSING_CUSTOM_TOKEN","internal-error"),Wr(vo,"INVALID_IDENTIFIER","invalid-email"),Wr(vo,"MISSING_CONTINUE_URI","internal-error"),Wr(vo,"INVALID_PASSWORD","wrong-password"),Wr(vo,"MISSING_PASSWORD","internal-error"),Wr(vo,"EMAIL_EXISTS","email-already-in-use"),Wr(vo,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Wr(vo,"INVALID_IDP_RESPONSE","invalid-credential"),Wr(vo,"INVALID_PENDING_TOKEN","invalid-credential"),Wr(vo,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Wr(vo,"MISSING_REQ_TYPE","internal-error"),Wr(vo,"EMAIL_NOT_FOUND","user-not-found"),Wr(vo,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Wr(vo,"EXPIRED_OOB_CODE","expired-action-code"),Wr(vo,"INVALID_OOB_CODE","invalid-action-code"),Wr(vo,"MISSING_OOB_CODE","internal-error"),Wr(vo,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Wr(vo,"INVALID_ID_TOKEN","invalid-user-token"),Wr(vo,"TOKEN_EXPIRED","user-token-expired"),Wr(vo,"USER_NOT_FOUND","user-token-expired"),Wr(vo,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Wr(vo,"INVALID_CODE","invalid-verification-code"),Wr(vo,"INVALID_SESSION_INFO","invalid-verification-id"),Wr(vo,"INVALID_TEMPORARY_PROOF","invalid-credential"),Wr(vo,"MISSING_SESSION_INFO","missing-verification-id"),Wr(vo,"SESSION_EXPIRED","code-expired"),Wr(vo,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Wr(vo,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Wr(vo,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Wr(vo,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Wr(vo,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Wr(vo,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Wr(vo,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Wr(vo,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Wr(vo,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Wr(vo,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Wr(vo,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),vo),Xo=new Ho(3e4,6e4);function Jo(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Zo(e,t,n,r){return eu.apply(this,arguments)}function eu(){return eu=Mi(Ui().mark((function e(t,n,r,i){var a,o=arguments;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",tu(t,a,Mi(Ui().mark((function e(){var a,o,u,s;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Ei(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Qo.fetch()(au(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),eu.apply(this,arguments)}function tu(e,t,n){return nu.apply(this,arguments)}function nu(){return nu=Mi(Ui().mark((function e(t,n,r){var i,a,o,u,s,l,f,h,d,p;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Yo),n),e.prev=2,a=new ou(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw uu(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw uu(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw uu(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw uu(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Mo(t,p,d);case 34:Do(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof bi)){e.next=41;break}throw e.t0;case 41:Do(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),nu.apply(this,arguments)}function ru(e,t,n,r){return iu.apply(this,arguments)}function iu(){return iu=Mi(Ui().mark((function e(t,n,r,i){var a,o,u=arguments;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Zo(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Do(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),iu.apply(this,arguments)}function au(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?$o(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var ou=function(){function e(t){var n=this;Kr(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Lo(n.auth,"network-request-failed"))}),Xo.get())}))}return Hr(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function uu(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Lo(e,t,r);return i.customData._tokenResponse=n,i}function su(e,t){return cu.apply(this,arguments)}function cu(){return cu=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zo(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),cu.apply(this,arguments)}function lu(e,t){return fu.apply(this,arguments)}function fu(){return fu=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),fu.apply(this,arguments)}function hu(e,t){return du.apply(this,arguments)}function du(){return du=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zo(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),du.apply(this,arguments)}function pu(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function vu(){return vu=Mi(Ui().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Pi(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Vo((a=yu(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:pu(mu(a.auth_time)),issuedAtTime:pu(mu(a.iat)),expirationTime:pu(mu(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),vu.apply(this,arguments)}function mu(e){return 1e3*Number(e)}function yu(e){var t,n=c(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return Oo("JWT malformed, contained fewer than 3 sections"),null;try{var o=si(i);return o?JSON.parse(o):(Oo("Failed to decode base64 JWT payload"),null)}catch(u){return Oo("Caught error parsing JWT payload as JSON",null===(t=u)||void 0===t?void 0:t.toString()),null}}function gu(e,t){return bu.apply(this,arguments)}function bu(){return bu=Mi(Ui().mark((function e(t,n){var r=arguments;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof bi&&ku(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),bu.apply(this,arguments)}function ku(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var wu=function(){function e(t){Kr(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Hr(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Mi(Ui().mark((function t(){return Ui().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Mi(Ui().mark((function e(){var t;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),xu=function(){function e(t,n){Kr(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Hr(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=pu(this.lastLoginAt),this.creationTime=pu(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function _u(e){return Su.apply(this,arguments)}function Su(){return Su=Mi(Ui().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,gu(t,hu(r,{idToken:i}));case 6:Vo(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Tu(o.providerUserInfo):[],s=Eu(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new xu(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Su.apply(this,arguments)}function Iu(){return(Iu=Mi(Ui().mark((function e(t){var n;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Pi(t),e.next=3,_u(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eu(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Di(n),Di(t))}function Tu(e){return e.map((function(e){var t=e.providerId,n=mo(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Cu(e,t){return Ru.apply(this,arguments)}function Ru(){return Ru=Mi(Ui().mark((function e(t,n){var r;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tu(t,{},Mi(Ui().mark((function e(){var r,i,a,o,u,s;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ei({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=au(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Qo.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Ru.apply(this,arguments)}var Au=function(){function e(){Kr(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Hr(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Vo(e.idToken,"internal-error"),Vo("undefined"!==typeof e.idToken,"internal-error"),Vo("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=yu(e);return Vo(t,"internal-error"),Vo("undefined"!==typeof t.exp,"internal-error"),Vo("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Mi(Ui().mark((function e(t){var n,r=arguments;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Vo(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Mi(Ui().mark((function e(t,n){var r,i,a,o;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cu(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return jo("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Vo("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Vo("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Vo("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Nu(e,t){Vo("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Pu=function(){function e(t){Kr(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=mo(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wu(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Di(a.providerData):[],this.metadata=new xu(a.createdAt||void 0,a.lastLoginAt||void 0)}return Hr(e,[{key:"getIdToken",value:function(){var e=Mi(Ui().mark((function e(t){var n;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gu(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Vo(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return vu.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Iu.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Vo(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Vo(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Mi(Ui().mark((function e(t){var n,r,i=arguments;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,_u(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Mi(Ui().mark((function e(){var t;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,gu(this,su(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Vo(b&&_,t,"internal-error");var S=Au.fromJSON(this.name,_);Vo("string"===typeof b,t,"internal-error"),Nu(f,t.name),Nu(h,t.name),Vo("boolean"===typeof k,t,"internal-error"),Vo("boolean"===typeof w,t,"internal-error"),Nu(d,t.name),Nu(p,t.name),Nu(v,t.name),Nu(m,t.name),Nu(y,t.name),Nu(g,t.name);var I=new e({uid:b,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=Mi(Ui().mark((function t(n,r){var i,a,o,u=arguments;return Ui().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Au).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,_u(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Ou=function(){function e(){Kr(this,e),this.type="NONE",this.storage={}}return Hr(e,[{key:"_isAvailable",value:function(){var e=Mi(Ui().mark((function e(){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Mi(Ui().mark((function e(t){var n;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Mi(Ui().mark((function e(t){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Ou.type="NONE";var Du=Ou;function Lu(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Mu=function(){function e(t,n,r){Kr(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Lu(this.userKey,a.apiKey,o),this.fullPersistenceKey=Lu("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Hr(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Mi(Ui().mark((function e(){var t;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Pu._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Mi(Ui().mark((function e(t){var n;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Mi(Ui().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Ui().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(qo(Du),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Mi(Ui().mark((function e(t){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||qo(Du),u=Lu(i,n.config.apiKey,n.name),s=null,c=$r(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Pu._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Mi(Ui().mark((function e(t){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Fu(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(zu(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Uu(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(qu(t))return"Blackberry";if(Wu(t))return"Webos";if(Vu(t))return"Safari";if((t.includes("chrome/")||ju(t))&&!t.includes("edge/"))return"Chrome";if(Bu(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Uu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di();return/firefox\//i.test(e)}function Vu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ju(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di();return/crios\//i.test(e)}function zu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di();return/iemobile/i.test(e)}function Bu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di();return/android/i.test(e)}function qu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di();return/blackberry/i.test(e)}function Wu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di();return/webos/i.test(e)}function Ku(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Gu(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di();return Ku(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Hu(){return yi()&&10===document.documentMode}function $u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di();return Ku(e)||Bu(e)||Wu(e)||qu(e)||/windows phone/i.test(e)||zu(e)}function Qu(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Fu(di());break;case"Worker":t="".concat(Fu(di()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(La,"/").concat(r)}var Yu=function(){function e(t){Kr(this,e),this.auth=t,this.queue=[]}return Hr(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Mi(Ui().mark((function e(t){var n,r,i,a,o,u,s,c;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=$r(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=$r(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(l){}}}catch(f){u.e(f)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Xu=function(){function e(t,n,r){Kr(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zu(this),this.idTokenSubscription=new Zu(this),this.beforeStateQueue=new Yu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=No,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Hr(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=qo(t)),this._initializationPromise=this.queue(Mi(Ui().mark((function r(){var i,a;return Ui().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Mu.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Mi(Ui().mark((function e(){var t;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Mi(Ui().mark((function e(t){var n,r,i,a,o,u,s;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Vo(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Mi(Ui().mark((function e(t){var n;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Mi(Ui().mark((function e(t){var n;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_u(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Mi(Ui().mark((function e(){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Mi(Ui().mark((function e(t){var n;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Pi(t):null)&&Vo(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Mi(Ui().mark((function e(t){var n,r=this,i=arguments;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Vo(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Mi(Ui().mark((function e(){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Mi(Ui().mark((function e(){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Mi(Ui().mark((function n(){return Ui().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(qo(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new ki("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Mi(Ui().mark((function e(t,n){var r;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Mi(Ui().mark((function e(t){var n;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Vo(n=t&&qo(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Mu.create(this,[qo(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Mi(Ui().mark((function e(t){var n,r;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Mi(Ui().mark((function e(){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Mi(Ui().mark((function e(t){var n=this;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Mi(Ui().mark((function e(){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Vo(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Mi(Ui().mark((function e(t){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Vo(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qu(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Mi(Ui().mark((function e(){var t,n,r;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wr({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ju(e){return Pi(e)}var Zu=function(){function e(t){var n=this;Kr(this,e),this.auth=t,this.observer=null,this.addObserver=Ri((function(e){return n.observer=e}))}return Hr(e,[{key:"next",get:function(){return Vo(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function es(e,t,n){var r=Ju(e);Vo(r._canInitEmulator,r,"emulator-config-failed"),Vo(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=ts(t),o=function(e){var t=ts(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:ns(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:ns(o[1])}}(t),u=o.host,s=o.port,l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ts(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ns(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var rs=function(){function e(t,n){Kr(this,e),this.providerId=t,this.signInMethod=n}return Hr(e,[{key:"toJSON",value:function(){return jo("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return jo("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return jo("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return jo("not implemented")}}]),e}();function is(e,t){return as.apply(this,arguments)}function as(){return as=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zo(t,"POST","/v1/accounts:resetPassword",Jo(t,n)));case 1:case"end":return e.stop()}}),e)}))),as.apply(this,arguments)}function os(e,t){return us.apply(this,arguments)}function us(){return us=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),us.apply(this,arguments)}function ss(e,t){return cs.apply(this,arguments)}function cs(){return cs=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zo(t,"POST","/v1/accounts:update",Jo(t,n)));case 1:case"end":return e.stop()}}),e)}))),cs.apply(this,arguments)}function ls(e,t){return fs.apply(this,arguments)}function fs(){return fs=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ru(t,"POST","/v1/accounts:signInWithPassword",Jo(t,n)));case 1:case"end":return e.stop()}}),e)}))),fs.apply(this,arguments)}function hs(e,t){return ds.apply(this,arguments)}function ds(){return ds=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zo(t,"POST","/v1/accounts:sendOobCode",Jo(t,n)));case 1:case"end":return e.stop()}}),e)}))),ds.apply(this,arguments)}function ps(e,t){return vs.apply(this,arguments)}function vs(){return vs=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hs(t,n));case 1:case"end":return e.stop()}}),e)}))),vs.apply(this,arguments)}function ms(e,t){return ys.apply(this,arguments)}function ys(){return ys=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hs(t,n));case 1:case"end":return e.stop()}}),e)}))),ys.apply(this,arguments)}function gs(e,t){return bs.apply(this,arguments)}function bs(){return bs=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hs(t,n));case 1:case"end":return e.stop()}}),e)}))),bs.apply(this,arguments)}function ks(e,t){return ws.apply(this,arguments)}function ws(){return ws=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hs(t,n));case 1:case"end":return e.stop()}}),e)}))),ws.apply(this,arguments)}function xs(e,t){return _s.apply(this,arguments)}function _s(){return _s=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ru(t,"POST","/v1/accounts:signInWithEmailLink",Jo(t,n)));case 1:case"end":return e.stop()}}),e)}))),_s.apply(this,arguments)}function Ss(e,t){return Is.apply(this,arguments)}function Is(){return Is=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ru(t,"POST","/v1/accounts:signInWithEmailLink",Jo(t,n)));case 1:case"end":return e.stop()}}),e)}))),Is.apply(this,arguments)}var Es=function(e){Xr(n,e);var t=ni(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Kr(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Hr(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Mi(Ui().mark((function e(t){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ls(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",xs(t,{email:this._email,oobCode:this._password}));case 5:Do(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",os(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ss(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Do(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(rs);function Ts(e,t){return Cs.apply(this,arguments)}function Cs(){return Cs=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ru(t,"POST","/v1/accounts:signInWithIdp",Jo(t,n)));case 1:case"end":return e.stop()}}),e)}))),Cs.apply(this,arguments)}var Rs=function(e){Xr(n,e);var t=ni(n);function n(){var e;return Kr(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Hr(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Ts(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Ts(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Ts(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ei(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Do("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=mo(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(rs);function As(e,t){return Ns.apply(this,arguments)}function Ns(){return Ns=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zo(t,"POST","/v1/accounts:sendVerificationCode",Jo(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ns.apply(this,arguments)}function Ps(){return Ps=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ru(t,"POST","/v1/accounts:signInWithPhoneNumber",Jo(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ps.apply(this,arguments)}function Os(){return Os=Mi(Ui().mark((function e(t,n){var r;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ru(t,"POST","/v1/accounts:signInWithPhoneNumber",Jo(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw uu(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Os.apply(this,arguments)}var Ds=Wr({},"USER_NOT_FOUND","user-not-found");function Ls(){return Ls=Mi(Ui().mark((function e(t,n){var r;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ru(t,"POST","/v1/accounts:signInWithPhoneNumber",Jo(t,r),Ds));case 2:case"end":return e.stop()}}),e)}))),Ls.apply(this,arguments)}var Ms=function(e){Xr(n,e);var t=ni(n);function n(e){var r;return Kr(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Hr(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Ps.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Os.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Ls.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(rs);var Fs=function(){function e(t){var n,r,i,a,o,u;Kr(this,e);var s=Ti(Ci(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Vo(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Hr(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Ti(Ci(e)).link,n=t?Ti(Ci(t)).deep_link_id:null,r=Ti(Ci(e)).deep_link_id;return(r?Ti(Ci(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(GT){return null}}}]),e}();var Us=function(){function e(){Kr(this,e),this.providerId=e.PROVIDER_ID}return Hr(e,null,[{key:"credential",value:function(e,t){return Es._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Fs.parseLink(t);return Vo(n,"argument-error"),Es._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Us.PROVIDER_ID="password",Us.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Us.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Vs=function(){function e(t){Kr(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Hr(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),js=function(e){Xr(n,e);var t=ni(n);function n(){var e;return Kr(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Hr(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Di(this.scopes)}}]),n}(Vs),zs=function(e){Xr(n,e);var t=ni(n);function n(){return Kr(this,n),t.apply(this,arguments)}return Hr(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Vo(e.idToken||e.accessToken,"argument-error"),Rs._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Vo("providerId"in t&&"signInMethod"in t,"argument-error"),Rs._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(js),Bs=function(e){Xr(n,e);var t=ni(n);function n(){return Kr(this,n),t.call(this,"facebook.com")}return Hr(n,null,[{key:"credential",value:function(e){return Rs._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(GT){return null}}}]),n}(js);Bs.FACEBOOK_SIGN_IN_METHOD="facebook.com",Bs.PROVIDER_ID="facebook.com";var qs=function(e){Xr(n,e);var t=ni(n);function n(){var e;return Kr(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Hr(n,null,[{key:"credential",value:function(e,t){return Rs._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(GT){return null}}}]),n}(js);qs.GOOGLE_SIGN_IN_METHOD="google.com",qs.PROVIDER_ID="google.com";var Ws=function(e){Xr(n,e);var t=ni(n);function n(){return Kr(this,n),t.call(this,"github.com")}return Hr(n,null,[{key:"credential",value:function(e){return Rs._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(GT){return null}}}]),n}(js);Ws.GITHUB_SIGN_IN_METHOD="github.com",Ws.PROVIDER_ID="github.com";var Ks=function(e){Xr(n,e);var t=ni(n);function n(e,r){var i;return Kr(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Hr(n,[{key:"_getIdTokenResponse",value:function(e){return Ts(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Ts(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Ts(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(rs),Gs=function(e){Xr(n,e);var t=ni(n);function n(e){return Kr(this,n),Vo(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Hr(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Ks.fromJSON(e);return Vo(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Ks._create(r,n)}catch(i){return null}}}]),n}(Vs),Hs=function(e){Xr(n,e);var t=ni(n);function n(){return Kr(this,n),t.call(this,"twitter.com")}return Hr(n,null,[{key:"credential",value:function(e,t){return Rs._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(GT){return null}}}]),n}(js);function $s(e,t){return Qs.apply(this,arguments)}function Qs(){return Qs=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ru(t,"POST","/v1/accounts:signUp",Jo(t,n)));case 1:case"end":return e.stop()}}),e)}))),Qs.apply(this,arguments)}Hs.TWITTER_SIGN_IN_METHOD="twitter.com",Hs.PROVIDER_ID="twitter.com";var Ys=function(){function e(t){Kr(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Hr(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Mi(Ui().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Ui().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Pu._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Xs(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Mi(Ui().mark((function t(n,r,i){var a;return Ui().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Xs(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Xs(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Js(){return Js=Mi(Ui().mark((function e(t){var n,r,i,a;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ju(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Ys({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,$s(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Ys._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Js.apply(this,arguments)}var Zs=function(e){Xr(n,e);var t=ni(n);function n(e,r,i,a){var o,u;return Kr(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Qr(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Hr(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(bi);function ec(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Zs._fromErrorAndOperation(e,n,t,r);throw n}))}function tc(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function nc(e,t){return rc.apply(this,arguments)}function rc(){return rc=Mi(Ui().mark((function e(t,n){var r,i,a,o;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pi(t),e.next=3,oc(!0,r,n);case 3:return e.t0=lu,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=tc(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),rc.apply(this,arguments)}function ic(e,t){return ac.apply(this,arguments)}function ac(){return ac=Mi(Ui().mark((function e(t,n){var r,i,a=arguments;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=gu,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Ys._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),ac.apply(this,arguments)}function oc(e,t,n){return uc.apply(this,arguments)}function uc(){return(uc=Mi(Ui().mark((function e(t,n,r){var i,a;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_u(n);case 2:i=tc(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Vo(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sc(e,t){return cc.apply(this,arguments)}function cc(){return cc=Mi(Ui().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,gu(t,ec(a,o,n,t),r);case 6:return Vo((u=e.sent).idToken,a,"internal-error"),Vo(s=yu(u.idToken),a,"internal-error"),c=s.sub,Vo(t.uid===c,a,"user-mismatch"),e.abrupt("return",Ys._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&Do(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),cc.apply(this,arguments)}function lc(e,t){return fc.apply(this,arguments)}function fc(){return fc=Mi(Ui().mark((function e(t,n){var r,i,a,o,u=arguments;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,ec(t,i,n);case 4:return a=e.sent,e.next=7,Ys._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),fc.apply(this,arguments)}function hc(e,t){return dc.apply(this,arguments)}function dc(){return dc=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lc(Ju(t),n));case 1:case"end":return e.stop()}}),e)}))),dc.apply(this,arguments)}function pc(e,t){return vc.apply(this,arguments)}function vc(){return(vc=Mi(Ui().mark((function e(t,n){var r;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pi(t),e.next=3,oc(!1,r,n.providerId);case 3:return e.abrupt("return",ic(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mc(e,t){return yc.apply(this,arguments)}function yc(){return(yc=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sc(Pi(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gc(e,t){return bc.apply(this,arguments)}function bc(){return bc=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ru(t,"POST","/v1/accounts:signInWithCustomToken",Jo(t,n)));case 1:case"end":return e.stop()}}),e)}))),bc.apply(this,arguments)}function kc(){return kc=Mi(Ui().mark((function e(t,n){var r,i,a;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ju(t),e.next=3,gc(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Ys._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),kc.apply(this,arguments)}var wc=function(){function e(t,n){Kr(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Hr(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?xc._fromServerResponse(e,t):Do(e,"internal-error")}}]),e}(),xc=function(e){Xr(n,e);var t=ni(n);function n(e){var r;return Kr(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Hr(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(wc);function _c(e,t,n){var r;Vo((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Vo("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Vo(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Vo(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Sc(){return Sc=Mi(Ui().mark((function e(t,n,r){var i,a;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pi(t),a={requestType:"PASSWORD_RESET",email:n},r&&_c(i,a,r),e.next=5,ms(i,a);case 5:case"end":return e.stop()}}),e)}))),Sc.apply(this,arguments)}function Ic(){return Ic=Mi(Ui().mark((function e(t,n,r){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,is(Pi(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Ic.apply(this,arguments)}function Ec(){return Ec=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ss(Pi(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Ec.apply(this,arguments)}function Tc(e,t){return Cc.apply(this,arguments)}function Cc(){return Cc=Mi(Ui().mark((function e(t,n){var r,i,a,o;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pi(t),e.next=3,is(r,{oobCode:n});case 3:i=e.sent,Vo(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Vo(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Vo(i.mfaInfo,r,"internal-error");case 13:Vo(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=wc._fromServerResponse(Ju(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Cc.apply(this,arguments)}function Rc(){return Rc=Mi(Ui().mark((function e(t,n){var r,i;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tc(Pi(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Rc.apply(this,arguments)}function Ac(e,t,n){return Nc.apply(this,arguments)}function Nc(){return Nc=Mi(Ui().mark((function e(t,n,r){var i,a,o;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ju(t),e.next=3,$s(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Ys._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Nc.apply(this,arguments)}function Pc(){return Pc=Mi(Ui().mark((function e(t,n,r){var i,a;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pi(t),a={requestType:"EMAIL_SIGNIN",email:n},Vo(r.handleCodeInApp,i,"argument-error"),r&&_c(i,a,r),e.next=6,gs(i,a);case 6:case"end":return e.stop()}}),e)}))),Pc.apply(this,arguments)}function Oc(){return Oc=Mi(Ui().mark((function e(t,n,r){var i,a;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pi(t),Vo((a=Us.credentialWithLink(n,r||Wo()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",hc(i,a));case 4:case"end":return e.stop()}}),e)}))),Oc.apply(this,arguments)}function Dc(e,t){return Lc.apply(this,arguments)}function Lc(){return Lc=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zo(t,"POST","/v1/accounts:createAuthUri",Jo(t,n)));case 1:case"end":return e.stop()}}),e)}))),Lc.apply(this,arguments)}function Mc(){return Mc=Mi(Ui().mark((function e(t,n){var r,i,a,o;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ko()?Wo():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Dc(Pi(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Mc.apply(this,arguments)}function Fc(){return(Fc=Mi(Ui().mark((function e(t,n){var r,i,a,o;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pi(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&_c(r.auth,a,n),e.next=8,ps(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uc(){return(Uc=Mi(Ui().mark((function e(t,n,r){var i,a,o,u;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pi(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&_c(i.auth,o,r),e.next=8,ks(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vc(e,t){return jc.apply(this,arguments)}function jc(){return jc=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),jc.apply(this,arguments)}function zc(){return(zc=Mi(Ui().mark((function e(t,n){var r,i,a,o,u,s,c;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Pi(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,gu(a,Vc(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bc(e,t,n){return qc.apply(this,arguments)}function qc(){return qc=Mi(Ui().mark((function e(t,n,r){var i,a,o,u;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,gu(t,os(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),qc.apply(this,arguments)}var Wc=Hr((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Kr(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Kc=function(e){Xr(n,e);var t=ni(n);function n(e,r,i,a){var o;return Kr(this,n),(o=t.call(this,e,r,i)).username=a,o}return Hr(n)}(Wc),Gc=function(e){Xr(n,e);var t=ni(n);function n(e,r){return Kr(this,n),t.call(this,e,"facebook.com",r)}return Hr(n)}(Wc),Hc=function(e){Xr(n,e);var t=ni(n);function n(e,r){return Kr(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Hr(n)}(Kc),$c=function(e){Xr(n,e);var t=ni(n);function n(e,r){return Kr(this,n),t.call(this,e,"google.com",r)}return Hr(n)}(Wc),Qc=function(e){Xr(n,e);var t=ni(n);function n(e,r,i){return Kr(this,n),t.call(this,e,"twitter.com",r,i)}return Hr(n)}(Kc);function Yc(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=yu(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Wc(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Gc(a,i);case"github.com":return new Hc(a,i);case"google.com":return new $c(a,i);case"twitter.com":return new Qc(a,i,e.screenName||null);case"custom":case"anonymous":return new Wc(a,null);default:return new Wc(a,r,i)}}(n)}var Xc=function(){function e(t,n,r){Kr(this,e),this.type=t,this.credential=n,this.auth=r}return Hr(e,[{key:"toJSON",value:function(){return{multiFactorSession:Wr({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Jc=function(){function e(t,n,r){Kr(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Hr(e,[{key:"resolveSignIn",value:function(){var e=Mi(Ui().mark((function e(t){var n;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Ju(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return wc._fromServerResponse(r,e)}));Vo(i.mfaPendingCredential,r,"internal-error");var o=Xc._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Mi(Ui().mark((function e(t){var a,u,s;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Ys._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Vo(n.user,r,"internal-error"),e.abrupt("return",Ys._forOperation(n.user,n.operationType,u));case 17:Do(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Zc(e,t){return Zo(e,"POST","/v2/accounts/mfaEnrollment:start",Jo(e,t))}function el(e,t){return Zo(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Jo(e,t))}var tl=function(){function e(t){var n=this;Kr(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return wc._fromServerResponse(t.auth,e)})))}))}return Hr(e,[{key:"getSession",value:function(){var e=Mi(Ui().mark((function e(){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Xc,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Mi(Ui().mark((function e(t,n){var r,i,a;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,gu(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Mi(Ui().mark((function e(t){var n,r,i,a;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,gu(this.user,el(this.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),nl=new WeakMap;var rl="__sak",il=function(){function e(t,n){Kr(this,e),this.storageRetriever=t,this.type=n}return Hr(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(rl,"1"),this.storage.removeItem(rl),Promise.resolve(!0)):Promise.resolve(!1)}catch(GT){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var al=function(e){Xr(n,e);var t=ni(n);function n(){var e;return Kr(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=di();return Vu(e)||Ku(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=$u(),e._shouldAllowMigration=!0,e}return Hr(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Hu()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Mi(Ui().mark((function e(t,r){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,po(Jr(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Mi(Ui().mark((function e(t){var r;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,po(Jr(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Mi(Ui().mark((function e(t){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,po(Jr(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(il);al.type="LOCAL";var ol=al,ul=function(e){Xr(n,e);var t=ni(n);function n(){return Kr(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Hr(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(il);ul.type="SESSION";var sl=ul;function cl(e){return Promise.all(e.map(function(){var e=Mi(Ui().mark((function e(t){var n;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ll=function(){function e(t){Kr(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Hr(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Mi(Ui().mark((function e(t){var n,r,i,a,o,u,s,c;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Mi(Ui().mark((function e(t){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,cl(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function fl(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ll.receivers=[];var hl=function(){function e(t){Kr(this,e),this.target=t,this.handlers=new Set}return Hr(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Mi(Ui().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=fl("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function dl(){return window}function pl(){return"undefined"!==typeof dl().WorkerGlobalScope&&"function"===typeof dl().importScripts}function vl(){return ml.apply(this,arguments)}function ml(){return(ml=Mi(Ui().mark((function e(){var t;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function yl(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var gl="firebaseLocalStorageDb",bl="firebaseLocalStorage",kl="fbase_key",wl=function(){function e(t){Kr(this,e),this.request=t}return Hr(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function xl(e,t){return e.transaction([bl],t?"readwrite":"readonly").objectStore(bl)}function _l(){var e=indexedDB.deleteDatabase(gl);return new wl(e).toPromise()}function Sl(){var e=indexedDB.open(gl,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(bl,{keyPath:kl})}catch(r){n(r)}})),e.addEventListener("success",Mi(Ui().mark((function n(){var r;return Ui().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(bl)){n.next=12;break}return r.close(),n.next=5,_l();case 5:return n.t0=t,n.next=8,Sl();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Il(e,t,n){return El.apply(this,arguments)}function El(){return El=Mi(Ui().mark((function e(t,n,r){var i,a;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=xl(t,!0).put((Wr(i={},kl,n),Wr(i,"value",r),i)),e.abrupt("return",new wl(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),El.apply(this,arguments)}function Tl(e,t){return Cl.apply(this,arguments)}function Cl(){return Cl=Mi(Ui().mark((function e(t,n){var r,i;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xl(t,!1).get(n),e.next=3,new wl(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Cl.apply(this,arguments)}function Rl(e,t){var n=xl(e,!0).delete(t);return new wl(n).toPromise()}var Al=function(){function e(){Kr(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Hr(e,[{key:"_openDb",value:function(){var e=Mi(Ui().mark((function e(){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Sl();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Mi(Ui().mark((function e(t){var n,r;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Mi(Ui().mark((function e(){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pl()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Mi(Ui().mark((function e(){var t=this;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ll._getInstance(pl()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Mi(Ui().mark((function e(n,r){var i;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Mi(Ui().mark((function e(){var t,n,r;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vl();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new hl(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Mi(Ui().mark((function e(t){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&yl()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Mi(Ui().mark((function e(){var t;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Sl();case 5:return t=e.sent,e.next=8,Il(t,rl,"1");case 8:return e.next=10,Rl(t,rl);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Mi(Ui().mark((function e(t){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Mi(Ui().mark((function e(t,n){var r=this;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Mi(Ui().mark((function e(){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Il(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Mi(Ui().mark((function e(t){var n;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Tl(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Mi(Ui().mark((function e(t){var n=this;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Mi(Ui().mark((function e(){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Rl(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Mi(Ui().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=xl(e,!1).getAll();return new wl(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=$r(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Mi(Ui().mark((function t(){return Ui().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Al.type="LOCAL";var Nl=Al;function Pl(e,t){return Zo(e,"POST","/v2/accounts/mfaSignIn:start",Jo(e,t))}function Ol(e){return Dl.apply(this,arguments)}function Dl(){return Dl=Mi(Ui().mark((function e(t){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zo(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Dl.apply(this,arguments)}function Ll(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Lo("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Ml(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Fl=1e12,Ul=function(){function e(t){Kr(this,e),this.auth=t,this.counter=Fl,this._widgets=new Map}return Hr(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Vl(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Fl;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Fl;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Mi(Ui().mark((function e(t){var n,r;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Fl,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Vl=function(){function e(t,n,r){var i=this;Kr(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Vo(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Hr(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var jl=Ml("rcb"),zl=new Ho(3e4,6e4),Bl="https://www.google.com/recaptcha/api.js?",ql=function(){function e(){var t;Kr(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=dl().grecaptcha)||void 0===t?void 0:t.render)}return Hr(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Vo(Wl(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(dl().grecaptcha):new Promise((function(r,i){var a=dl().setTimeout((function(){i(Lo(e,"network-request-failed"))}),zl.get());dl()[jl]=function(){dl().clearTimeout(a),delete dl()[jl];var o=dl().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Lo(e,"internal-error"))},Ll("".concat(Bl,"?").concat(Ei({onload:jl,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Lo(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=dl().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Wl(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Kl=function(){function e(){Kr(this,e)}return Hr(e,[{key:"load",value:function(){var e=Mi(Ui().mark((function e(t){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Ul(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Gl="recaptcha",Hl={theme:"light",type:"image"},$l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Hl),r=arguments.length>2?arguments[2]:void 0;Kr(this,e),this.parameters=n,this.type=Gl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ju(r),this.isInvisible="invisible"===this.parameters.size,Vo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Vo(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Kl:new ql,this.validateStartingState()}return Hr(e,[{key:"verify",value:function(){var e=Mi(Ui().mark((function e(){var t,n,r,i=this;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Vo(!this.parameters.sitekey,this.auth,"argument-error"),Vo(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Vo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=dl()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Vo(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Mi(Ui().mark((function e(){var t,n;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Mi(Ui().mark((function e(){var t;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vo(Ko()&&!pl(),this.auth,"internal-error"),e.next=3,Ql();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Ol(this.auth);case 8:Vo(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Vo(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Ql(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Yl=function(){function e(t,n){Kr(this,e),this.verificationId=t,this.onConfirmation=n}return Hr(e,[{key:"confirm",value:function(e){var t=Ms._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Xl(){return Xl=Mi(Ui().mark((function e(t,n,r){var i,a;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ju(t),e.next=3,tf(i,n,Pi(r));case 3:return a=e.sent,e.abrupt("return",new Yl(a,(function(e){return hc(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Xl.apply(this,arguments)}function Jl(e,t,n){return Zl.apply(this,arguments)}function Zl(){return(Zl=Mi(Ui().mark((function e(t,n,r){var i,a;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pi(t),e.next=3,oc(!1,i,"phone");case 3:return e.next=5,tf(i.auth,n,Pi(r));case 5:return a=e.sent,e.abrupt("return",new Yl(a,(function(e){return pc(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ef(){return(ef=Mi(Ui().mark((function e(t,n,r){var i,a;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pi(t),e.next=3,tf(i.auth,n,Pi(r));case 3:return a=e.sent,e.abrupt("return",new Yl(a,(function(e){return mc(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tf(e,t,n){return nf.apply(this,arguments)}function nf(){return nf=Mi(Ui().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Vo("string"===typeof a,t,"argument-error"),Vo(r.type===Gl,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Vo("enroll"===u.type,t,"internal-error"),e.next=13,Zc(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Vo("signin"===u.type,t,"internal-error"),Vo(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Pl(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,As(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),nf.apply(this,arguments)}function rf(){return(rf=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ic(Pi(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var af=function(){function e(t){Kr(this,e),this.providerId=e.PROVIDER_ID,this.auth=Ju(t)}return Hr(e,[{key:"verifyPhoneNumber",value:function(e,t){return tf(this.auth,e,Pi(t))}}],[{key:"credential",value:function(e,t){return Ms._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Ms._fromTokenResponse(n,r):null}}]),e}();function of(e,t){return t?qo(t):(Vo(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}af.PROVIDER_ID="phone",af.PHONE_SIGN_IN_METHOD="phone";var uf=function(e){Xr(n,e);var t=ni(n);function n(e){var r;return Kr(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Hr(n,[{key:"_getIdTokenResponse",value:function(e){return Ts(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Ts(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Ts(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(rs);function sf(e){return lc(e.auth,new uf(e),e.bypassAuthState)}function cf(e){var t=e.auth,n=e.user;return Vo(n,t,"internal-error"),sc(n,new uf(e),e.bypassAuthState)}function lf(e){return ff.apply(this,arguments)}function ff(){return ff=Mi(Ui().mark((function e(t){var n,r;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Vo(r=t.user,n,"internal-error"),e.abrupt("return",ic(r,new uf(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),ff.apply(this,arguments)}var hf=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Kr(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Hr(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Mi(Ui().mark((function t(n,r){return Ui().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Mi(Ui().mark((function e(t){var n,r,i,a,o,u,s;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sf;case"linkViaPopup":case"linkViaRedirect":return lf;case"reauthViaPopup":case"reauthViaRedirect":return cf;default:Do(this.auth,"internal-error")}}},{key:"resolve",value:function(e){zo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){zo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),df=new Ho(2e3,1e4);function pf(e,t,n){return vf.apply(this,arguments)}function vf(){return vf=Mi(Ui().mark((function e(t,n,r){var i,a,o;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ju(t),Fo(t,n,Vs),a=of(i,r),o=new bf(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),vf.apply(this,arguments)}function mf(){return(mf=Mi(Ui().mark((function e(t,n,r){var i,a,o;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fo((i=Pi(t)).auth,n,Vs),a=of(i.auth,r),o=new bf(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yf(e,t,n){return gf.apply(this,arguments)}function gf(){return(gf=Mi(Ui().mark((function e(t,n,r){var i,a,o;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fo((i=Pi(t)).auth,n,Vs),a=of(i.auth,r),o=new bf(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bf=function(e){Xr(n,e);var t=ni(n);function n(e,r,i,a,o){var u;return Kr(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Qr(u),u}return Hr(n,[{key:"executeNotNull",value:function(){var e=Mi(Ui().mark((function e(){var t;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Vo(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Mi(Ui().mark((function e(){var t,n=this;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zo(1===this.filter.length,"Popup operations only handle one event"),t=fl(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Lo(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Lo(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Lo(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,df.get())}()}}]),n}(hf);bf.currentPopupAction=null;var kf=new Map,wf=function(e){Xr(n,e);var t=ni(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Kr(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Hr(n,[{key:"execute",value:function(){var e=Mi(Ui().mark((function e(){var t,r;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=kf.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,xf(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,po(Jr(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:kf.set(this.auth._key(),t);case 21:return this.bypassAuthState||kf.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Mi(Ui().mark((function e(t){var r;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",po(Jr(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",po(Jr(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Mi(Ui().mark((function e(){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(hf);function xf(e,t){return _f.apply(this,arguments)}function _f(){return _f=Mi(Ui().mark((function e(t,n){var r,i,a;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cf(n),i=Tf(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),_f.apply(this,arguments)}function Sf(e,t){return If.apply(this,arguments)}function If(){return If=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tf(t)._set(Cf(n),"true"));case 1:case"end":return e.stop()}}),e)}))),If.apply(this,arguments)}function Ef(e,t){kf.set(e._key(),t)}function Tf(e){return qo(e._redirectPersistence)}function Cf(e){return Lu("pendingRedirect",e.config.apiKey,e.name)}function Rf(e,t,n){return function(e,t,n){return Af.apply(this,arguments)}(e,t,n)}function Af(){return Af=Mi(Ui().mark((function e(t,n,r){var i,a;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ju(t),Fo(t,n,Vs),a=of(i,r),e.next=5,Sf(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),Af.apply(this,arguments)}function Nf(e,t,n){return function(e,t,n){return Pf.apply(this,arguments)}(e,t,n)}function Pf(){return(Pf=Mi(Ui().mark((function e(t,n,r){var i,a,o;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fo((i=Pi(t)).auth,n,Vs),a=of(i.auth,r),e.next=5,Sf(a,i.auth);case 5:return e.next=7,Vf(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Of(e,t,n){return function(e,t,n){return Df.apply(this,arguments)}(e,t,n)}function Df(){return(Df=Mi(Ui().mark((function e(t,n,r){var i,a,o;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fo((i=Pi(t)).auth,n,Vs),a=of(i.auth,r),e.next=5,oc(!1,i,n.providerId);case 5:return e.next=7,Sf(a,i.auth);case 7:return e.next=9,Vf(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lf(e,t){return Mf.apply(this,arguments)}function Mf(){return Mf=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ju(t)._initializationPromise;case 2:return e.abrupt("return",Ff(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Mf.apply(this,arguments)}function Ff(e,t){return Uf.apply(this,arguments)}function Uf(){return Uf=Mi(Ui().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Ju(t),a=of(i,n),o=new wf(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Uf.apply(this,arguments)}function Vf(e){return jf.apply(this,arguments)}function jf(){return(jf=Mi(Ui().mark((function e(t){var n;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fl("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zf=function(){function e(t){Kr(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Hr(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qf(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!qf(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Lo(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bf(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Bf(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Bf(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function qf(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Wf(e){return Kf.apply(this,arguments)}function Kf(){return Kf=Mi(Ui().mark((function e(t){var n,r=arguments;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Zo(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Kf.apply(this,arguments)}var Gf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hf=/^https?/;function $f(){return $f=Mi(Ui().mark((function e(t){var n,r,i,a,o;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Wf(t);case 4:n=e.sent,r=n.authorizedDomains,i=$r(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Qf(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Do(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),$f.apply(this,arguments)}function Qf(e){var t=Wo(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Hf.test(r))return!1;if(Gf.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Yf=new Ho(3e4,6e4);function Xf(){var e=dl().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Di(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Jf=null;function Zf(e){return Jf=Jf||function(e){return new Promise((function(t,n){var r,i,a;function o(){Xf(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Xf(),n(Lo(e,"network-request-failed"))},timeout:Yf.get()})}if(null===(i=null===(r=dl().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=dl().gapi)||void 0===a?void 0:a.load)){var u=Ml("iframefcb");return dl()[u]=function(){gapi.load?o():n(Lo(e,"network-request-failed"))},Ll("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Jf=null,e}))}(e),Jf}var eh=new Ho(5e3,15e3),th={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rh(e){var t=e.config;Vo(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?$o(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:La},i=nh.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Ei(r).slice(1))}function ih(e){return ah.apply(this,arguments)}function ah(){return ah=Mi(Ui().mark((function e(t){var n,r;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zf(t);case 2:return n=e.sent,Vo(r=dl().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:rh(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:th,dontclear:!0},(function(e){return new Promise(function(){var n=Mi(Ui().mark((function n(r,i){var a,o,u;return Ui().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){dl().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Lo(t,"network-request-failed"),o=dl().setTimeout((function(){i(a)}),eh.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),ah.apply(this,arguments)}var oh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uh="_blank",sh="http://localhost",ch=function(){function e(t){Kr(this,e),this.window=t,this.associatedEvent=null}return Hr(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function lh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},oh),{width:r.toString(),height:i.toString(),top:a,left:o}),l=di().toLowerCase();n&&(u=ju(l)?uh:n),Uu(l)&&(t=t||sh,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Gu(l)&&"_self"!==u)return fh(t||"",u),new ch(null);var h=window.open(t||"",u,f);Vo(h,e,"popup-blocked");try{h.focus()}catch(d){}return new ch(h)}function fh(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var hh="__/auth/handler",dh="emulator/auth/handler";function ph(e,t,n,r,i,a){Vo(e.config.authDomain,e,"auth-domain-config-required"),Vo(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:La,eventId:i};if(t instanceof Vs){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var l=c(s[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof js){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(hh);return $o(t,dh)}(e),"?").concat(Ei(p).slice(1))}var vh="webStorageSupport",mh=function(){function e(){Kr(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sl,this._completeRedirectFn=Ff,this._overrideRedirectResult=Ef}return Hr(e,[{key:"_openPopup",value:function(){var e=Mi(Ui().mark((function e(t,n,r,i){var a,o;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zo(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=ph(t,n,r,Wo(),i),e.abrupt("return",lh(t,o,fl()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Mi(Ui().mark((function e(t,n,r,i){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=ph(t,n,r,Wo(),i),dl().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(zo(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Mi(Ui().mark((function e(t){var n,r;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ih(t);case 2:return n=e.sent,r=new zf(t),n.register("authEvent",(function(e){return Vo(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(vh,{type:vh},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Do(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return $f.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return $u()||Vu()||Ku()}}]),e}(),yh=mh,gh=function(){function e(t){Kr(this,e),this.factorId=t}return Hr(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return jo("unexpected MultiFactorSessionType")}}}]),e}(),bh=function(e){Xr(n,e);var t=ni(n);function n(e){var r;return Kr(this,n),(r=t.call(this,"phone")).credential=e,r}return Hr(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Zo(e,"POST","/v2/accounts/mfaEnrollment:finalize",Jo(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Zo(e,"POST","/v2/accounts/mfaSignIn:finalize",Jo(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(gh),kh=function(){function e(){Kr(this,e)}return Hr(e,null,[{key:"assertion",value:function(e){return bh._fromCredential(e)}}]),e}();kh.FACTOR_ID="phone";var wh,xh="@firebase/auth",_h="0.20.7",Sh=function(){function e(t){Kr(this,e),this.auth=t,this.internalListeners=new Map}return Hr(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Mi(Ui().mark((function e(t){var n;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Vo(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Ih(){return window}wh="Browser",Ca(new Vi("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){Vo(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Vo(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:wh,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qu(wh)},i=new Xu(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qo);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ca(new Vi("auth-internal",(function(e){return function(e){return new Sh(e)}(Ju(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),za(xh,_h,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(wh)),za(xh,_h,"esm2017");function Eh(e,t,n){return Th.apply(this,arguments)}function Th(){return Th=Mi(Ui().mark((function e(t,n,r){var i,a,o,u,s;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ih(),o=a.BuildInfo,zo(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Oh(n.sessionId);case 4:return u=e.sent,s={},Ku()?s.ibi=o.packageName:Bu()?s.apn=o.packageName:Do(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",ph(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Th.apply(this,arguments)}function Ch(){return Ch=Mi(Ui().mark((function e(t){var n,r,i;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ih(),r=n.BuildInfo,i={},Ku()?i.iosBundleId=r.packageName:Bu()?i.androidPackageName=r.packageName:Do(t,"operation-not-supported-in-this-environment"),e.next=5,Wf(t,i);case 5:case"end":return e.stop()}}),e)}))),Ch.apply(this,arguments)}function Rh(e){var t=Ih().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Ah(e,t,n){return Nh.apply(this,arguments)}function Nh(){return Nh=Mi(Ui().mark((function e(t,n,r){var i,a,o;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ih(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Lo(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Bu()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Nh.apply(this,arguments)}function Ph(e){var t,n,r,i,a,o,u,s,c,l,f=Ih();Vo("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Vo("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Vo("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Vo("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Vo("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Oh(e){return Dh.apply(this,arguments)}function Dh(){return(Dh=Mi(Ui().mark((function e(t){var n,r,i;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Lh(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lh(e){if(zo(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Mh=function(e){Xr(n,e);var t=ni(n);function n(){var e;return Kr(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Hr(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),po(Jr(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Mi(Ui().mark((function e(){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(zf);function Fh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Bh(),postBody:null,tenantId:e.tenantId,error:Lo(e,"no-auth-event")}}function Uh(e,t){return qh()._set(Wh(e),t)}function Vh(e){return jh.apply(this,arguments)}function jh(){return jh=Mi(Ui().mark((function e(t){var n;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qh()._get(Wh(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,qh()._remove(Wh(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),jh.apply(this,arguments)}function zh(e,t){var n,r,i=function(e){var t=Kh(e),n=t.link?decodeURIComponent(t.link):void 0,r=Kh(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Kh(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Kh(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Lo(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Bh(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function qh(){return qo(ol)}function Wh(e){return Lu("authEvent",e.config.apiKey,e.name)}function Kh(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=a(t=n)||Oi(t)||u(t)||s();r[0];return Ti(r.slice(1).join("?"))}var Gh=function(){function e(){Kr(this,e),this._redirectPersistence=sl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ff,this._overrideRedirectResult=Ef}return Hr(e,[{key:"_initialize",value:function(){var e=Mi(Ui().mark((function e(t){var n,r;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Mh(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Do(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Mi(Ui().mark((function e(t,n,r,i){var a,o,u,s;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ph(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),kf.clear(),e.next=10,this._originValidation(t);case 10:return o=Fh(t,r,i),e.next=13,Uh(t,o);case 13:return e.next=15,Eh(t,o,n);case 15:return u=e.sent,e.next=18,Rh(u);case 18:return s=e.sent,e.abrupt("return",Ah(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ch.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Ih(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Mi(Ui().mark((function n(){return Ui().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Vh(e);case 2:t.onEvent($h());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Mi(Ui().mark((function n(r){var i,a;return Ui().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Vh(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=zh(i,r.url)),t.onEvent(a||$h());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");Ih().handleOpenURL=function(){var e=Mi(Ui().mark((function e(t){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Hh=Gh;function $h(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Lo("no-auth-event")}}function Qh(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Yh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di();return!("file:"!==Qh()&&"ionic:"!==Qh()&&"capacitor:"!==Qh()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xh(){return yi()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Jh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di();return/Edge\/\d+/.test(e)}function Zh(){try{var e=self.localStorage,t=fl();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di();return Xh()||Jh(e)}()||gi()}catch(n){return ed()&&gi()}return!1}function ed(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function td(){return("http:"===Qh()||"https:"===Qh()||vi()||Yh())&&!(mi()||pi())&&Zh()&&!ed()}function nd(){return Yh()&&"undefined"!==typeof document}function rd(){return id.apply(this,arguments)}function id(){return(id=Mi(Ui().mark((function e(){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nd()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ad={LOCAL:"local",NONE:"none",SESSION:"session"},od=Vo,ud="persistence";function sd(e,t){od(Object.values(ad).includes(t),e,"invalid-persistence-type"),mi()?od(t!==ad.SESSION,e,"unsupported-persistence-type"):pi()?od(t===ad.NONE,e,"unsupported-persistence-type"):ed()?od(t===ad.NONE||t===ad.LOCAL&&gi(),e,"unsupported-persistence-type"):od(t===ad.NONE||Zh(),e,"unsupported-persistence-type")}function cd(e){return ld.apply(this,arguments)}function ld(){return ld=Mi(Ui().mark((function e(t){var n,r;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=fd(),r=Lu(ud,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),ld.apply(this,arguments)}function fd(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var hd=Vo,dd=function(){function e(){Kr(this,e),this.browserResolver=qo(yh),this.cordovaResolver=qo(Hh),this.underlyingResolver=null,this._redirectPersistence=sl,this._completeRedirectFn=Ff,this._overrideRedirectResult=Ef}return Hr(e,[{key:"_initialize",value:function(){var e=Mi(Ui().mark((function e(t){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Mi(Ui().mark((function e(t,n,r,i){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Mi(Ui().mark((function e(t,n,r,i){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return nd()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return hd(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Mi(Ui().mark((function e(){var t;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,rd();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function pd(e){return e.unwrap()}function vd(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new kd(e,function(e,t){var n,r=Pi(e),i=t;return Vo(t.customData.operationType,r,"argument-error"),Vo(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Jc._fromError(r,i)}(e,t));else if(i){var a=md(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function md(e){var t=(e instanceof bi?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof bi)&&"temporaryProof"in t&&"phoneNumber"in t)return af.credentialFromResult(e);var n,r=t.providerId;if(!r||r===ko)return null;switch(r){case bo:n=qs;break;case yo:n=Bs;break;case go:n=Ws;break;case wo:n=Hs;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Ks._create(r,u):Rs._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new zs(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof bi?n.credentialFromError(e):n.credentialFromResult(e)}function yd(e,t){return t.catch((function(t){throw t instanceof bi&&vd(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,md(t)),additionalUserInfo:Yc(e),user:wd.getOrCreate(r)}}))}function gd(e,t){return bd.apply(this,arguments)}function bd(){return bd=Mi(Ui().mark((function e(t,n){var r;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return yd(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),bd.apply(this,arguments)}var kd=function(){function e(t,n){Kr(this,e),this.resolver=n,this.auth=t.wrapped()}return Hr(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return yd(pd(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),wd=function(){function e(t){Kr(this,e),this._delegate=t,this.multiFactor=function(e){var t=Pi(e);return nl.has(t)||nl.set(t,tl._fromUser(t)),nl.get(t)}(t)}return Hr(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Mi(Ui().mark((function e(t){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yd(this.auth,pc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gd(this.auth,Jl(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Mi(Ui().mark((function e(t){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yd(this.auth,yf(this._delegate,t,dd)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Mi(Ui().mark((function e(t){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cd(Ju(this.auth));case 2:return e.abrupt("return",Of(this._delegate,t,dd));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Mi(Ui().mark((function e(t){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yd(this.auth,mc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return gd(this.auth,function(e,t,n){return ef.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return yd(this.auth,function(e,t,n){return mf.apply(this,arguments)}(this._delegate,e,dd))}},{key:"reauthenticateWithRedirect",value:function(){var e=Mi(Ui().mark((function e(t){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cd(Ju(this.auth));case 2:return e.abrupt("return",Nf(this._delegate,t,dd));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Fc.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Mi(Ui().mark((function e(t){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nc(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Bc(Pi(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Bc(Pi(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return rf.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return zc.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Uc.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();wd.USER_MAP=new WeakMap;var xd=Vo,_d=function(){function e(t,n){if(Kr(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;xd(r,"invalid-api-key",{appName:t.name}),xd(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?dd:void 0;this._delegate=n.initialize({options:{persistence:Id(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Ro),this.linkUnderlyingAuth()}return Hr(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?wd.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){es(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Ec.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Tc(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Ic.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yd(this._delegate,Ac(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Mc.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Fs.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Mi(Ui().mark((function e(){var t;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xd(td(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Lf(this._delegate,dd);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",yd(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Ju(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Sd(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Sd(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Pc.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Sc.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Mi(Ui().mark((function e(t){var n,r;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sd(this._delegate,t),e.t0=t,e.next=e.t0===ad.SESSION?4:e.t0===ad.LOCAL?6:e.t0===ad.NONE?11:13;break;case 4:return n=sl,e.abrupt("break",14);case 6:return e.next=8,qo(Nl)._isAvailable();case 8:return r=e.sent,n=r?Nl:ol,e.abrupt("break",14);case 11:return n=Du,e.abrupt("break",14);case 13:return e.abrupt("return",Do("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return yd(this._delegate,function(e){return Js.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return yd(this._delegate,hc(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return yd(this._delegate,function(e,t){return kc.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return yd(this._delegate,function(e,t,n){return hc(Pi(e),Us.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return yd(this._delegate,function(e,t,n){return Oc.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return gd(this._delegate,function(e,t,n){return Xl.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Mi(Ui().mark((function e(t){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xd(td(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",yd(this._delegate,pf(this._delegate,t,dd)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Mi(Ui().mark((function e(t){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xd(td(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,cd(this._delegate);case 3:return e.abrupt("return",Rf(this._delegate,t,dd));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Rc.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Sd(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&wd.getOrCreate(e))},error:t,complete:n}}function Id(e,t){var n=function(e,t){var n=fd();if(!n)return[];var r=Lu(ud,e,t);switch(n.getItem(r)){case ad.NONE:return[Du];case ad.LOCAL:return[Nl,sl];case ad.SESSION:return[sl];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Nl)||n.push(Nl),"undefined"!==typeof window)for(var r=0,i=[ol,sl];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Du)||n.push(Du),n}_d.Persistence=ad;var Ed=function(){function e(){Kr(this,e),this.providerId="phone",this._delegate=new af(pd(fo.auth()))}return Hr(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return af.credential(e,t)}}]),e}();Ed.PHONE_SIGN_IN_METHOD=af.PHONE_SIGN_IN_METHOD,Ed.PROVIDER_ID=af.PROVIDER_ID;var Td,Cd=Vo,Rd=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fo.app();Kr(this,e),Cd(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new $l(t,n,i.auth()),this.type=this._delegate.type}return Hr(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Td=fo).INTERNAL.registerComponent(new Vi("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new _d(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:xo,PASSWORD_RESET:_o,RECOVER_EMAIL:So,REVERT_SECOND_FACTOR_ADDITION:Io,VERIFY_AND_CHANGE_EMAIL:Eo,VERIFY_EMAIL:To}},EmailAuthProvider:Us,FacebookAuthProvider:Bs,GithubAuthProvider:Ws,GoogleAuthProvider:qs,OAuthProvider:zs,SAMLAuthProvider:Gs,PhoneAuthProvider:Ed,PhoneMultiFactorGenerator:kh,RecaptchaVerifier:Rd,TwitterAuthProvider:Hs,Auth:_d,AuthCredential:rs,Error:bi}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Td.registerVersion("@firebase/auth-compat","0.2.20");var Ad,Nd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Pd={},Od=Od||{},Dd=Nd||self;function Ld(){}function Md(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Fd(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ud="closure_uid_"+(1e9*Math.random()>>>0),Vd=0;function jd(e,t,n){return e.call.apply(e.bind,arguments)}function zd(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Bd(e,t,n){return(Bd=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?jd:zd).apply(null,arguments)}function qd(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Wd(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Kd(){this.s=this.s,this.o=this.o}var Gd={};Kd.prototype.s=!1,Kd.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Ud)&&e[Ud]||(e[Ud]=++Vd)}(this);delete Gd[e]}},Kd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Hd=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function $d(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Qd(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Md(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Yd(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Yd.prototype.h=function(){this.defaultPrevented=!0};var Xd=function(){if(!Dd.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Dd.addEventListener("test",Ld,t),Dd.removeEventListener("test",Ld,t)}catch(n){}return e}();function Jd(e){return/^[\s\xa0]*$/.test(e)}var Zd=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ep(e,t){return e<t?-1:e>t?1:0}function tp(){var e=Dd.navigator;return e&&(e=e.userAgent)?e:""}function np(e){return-1!=tp().indexOf(e)}function rp(e){return rp[" "](e),e}rp[" "]=Ld;var ip,ap=np("Opera"),op=np("Trident")||np("MSIE"),up=np("Edge"),sp=up||op,cp=np("Gecko")&&!(-1!=tp().toLowerCase().indexOf("webkit")&&!np("Edge"))&&!(np("Trident")||np("MSIE"))&&!np("Edge"),lp=-1!=tp().toLowerCase().indexOf("webkit")&&!np("Edge");function fp(){var e=Dd.document;return e?e.documentMode:void 0}e:{var hp="",dp=function(){var e=tp();return cp?/rv:([^\);]+)(\)|;)/.exec(e):up?/Edge\/([\d\.]+)/.exec(e):op?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):lp?/WebKit\/(\S+)/.exec(e):ap?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(dp&&(hp=dp?dp[1]:""),op){var pp=fp();if(null!=pp&&pp>parseFloat(hp)){ip=String(pp);break e}}ip=hp}var vp,mp={};function yp(){return function(e){var t=mp;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Zd(String(ip)).split("."),n=Zd("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=ep(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||ep(0==a[2].length,0==o[2].length)||ep(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Dd.document&&op){var gp=fp();vp=gp||(parseInt(ip,10)||void 0)}else vp=void 0;var bp=vp;function kp(e,t){if(Yd.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(cp){e:{try{rp(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:wp[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&kp.X.h.call(this)}}Wd(kp,Yd);var wp={2:"touch",3:"pen",4:"mouse"};kp.prototype.h=function(){kp.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var xp="closure_listenable_"+(1e6*Math.random()|0),_p=0;function Sp(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++_p,this.ba=this.ea=!1}function Ip(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Ep(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Tp(e){var t={};for(var n in e)t[n]=e[n];return t}var Cp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rp(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Cp.length;a++)n=Cp[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ap(e){this.src=e,this.g={},this.h=0}function Np(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Hd(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Ip(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Pp(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}Ap.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Pp(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new Sp(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var Op="closure_lm_"+(1e6*Math.random()|0),Dp={};function Lp(e,t,n,r,i){if(r&&r.once)return Fp(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Lp(e,t[a],n,r,i);return null}return n=Wp(n),e&&e[xp]?e.N(t,n,Fd(r)?!!r.capture:!!r,i):Mp(e,t,n,!1,r,i)}function Mp(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Fd(i)?!!i.capture:!!i,u=Bp(e);if(u||(e[Op]=u=new Ap(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=zp;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Xd||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(jp(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Fp(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Fp(e,t[a],n,r,i);return null}return n=Wp(n),e&&e[xp]?e.O(t,n,Fd(r)?!!r.capture:!!r,i):Mp(e,t,n,!0,r,i)}function Up(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Up(e,t[a],n,r,i);else r=Fd(r)?!!r.capture:!!r,n=Wp(n),e&&e[xp]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Pp(a=e.g[t],n,r,i))&&(Ip(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Bp(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Pp(t,n,r,i)),(n=-1<e?t[e]:null)&&Vp(n))}function Vp(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[xp])Np(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(jp(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Bp(t))?(Np(n,e),0==n.h&&(n.src=null,t[Op]=null)):Ip(e)}}}function jp(e){return e in Dp?Dp[e]:Dp[e]="on"+e}function zp(e,t){if(e.ba)e=!0;else{t=new kp(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Vp(e),e=n.call(r,t)}return e}function Bp(e){return(e=e[Op])instanceof Ap?e:null}var qp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wp(e){return"function"===typeof e?e:(e[qp]||(e[qp]=function(t){return e.handleEvent(t)}),e[qp])}function Kp(){Kd.call(this),this.i=new Ap(this),this.P=this,this.I=null}function Gp(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Yd(t,e);else if(t instanceof Yd)t.target=t.target||e;else{var i=t;Rp(t=new Yd(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Hp(o,r,!0,t)&&i}if(i=Hp(o=t.g=e,r,!0,t)&&i,i=Hp(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Hp(o=t.g=n[a],r,!1,t)&&i}function Hp(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&Np(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Wd(Kp,Kd),Kp.prototype[xp]=!0,Kp.prototype.removeEventListener=function(e,t,n,r){Up(this,e,t,n,r)},Kp.prototype.M=function(){if(Kp.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ip(n[r]);delete t.g[e],t.h--}}this.I=null},Kp.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Kp.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var $p=Dd.JSON.stringify;function Qp(){var e=rv,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Yp,Xp=function(){function e(){Kr(this,e),this.h=this.g=null}return Hr(e,[{key:"add",value:function(e,t){var n=Jp.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Jp=new(function(){function e(t,n){Kr(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Hr(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Zp}),(function(e){return e.reset()})),Zp=function(){function e(){Kr(this,e),this.next=this.g=this.h=null}return Hr(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function ev(e){Dd.setTimeout((function(){throw e}),0)}function tv(e,t){Yp||function(){var e=Dd.Promise.resolve(void 0);Yp=function(){e.then(iv)}}(),nv||(Yp(),nv=!0),rv.add(e,t)}var nv=!1,rv=new Xp;function iv(){for(var e;e=Qp();){try{e.h.call(e.g)}catch(n){ev(n)}var t=Jp;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}nv=!1}function av(e,t){Kp.call(this),this.h=e||1,this.g=t||Dd,this.j=Bd(this.kb,this),this.l=Date.now()}function ov(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function uv(e,t,n){if("function"===typeof e)n&&(e=Bd(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Bd(e.handleEvent,e)}return 2147483647<Number(t)?-1:Dd.setTimeout(e,t||0)}function sv(e){e.g=uv((function(){e.g=null,e.i&&(e.i=!1,sv(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Wd(av,Kp),(Ad=av.prototype).ca=!1,Ad.R=null,Ad.kb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Gp(this,"tick"),this.ca&&(ov(this),this.start()))}},Ad.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ad.M=function(){av.X.M.call(this),ov(this),delete this.g};var cv=function(e){Xr(n,e);var t=ni(n);function n(e,r){var i;return Kr(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Hr(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:sv(this)}},{key:"M",value:function(){po(Jr(n.prototype),"M",this).call(this),this.g&&(Dd.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Kd);function lv(e){Kd.call(this),this.h=e,this.g={}}Wd(lv,Kd);var fv=[];function hv(e,t,n,r){Array.isArray(n)||(n&&(fv[0]=n.toString()),n=fv);for(var i=0;i<n.length;i++){var a=Lp(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function dv(e){Ep(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Vp(e)}),e),e.g={}}function pv(){this.g=!0}function vv(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return $p(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}lv.prototype.M=function(){lv.X.M.call(this),dv(this)},lv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pv.prototype.Aa=function(){this.g=!1},pv.prototype.info=function(){};var mv={},yv=null;function gv(){return yv=yv||new Kp}function bv(e){Yd.call(this,mv.Oa,e)}function kv(e){var t=gv();Gp(t,new bv(t,e))}function wv(e,t){Yd.call(this,mv.STAT_EVENT,e),this.stat=t}function xv(e){var t=gv();Gp(t,new wv(t,e))}function _v(e,t){Yd.call(this,mv.Pa,e),this.size=t}function Sv(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Dd.setTimeout((function(){e()}),t)}mv.Oa="serverreachability",Wd(bv,Yd),mv.STAT_EVENT="statevent",Wd(wv,Yd),mv.Pa="timingevent",Wd(_v,Yd);var Iv={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},Ev={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Tv(){}function Cv(e){return e.h||(e.h=e.i())}function Rv(){}Tv.prototype.h=null;var Av,Nv={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function Pv(){Yd.call(this,"d")}function Ov(){Yd.call(this,"c")}function Dv(){}function Lv(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new lv(this),this.O=Fv,e=sp?125:void 0,this.T=new av(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Mv}function Mv(){this.i=null,this.g="",this.h=!1}Wd(Pv,Yd),Wd(Ov,Yd),Wd(Dv,Tv),Dv.prototype.g=function(){return new XMLHttpRequest},Dv.prototype.i=function(){return{}},Av=new Dv;var Fv=45e3,Uv={},Vv={};function jv(e,t,n){e.K=1,e.v=am(em(t)),e.s=n,e.P=!0,zv(e,null)}function zv(e,t){e.F=Date.now(),Kv(e),e.A=em(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),gm(n.i,"t",r),e.C=0,n=e.l.H,e.h=new Mv,e.g=by(e.l,n?t:null,!e.s),0<e.N&&(e.L=new cv(Bd(e.Ka,e,e.g),e.N)),hv(e.S,e.g,"readystatechange",e.hb),t=e.H?Tp(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),kv(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Bv(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function qv(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Wv(e,n))==Vv){4==t&&(e.o=4,xv(14),i=!1),vv(e.j,e.m,null,"[Incomplete Response]");break}if(r==Uv){e.o=4,xv(15),vv(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}vv(e.j,e.m,r,null),Yv(e,r)}Bv(e)&&r!=Vv&&r!=Uv&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,xv(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),fy(t),t.K=!0,xv(11))):(vv(e.j,e.m,n,"[Invalid Chunked Response]"),Qv(e),$v(e))}function Wv(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Vv:(n=Number(t.substring(n,r)),isNaN(n)?Uv:(r+=1)+n>t.length?Vv:(t=t.substr(r,n),e.C=r+n,t))}function Kv(e){e.V=Date.now()+e.O,Gv(e,e.O)}function Gv(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Sv(Bd(e.fb,e),t)}function Hv(e){e.B&&(Dd.clearTimeout(e.B),e.B=null)}function $v(e){0==e.l.G||e.I||py(e.l,e)}function Qv(e){Hv(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ov(e.T),dv(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Yv(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Em(n.h,e)))if(!e.J&&Em(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;dy(n),ry(n)}ly(n),xv(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Sv(Bd(n.bb,n),6e3));if(1>=Im(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else my(n,11)}else if((e.J||n.g==e)&&dy(n),!Jd(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Tm(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,im(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=gy(r,r.H?r.ka:null,r.V),d.J){Cm(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Hv(p),Kv(p)),r.g=d}else cy(r);0<n.i.length&&ay(n)}else"stop"!=a[0]&&"close"!=a[0]||my(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?my(n,7):ny(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}kv(4)}catch(a){}}function Xv(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Md(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Md(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Md(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Ad=Lv.prototype).setTimeout=function(e){this.O=e},Ad.hb=function(e){e=e.target;var t=this.L;t&&3==Ym(e)?t.l():this.Ka(e)},Ad.Ka=function(e){try{if(e==this.g)e:{var t=Ym(this.g),n=this.g.Ea(),r=this.g.aa();if(!(3>t)&&(3!=t||sp||this.g&&(this.h.h||this.g.fa()||Xm(this.g)))){this.I||4!=t||7==n||kv(8==n||0>=r?3:2),Hv(this);var i=this.g.aa();this.Y=i;t:if(Bv(this)){var a=Xm(this.g);e="";var o=a.length,u=4==Ym(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Qv(this),$v(this);var s="";break t}this.h.i=new Dd.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,i),this.i){if(this.Z&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jd(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,xv(12),Qv(this),$v(this);break e}vv(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Yv(this,i)}this.P?(qv(this,t,s),sp&&this.i&&3==t&&(hv(this.S,this.T,"tick",this.gb),this.T.start())):(vv(this.j,this.m,s,null),Yv(this,s)),4==t&&Qv(this),this.i&&!this.I&&(4==t?py(this.l,this):(this.i=!1,Kv(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,xv(12)):(this.o=0,xv(13)),Qv(this),$v(this)}}}catch(t){}},Ad.gb=function(){if(this.g){var e=Ym(this.g),t=this.g.fa();this.C<t.length&&(Hv(this),qv(this,e,t),this.i&&4!=e&&Kv(this))}},Ad.cancel=function(){this.I=!0,Qv(this)},Ad.fb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(kv(3),xv(17)),Qv(this),this.o=2,$v(this)):Gv(this,this.V-e)};var Jv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zv(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Zv){this.h=void 0!==t?t:e.h,tm(this,e.j),this.s=e.s,this.g=e.g,nm(this,e.m),this.l=e.l,t=e.i;var n=new pm;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),rm(this,n),this.o=e.o}else e&&(n=String(e).match(Jv))?(this.h=!!t,tm(this,n[1]||"",!0),this.s=om(n[2]||""),this.g=om(n[3]||"",!0),nm(this,n[4]),this.l=om(n[5]||"",!0),rm(this,n[6]||"",!0),this.o=om(n[7]||"")):(this.h=!!t,this.i=new pm(null,this.h))}function em(e){return new Zv(e)}function tm(e,t,n){e.j=n?om(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nm(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function rm(e,t,n){t instanceof pm?(e.i=t,function(e,t){t&&!e.j&&(vm(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(mm(this,t),gm(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=um(t,hm)),e.i=new pm(t,e.h))}function im(e,t,n){e.i.set(t,n)}function am(e){return im(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function om(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function um(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,sm),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function sm(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Zv.prototype.toString=function(){var e=[],t=this.j;t&&e.push(um(t,cm,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(um(t,cm,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(um(n,"/"==n.charAt(0)?fm:lm,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",um(n,dm)),e.join("")};var cm=/[#\/\?@]/g,lm=/[#\?:]/g,fm=/[#\?]/g,hm=/[#\?@]/g,dm=/#/g;function pm(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function vm(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function mm(e,t){vm(e),t=bm(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function ym(e,t){return vm(e),t=bm(e,t),e.g.has(t)}function gm(e,t,n){mm(e,t),0<n.length&&(e.i=null,e.g.set(bm(e,t),$d(n)),e.h+=n.length)}function bm(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ad=pm.prototype).add=function(e,t){vm(this),this.i=null,e=bm(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ad.forEach=function(e,t){vm(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Ad.oa=function(){vm(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Ad.W=function(e){vm(this);var t=[];if("string"===typeof e)ym(this,e)&&(t=t.concat(this.g.get(bm(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Ad.set=function(e,t){return vm(this),this.i=null,ym(this,e=bm(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ad.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},Ad.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var km=Hr((function e(t,n){Kr(this,e),this.h=t,this.g=n}));function wm(e){this.l=e||_m,Dd.PerformanceNavigationTiming?e=0<(e=Dd.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Dd.g&&Dd.g.Ga&&Dd.g.Ga()&&Dd.g.Ga().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var xm,_m=10;function Sm(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Im(e){return e.h?1:e.g?e.g.size:0}function Em(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Tm(e,t){e.g?e.g.add(t):e.h=t}function Cm(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Rm(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=$r(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return $d(e.i)}function Am(){}function Nm(){this.g=new Am}function Pm(e,t,n){var r=n||"";try{Xv(e,(function(e,n){var i=e;Fd(e)&&(i=$p(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Om(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Dm(e){this.l=e.$b||null,this.j=e.ib||!1}function Lm(e,t){Kp.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Mm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wm.prototype.cancel=function(){if(this.i=Rm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=$r(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Am.prototype.stringify=function(e){return Dd.JSON.stringify(e,void 0)},Am.prototype.parse=function(e){return Dd.JSON.parse(e,void 0)},Wd(Dm,Tv),Dm.prototype.g=function(){return new Lm(this.l,this.j)},Dm.prototype.i=(xm={},function(){return xm}),Wd(Lm,Kp);var Mm=0;function Fm(e){e.j.read().then(e.Sa.bind(e)).catch(e.ga.bind(e))}function Um(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Vm(e)}function Vm(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ad=Lm.prototype).open=function(e,t){if(this.readyState!=Mm)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Vm(this)},Ad.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Dd).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ga.bind(this))},Ad.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Um(this)),this.readyState=Mm},Ad.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Vm(this)),this.g&&(this.readyState=3,Vm(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if("undefined"!==typeof Dd.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fm(this)}else e.text().then(this.Ua.bind(this),this.ga.bind(this))},Ad.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Um(this):Vm(this),3==this.readyState&&Fm(this)}},Ad.Ua=function(e){this.g&&(this.response=this.responseText=e,Um(this))},Ad.Ta=function(e){this.g&&(this.response=e,Um(this))},Ad.ga=function(){this.g&&Um(this)},Ad.setRequestHeader=function(e,t){this.v.append(e,t)},Ad.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ad.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Lm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var jm=Dd.JSON.parse;function zm(e){Kp.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Bm,this.K=this.L=!1}Wd(zm,Kp);var Bm="",qm=/^https?$/i,Wm=["POST","PUT"];function Km(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Gm(e),$m(e)}function Gm(e){e.D||(e.D=!0,Gp(e,"complete"),Gp(e,"error"))}function Hm(e){if(e.h&&"undefined"!=typeof Od&&(!e.C[1]||4!=Ym(e)||2!=e.aa()))if(e.v&&4==Ym(e))uv(e.Ha,0,e);else if(Gp(e,"readystatechange"),4==Ym(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Jv)[1]||null;if(!a&&Dd.self&&Dd.self.location){var o=Dd.self.location.protocol;a=o.substr(0,o.length-1)}i=!qm.test(a?a.toLowerCase():"")}t=i}if(t)Gp(e,"complete"),Gp(e,"success");else{e.m=6;try{var u=2<Ym(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",Gm(e)}}finally{$m(e)}}}function $m(e,t){if(e.g){Qm(e);var n=e.g,r=e.C[0]?Ld:null;e.g=null,e.C=null,t||Gp(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Qm(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Dd.clearTimeout(e.A),e.A=null)}function Ym(e){return e.g?e.g.readyState:0}function Xm(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Bm:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(My){return null}}function Jm(e){var t="";return Ep(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Zm(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Jm(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):im(e,t,n))}function ey(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ty(e){this.Ca=0,this.i=[],this.j=new pv,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=ey("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=ey("baseRetryDelayMs",5e3,e),this.ab=ey("retryDelaySeedMs",1e4,e),this.Za=ey("forwardChannelMaxRetries",2,e),this.ta=ey("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Yb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new wm(e&&e.concurrentRequestLimit),this.Fa=new Nm,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=e&&e.Wb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function ny(e){if(iy(e),3==e.G){var t=e.U++,n=em(e.F);im(n,"SID",e.I),im(n,"RID",t),im(n,"TYPE","terminate"),uy(e,n),(t=new Lv(e,e.j,t,void 0)).K=2,t.v=am(em(n)),n=!1,Dd.navigator&&Dd.navigator.sendBeacon&&(n=Dd.navigator.sendBeacon(t.v.toString(),"")),!n&&Dd.Image&&((new Image).src=t.v,n=!0),n||(t.g=by(t.l,null),t.g.da(t.v)),t.F=Date.now(),Kv(t)}yy(e)}function ry(e){e.g&&(fy(e),e.g.cancel(),e.g=null)}function iy(e){ry(e),e.u&&(Dd.clearTimeout(e.u),e.u=null),dy(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Dd.clearTimeout(e.m),e.m=null)}function ay(e){Sm(e.h)||e.m||(e.m=!0,tv(e.Ja,e),e.C=0)}function oy(e,t){var n;n=t?t.m:e.U++;var r=em(e.F);im(r,"SID",e.I),im(r,"RID",n),im(r,"AID",e.T),uy(e,r),e.o&&e.s&&Zm(r,e.o,e.s),n=new Lv(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=sy(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Tm(e.h,n),jv(n,r,t)}function uy(e,t){e.ia&&Ep(e.ia,(function(e,n){im(t,n,e)})),e.l&&Xv({},(function(e,n){im(t,n,e)}))}function sy(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Bd(e.l.Qa,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Pm(l,o,"req"+c+"_")}catch(Gy){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function cy(e){e.g||e.u||(e.Z=1,tv(e.Ia,e),e.A=0)}function ly(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Sv(Bd(e.Ia,e),vy(e,e.A)),e.A++,!0)}function fy(e){null!=e.B&&(Dd.clearTimeout(e.B),e.B=null)}function hy(e){e.g=new Lv(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=em(e.sa);im(t,"RID","rpc"),im(t,"SID",e.I),im(t,"CI",e.L?"0":"1"),im(t,"AID",e.T),im(t,"TYPE","xmlhttp"),uy(e,t),e.o&&e.s&&Zm(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=am(em(t)),n.s=null,n.P=!0,zv(n,e)}function dy(e){null!=e.v&&(Dd.clearTimeout(e.v),e.v=null)}function py(e,t){var n=null;if(e.g==t){dy(e),fy(e),e.g=null;var r=2}else{if(!Em(e.h,t))return;n=t.D,Cm(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Gp(r=gv(),new _v(r,n,t,i)),ay(e)}else cy(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Im(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Ya?0:e.Za))&&(e.m=Sv(Bd(e.Ja,e,t),vy(e,e.C)),e.C++,!0))}(e,t)||2==r&&ly(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:my(e,5);break;case 4:my(e,10);break;case 3:my(e,6);break;default:my(e,2)}}function vy(e,t){var n=e.Wa+Math.floor(Math.random()*e.ab);return e.l||(n*=2),n*t}function my(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Bd(e.jb,e);n||(n=new Zv("//www.google.com/images/cleardot.gif"),Dd.location&&"http"==Dd.location.protocol||tm(n,"https"),am(n)),function(e,t){var n=new pv;if(Dd.Image){var r=new Image;r.onload=qd(Om,n,r,"TestLoadImage: loaded",!0,t),r.onerror=qd(Om,n,r,"TestLoadImage: error",!1,t),r.onabort=qd(Om,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=qd(Om,n,r,"TestLoadImage: timeout",!1,t),Dd.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else xv(2);e.G=0,e.l&&e.l.va(t),yy(e),iy(e)}function yy(e){if(e.G=0,e.la=[],e.l){var t=Rm(e.h);0==t.length&&0==e.i.length||(Qd(e.la,t),Qd(e.la,e.i),e.h.i.length=0,$d(e.i),e.i.length=0),e.l.ua()}}function gy(e,t,n){var r=n instanceof Zv?em(n):new Zv(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),nm(r,r.m);else{var i=Dd.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Zv(null,void 0);r&&tm(a,r),t&&(a.g=t),i&&nm(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&im(r,n,t),im(r,"VER",e.ma),uy(e,r),r}function by(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new zm(new Dm({ib:!0})):new zm(e.ra)).L=e.H,t}function ky(){}function wy(){if(op&&!(10<=Number(bp)))throw Error("Environmental error: no available transport.")}function xy(e,t){Kp.call(this),this.g=new ty(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Xb)&&!Jd(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Jd(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Iy(this)}function _y(e){Pv.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Sy(){Ov.call(this),this.status=1}function Iy(e){this.g=e}(Ad=zm.prototype).da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Av.g(),this.C=this.u?Cv(this.u):Cv(Av),this.g.onreadystatechange=Bd(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void Km(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=$r(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Dd.FormData&&e instanceof Dd.FormData,!(0<=Hd(Wm,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,l=$r(n);try{for(l.s();!(s=l.n()).done;){var f=c(s.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Qm(this),0<this.B&&((this.K=function(e){return op&&yp()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Bd(this.qa,this)):this.A=uv(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){Km(this,u)}},Ad.qa=function(){"undefined"!=typeof Od&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gp(this,"timeout"),this.abort(8))},Ad.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Gp(this,"complete"),Gp(this,"abort"),$m(this))},Ad.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$m(this,!0)),zm.X.M.call(this)},Ad.Ha=function(){this.s||(this.F||this.v||this.l?Hm(this):this.eb())},Ad.eb=function(){Hm(this)},Ad.aa=function(){try{return 2<Ym(this)?this.g.status:-1}catch(xm){return-1}},Ad.fa=function(){try{return this.g?this.g.responseText:""}catch(xm){return""}},Ad.Ra=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),jm(t)}},Ad.Ea=function(){return this.m},Ad.Na=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ad=ty.prototype).ma=8,Ad.G=1,Ad.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Lv(this,this.j,e,void 0),n=this.s;if(this.S&&(n?Rp(n=Tp(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=sy(this,t,r),im(i=em(this.F),"RID",e),im(i,"CVER",22),this.D&&im(i,"X-HTTP-Session-Id",this.D),uy(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Jm(n)))+"&"+r:this.o&&Zm(i,this.o,n)),Tm(this.h,t),this.Xa&&im(i,"TYPE","init"),this.O?(im(i,"$req",r),im(i,"SID","null"),t.Z=!0,jv(t,i,null)):jv(t,i,r),this.G=2}}else 3==this.G&&(e?oy(this,e):0==this.i.length||Sm(this.h)||oy(this))},Ad.Ia=function(){if(this.u=null,hy(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Sv(Bd(this.cb,this),e)}},Ad.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,xv(10),ry(this),hy(this))},Ad.bb=function(){null!=this.v&&(this.v=null,ry(this),ly(this),xv(19))},Ad.jb=function(e){e?(this.j.info("Successfully pinged google.com"),xv(2)):(this.j.info("Failed to ping google.com"),xv(1))},(Ad=ky.prototype).xa=function(){},Ad.wa=function(){},Ad.va=function(){},Ad.ua=function(){},Ad.Qa=function(){},wy.prototype.g=function(e,t){return new xy(e,t)},Wd(xy,Kp),xy.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;xv(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=gy(e,null,e.V),ay(e)},xy.prototype.close=function(){ny(this.g)},xy.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=$p(e),e=n);t.i.push(new km(t.$a++,e)),3==t.G&&ay(t)},xy.prototype.M=function(){this.g.l=null,delete this.j,ny(this.g),delete this.g,xy.X.M.call(this)},Wd(_y,Pv),Wd(Sy,Ov),Wd(Iy,ky),Iy.prototype.xa=function(){Gp(this.g,"a")},Iy.prototype.wa=function(e){Gp(this.g,new _y(e))},Iy.prototype.va=function(e){Gp(this.g,new Sy(e))},Iy.prototype.ua=function(){Gp(this.g,"b")},wy.prototype.createWebChannel=wy.prototype.g,xy.prototype.send=xy.prototype.u,xy.prototype.open=xy.prototype.m,xy.prototype.close=xy.prototype.close,Iv.NO_ERROR=0,Iv.TIMEOUT=8,Iv.HTTP_ERROR=6,Ev.COMPLETE="complete",Rv.EventType=Nv,Nv.OPEN="a",Nv.CLOSE="b",Nv.ERROR="c",Nv.MESSAGE="d",Kp.prototype.listen=Kp.prototype.N,zm.prototype.listenOnce=zm.prototype.O,zm.prototype.getLastError=zm.prototype.Na,zm.prototype.getLastErrorCode=zm.prototype.Ea,zm.prototype.getStatus=zm.prototype.aa,zm.prototype.getResponseJson=zm.prototype.Ra,zm.prototype.getResponseText=zm.prototype.fa,zm.prototype.send=zm.prototype.da;var Ey=Pd.createWebChannelTransport=function(){return new wy},Ty=Pd.getStatEventTarget=function(){return gv()},Cy=Pd.ErrorCode=Iv,Ry=Pd.EventType=Ev,Ay=Pd.Event=mv,Ny=Pd.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Py=Pd.FetchXmlHttpFactory=Dm,Oy=Pd.WebChannel=Rv,Dy=Pd.XhrIo=zm,Ly="@firebase/firestore",My=function(){function e(t){Kr(this,e),this.uid=t}return Hr(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();My.UNAUTHENTICATED=new My(null),My.GOOGLE_CREDENTIALS=new My("google-credentials-uid"),My.FIRST_PARTY=new My("first-party-uid"),My.MOCK_USER=new My("mock-user");var Fy="9.10.0",Uy=new Xi("@firebase/firestore");function Vy(){return Uy.logLevel}function jy(e){if(Uy.logLevel<=Wi.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(qy);Uy.debug.apply(Uy,["Firestore (".concat(Fy,"): ").concat(e)].concat(Di(i)))}}function zy(e){if(Uy.logLevel<=Wi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(qy);Uy.error.apply(Uy,["Firestore (".concat(Fy,"): ").concat(e)].concat(Di(i)))}}function By(e){if(Uy.logLevel<=Wi.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(qy);Uy.warn.apply(Uy,["Firestore (".concat(Fy,"): ").concat(e)].concat(Di(i)))}}function qy(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Wy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Fy,") INTERNAL ASSERTION FAILED: ")+e;throw zy(t),new Error(t)}function Ky(e,t){e||Wy()}function Gy(e,t){return e}var Hy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$y=function(e){Xr(n,e);var t=ni(n);function n(e,r){var i;return Kr(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Hr(n)}(bi),Qy=Hr((function e(){var t=this;Kr(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Yy=Hr((function e(t,n){Kr(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Xy=function(){function e(){Kr(this,e)}return Hr(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(My.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Jy=function(){function e(t){Kr(this,e),this.token=t,this.changeListener=null}return Hr(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Zy=function(){function e(t){Kr(this,e),this.t=t,this.currentUser=My.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Hr(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Qy;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Qy,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Mi(Ui().mark((function e(){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){jy("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(jy("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Qy)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(jy("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Ky("string"==typeof n.accessToken),new Yy(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Ky(null===e||"string"==typeof e),new My(e)}}]),e}(),eg=function(){function e(t,n,r,i){Kr(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=My.FIRST_PARTY,this.p=new Map}return Hr(e,[{key:"I",value:function(){return this.g?this.g():(Ky(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),tg=function(){function e(t,n,r,i){Kr(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return Hr(e,[{key:"getToken",value:function(){return Promise.resolve(new eg(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(My.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),ng=Hr((function e(t){Kr(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),rg=function(){function e(t){Kr(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return Hr(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&jy("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,jy("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){jy("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):jy("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Ky("string"==typeof t.token),e.A=t.token,new ng(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function ig(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var ag=function(){function e(){Kr(this,e)}return Hr(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=ig(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function og(e,t){return e<t?-1:e>t?1:0}function ug(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function sg(e){return e+"\0"}var cg=function(){function e(t,n){if(Kr(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new $y(Hy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $y(Hy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new $y(Hy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new $y(Hy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Hr(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?og(this.nanoseconds,e.nanoseconds):og(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),lg=function(){function e(t){Kr(this,e),this.timestamp=t}return Hr(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new cg(0,0))}},{key:"max",value:function(){return new e(new cg(253402300799,999999999))}}]),e}(),fg=function(){function e(t,n,r){Kr(this,e),void 0===n?n=0:n>t.length&&Wy(),void 0===r?r=t.length-n:r>t.length-n&&Wy(),this.segments=t,this.offset=n,this.len=r}return Hr(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),hg=function(e){Xr(n,e);var t=ni(n);function n(){return Kr(this,n),t.apply(this,arguments)}return Hr(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new $y(Hy.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Di(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(fg),dg=/^[_a-zA-Z][_a-zA-Z0-9]*$/,pg=function(e){Xr(n,e);var t=ni(n);function n(){return Kr(this,n),t.apply(this,arguments)}return Hr(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return dg.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new $y(Hy.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new $y(Hy.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new $y(Hy.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new $y(Hy.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(fg),vg=function(){function e(t){Kr(this,e),this.path=t}return Hr(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===hg.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(hg.fromString(t))}},{key:"fromName",value:function(t){return new e(hg.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(hg.emptyPath())}},{key:"comparator",value:function(e,t){return hg.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new hg(t.slice()))}}]),e}(),mg=Hr((function e(t,n,r,i){Kr(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function yg(e){return e.fields.find((function(e){return 2===e.kind}))}function gg(e){return e.fields.filter((function(e){return 2!==e.kind}))}mg.UNKNOWN_ID=-1;var bg=Hr((function e(t,n){Kr(this,e),this.fieldPath=t,this.kind=n}));var kg=function(){function e(t,n){Kr(this,e),this.sequenceNumber=t,this.offset=n}return Hr(e,null,[{key:"empty",value:function(){return new e(0,_g.min())}}]),e}();function wg(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=lg.fromTimestamp(1e9===r?new cg(n+1,0):new cg(n,r));return new _g(i,vg.empty(),t)}function xg(e){return new _g(e.readTime,e.key,-1)}var _g=function(){function e(t,n,r){Kr(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Hr(e,null,[{key:"min",value:function(){return new e(lg.min(),vg.empty(),-1)}},{key:"max",value:function(){return new e(lg.max(),vg.empty(),-1)}}]),e}();function Sg(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=vg.comparator(e.documentKey,t.documentKey))?n:og(e.largestBatchId,t.largestBatchId)}var Ig="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Eg=function(){function e(){Kr(this,e),this.onCommittedListeners=[]}return Hr(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Tg(e){return Cg.apply(this,arguments)}function Cg(){return Cg=Mi(Ui().mark((function e(t){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Hy.FAILED_PRECONDITION&&t.message===Ig){e.next=2;break}throw t;case 2:jy("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Cg.apply(this,arguments)}var Rg=function(){function e(t){var n=this;Kr(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Hr(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Wy(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=$r(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Ag=function(){function e(t,n){var r=this;Kr(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new Qy,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new Og(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=Ug(e.target.error);r.P.reject(new Og(t,n))}}return Hr(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(jy("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Lg(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Og(n,t)}}}]),e}(),Ng=function(){function e(t,n,r){Kr(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(di())&&zy("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Hr(e,[{key:"F",value:function(){var e=Mi(Ui().mark((function e(t){var n=this;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return jy("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Og(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new $y(Hy.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new $y(Hy.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Og(t,n))},i.onupgradeneeded=function(e){jy("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){jy("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Mi(Ui().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Ui().mark((function e(){var n,o;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=Ag.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),Rg.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,jy("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return jy("SimpleDb","Removing database:",e),Mg(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!gi())return!1;if(e.N())return!0;var t=di(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.M)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Pg=function(){function e(t){Kr(this,e),this.U=t,this.q=!1,this.K=null}return Hr(e,[{key:"isDone",get:function(){return this.q}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.U=e}},{key:"done",value:function(){this.q=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return Mg(this.U.delete())}}]),e}(),Og=function(e){Xr(n,e);var t=ni(n);function n(e,r){var i;return Kr(this,n),(i=t.call(this,Hy.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Hr(n)}($y);function Dg(e){return"IndexedDbTransactionError"===e.name}var Lg=function(){function e(t){Kr(this,e),this.store=t}return Hr(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(jy("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(jy("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Mg(n)}},{key:"add",value:function(e){return jy("SimpleDb","ADD",this.store.name,e,e),Mg(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Mg(this.store.get(e)).next((function(n){return void 0===n&&(n=null),jy("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return jy("SimpleDb","DELETE",this.store.name,e),Mg(this.store.delete(e))}},{key:"count",value:function(){return jy("SimpleDb","COUNT",this.store.name),Mg(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Rg((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Rg((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){jy("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new Rg((function(n,r){t.onerror=function(e){var t=Ug(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new Rg((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Pg(i),o=t(i.primaryKey,i.value,a);if(o instanceof Rg){var u=o.catch((function(e){return a.done(),Rg.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return Rg.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Mg(e){return new Rg((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Ug(e.target.error);n(t)}}))}var Fg=!1;function Ug(e){var t=Ng.D(di());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new $y("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Fg||(Fg=!0,setTimeout((function(){throw r}),0)),r}}return e}var Vg=function(){function e(t,n){Kr(this,e),this.asyncQueue=t,this.et=n,this.task=null}return Hr(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;jy("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Mi(Ui().mark((function e(){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=jy,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Dg(e.t4)){e.next=17;break}jy("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Tg(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),jg=function(){function e(t,n){Kr(this,e),this.localStore=t,this.persistence=n}return Hr(e,[{key:"st",value:function(){var e=Mi(Ui().mark((function e(){var t,n=this,r=arguments;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Rg.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return jy("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return jy("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=xg(t);Sg(r,n)>0&&(n=r)})),new _g(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),zg=function(){function e(t,n){var r=this;Kr(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return Hr(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function Bg(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function qg(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Wg(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}zg.at=-1;var Kg=function(){function e(t,n){Kr(this,e),this.comparator=t,this.root=n||Hg.EMPTY}return Hr(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Hg.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Hg.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Gg(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Gg(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Gg(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Gg(this.root,e,this.comparator,!0)}}]),e}(),Gg=function(){function e(t,n,r,i){Kr(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Hr(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Hg=function(){function e(t,n,r,i,a){Kr(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Hr(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Wy();if(this.right.isRed())throw Wy();var e=this.left.check();if(e!==this.right.check())throw Wy();return e+(this.isRed()?0:1)}}]),e}();Hg.EMPTY=null,Hg.RED=!0,Hg.BLACK=!1,Hg.EMPTY=new(function(){function e(){Kr(this,e),this.size=0}return Hr(e,[{key:"key",get:function(){throw Wy()}},{key:"value",get:function(){throw Wy()}},{key:"color",get:function(){throw Wy()}},{key:"left",get:function(){throw Wy()}},{key:"right",get:function(){throw Wy()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Hg(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var $g=function(){function e(t){Kr(this,e),this.comparator=t,this.data=new Kg(this.comparator)}return Hr(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Qg(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Qg(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Qg=function(){function e(t){Kr(this,e),this.iter=t}return Hr(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Yg(e){return e.hasNext()?e.getNext():void 0}var Xg=function(){function e(t){Kr(this,e),this.fields=t,t.sort(pg.comparator)}return Hr(e,[{key:"unionWith",value:function(t){var n,r=new $g(pg.comparator),i=$r(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=$r(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=$r(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return ug(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var Jg=function(e){function t(e){Kr(this,t),this.binaryString=e}return Hr(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return og(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Jg.EMPTY_BYTE_STRING=new Jg("");var Zg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function eb(e){if(Ky(!!e),"string"==typeof e){var t=0,n=Zg.exec(e);if(Ky(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:tb(e.seconds),nanos:tb(e.nanos)}}function tb(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function nb(e){return"string"==typeof e?Jg.fromBase64String(e):Jg.fromUint8Array(e)}function rb(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ib(e){var t=e.mapValue.fields.__previous_value__;return rb(t)?ib(t):t}function ab(e){var t=eb(e.mapValue.fields.__local_write_time__.timestampValue);return new cg(t.seconds,t.nanos)}var ob=Hr((function e(t,n,r,i,a,o,u,s){Kr(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),ub=function(){function e(t,n){Kr(this,e),this.projectId=t,this.database=n||"(default)"}return Hr(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function sb(e){return null==e}function cb(e){return 0===e&&1/e==-1/0}function lb(e){return"number"==typeof e&&Number.isInteger(e)&&!cb(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var fb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},hb={nullValue:"NULL_VALUE"};function db(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?rb(e)?4:Tb(e)?9007199254740991:10:Wy()}function pb(e,t){if(e===t)return!0;var n=db(e);if(n!==db(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ab(e).isEqual(ab(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=eb(e.timestampValue),r=eb(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return nb(e.bytesValue).isEqual(nb(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return tb(e.geoPointValue.latitude)===tb(t.geoPointValue.latitude)&&tb(e.geoPointValue.longitude)===tb(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return tb(e.integerValue)===tb(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=tb(e.doubleValue),r=tb(t.doubleValue);return n===r?cb(n)===cb(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ug(e.arrayValue.values||[],t.arrayValue.values||[],pb);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Bg(n)!==Bg(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!pb(n[i],r[i])))return!1;return!0}(e,t);default:return Wy()}}function vb(e,t){return void 0!==(e.values||[]).find((function(e){return pb(e,t)}))}function mb(e,t){if(e===t)return 0;var n=db(e),r=db(t);if(n!==r)return og(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return og(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=tb(e.integerValue||e.doubleValue),r=tb(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return yb(e.timestampValue,t.timestampValue);case 4:return yb(ab(e),ab(t));case 5:return og(e.stringValue,t.stringValue);case 6:return function(e,t){var n=nb(e),r=nb(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=og(n[i],r[i]);if(0!==a)return a}return og(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=og(tb(e.latitude),tb(t.latitude));return 0!==n?n:og(tb(e.longitude),tb(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=mb(n[i],r[i]);if(a)return a}return og(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===fb.mapValue&&t===fb.mapValue)return 0;if(e===fb.mapValue)return 1;if(t===fb.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=og(r[o],a[o]);if(0!==u)return u;var s=mb(n[r[o]],i[a[o]]);if(0!==s)return s}return og(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Wy()}}function yb(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return og(e,t);var n=eb(e),r=eb(t),i=og(n.seconds,r.seconds);return 0!==i?i:og(n.nanos,r.nanos)}function gb(e){return bb(e)}function bb(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=eb(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?nb(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,vg.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=$r(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=bb(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=$r(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(bb(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Wy();var t,n}function kb(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function wb(e){return!!e&&"integerValue"in e}function xb(e){return!!e&&"arrayValue"in e}function _b(e){return!!e&&"nullValue"in e}function Sb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ib(e){return!!e&&"mapValue"in e}function Eb(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return qg(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Eb(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Eb(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Tb(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Cb(e){return"nullValue"in e?hb:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?kb(ub.empty(),vg.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Wy()}function Rb(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?kb(ub.empty(),vg.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?fb:Wy()}function Ab(e,t){var n=mb(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Nb(e,t){var n=mb(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Pb=function(){function e(t){Kr(this,e),this.value=t}return Hr(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ib(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eb(t)}},{key:"setAll",value:function(e){var t=this,n=pg.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Eb(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ib(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return pb(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ib(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){qg(t,(function(t,n){return e[t]=n}));var r,i=$r(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Eb(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Ob(e){var t=[];return qg(e.fields,(function(e,n){var r=new pg([e]);if(Ib(n)){var i=Ob(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=$r(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Xg(t)}var Db=function(){function e(t,n,r,i,a,o){Kr(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Hr(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Pb.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Pb.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=lg.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,lg.min(),lg.min(),Pb.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,lg.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,lg.min(),Pb.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,lg.min(),Pb.empty(),2)}}]),e}(),Lb=Hr((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Kr(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ht=null}));function Mb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Lb(e,t,n,r,i,a,o)}function Fb(e){var t=Gy(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+gb(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),sb(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return gb(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return gb(e)})).join(",")),t.ht=n}return t.ht}function Ub(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!ek(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!pb(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!nk(e.startAt,t.startAt)&&nk(e.endAt,t.endAt)}function Vb(e){return vg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function jb(e,t){return e.filters.filter((function(e){return e instanceof qb&&e.field.isEqual(t)}))}function zb(e,t,n){var r,i=hb,a=!0,o=$r(jb(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=hb,c=!0;switch(u.op){case"<":case"<=":s=Cb(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=hb}Ab({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ab({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Bb(e,t,n){var r,i=fb,a=!0,o=$r(jb(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=fb,c=!0;switch(u.op){case">=":case">":s=Rb(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=fb}Nb({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Nb({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var qb=function(e){Xr(n,e);var t=ni(n);function n(e,r,i){var a;return Kr(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Hr(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(mb(t,this.value)):null!==t&&db(this.value)===db(t)&&this.ft(mb(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Wy()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new Wb(e,t,r):"array-contains"===t?new $b(e,r):"in"===t?new Qb(e,r):"not-in"===t?new Yb(e,r):"array-contains-any"===t?new Xb(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new Kb(e,n):new Gb(e,n)}}]),n}(function(){return Hr((function e(){Kr(this,e)}))}()),Wb=function(e){Xr(n,e);var t=ni(n);function n(e,r,i){var a;return Kr(this,n),(a=t.call(this,e,r,i)).key=vg.fromName(i.referenceValue),a}return Hr(n,[{key:"matches",value:function(e){var t=vg.comparator(e.key,this.key);return this.ft(t)}}]),n}(qb),Kb=function(e){Xr(n,e);var t=ni(n);function n(e,r){var i;return Kr(this,n),(i=t.call(this,e,"in",r)).keys=Hb("in",r),i}return Hr(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(qb),Gb=function(e){Xr(n,e);var t=ni(n);function n(e,r){var i;return Kr(this,n),(i=t.call(this,e,"not-in",r)).keys=Hb("not-in",r),i}return Hr(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(qb);function Hb(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return vg.fromName(e.referenceValue)}))}var $b=function(e){Xr(n,e);var t=ni(n);function n(e,r){return Kr(this,n),t.call(this,e,"array-contains",r)}return Hr(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return xb(t)&&vb(t.arrayValue,this.value)}}]),n}(qb),Qb=function(e){Xr(n,e);var t=ni(n);function n(e,r){return Kr(this,n),t.call(this,e,"in",r)}return Hr(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&vb(this.value.arrayValue,t)}}]),n}(qb),Yb=function(e){Xr(n,e);var t=ni(n);function n(e,r){return Kr(this,n),t.call(this,e,"not-in",r)}return Hr(n,[{key:"matches",value:function(e){if(vb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!vb(this.value.arrayValue,t)}}]),n}(qb),Xb=function(e){Xr(n,e);var t=ni(n);function n(e,r){return Kr(this,n),t.call(this,e,"array-contains-any",r)}return Hr(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!xb(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return vb(t.value.arrayValue,e)}))}}]),n}(qb),Jb=Hr((function e(t,n){Kr(this,e),this.position=t,this.inclusive=n})),Zb=Hr((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Kr(this,e),this.field=t,this.dir=n}));function ek(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function tk(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?vg.comparator(vg.fromName(o.referenceValue),n.key):mb(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function nk(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!pb(e.position[n],t.position[n]))return!1;return!0}var rk=Hr((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Kr(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this._t=null,this.wt=null,this.startAt,this.endAt}));function ik(e,t,n,r,i,a,o,u){return new rk(e,t,n,r,i,a,o,u)}function ak(e){return new rk(e)}function ok(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function uk(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function sk(e){var t,n=$r(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function ck(e){return null!==e.collectionGroup}function lk(e){var t=Gy(e);if(null===t._t){t._t=[];var n=sk(t),r=uk(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new Zb(n)),t._t.push(new Zb(pg.keyField(),"asc"));else{var i,a=!1,o=$r(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t._t.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new Zb(pg.keyField(),s))}}}return t._t}function fk(e){var t=Gy(e);if(!t.wt)if("F"===t.limitType)t.wt=Mb(t.path,t.collectionGroup,lk(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=$r(lk(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Zb(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Jb(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Jb(t.startAt.position,t.startAt.inclusive):null;t.wt=Mb(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function hk(e,t,n){return new rk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function dk(e,t){return Ub(fk(e),fk(t))&&e.limitType===t.limitType}function pk(e){return"".concat(Fb(fk(e)),"|lt:").concat(e.limitType)}function vk(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(gb(t.value));var t})).join(", "),"]")),sb(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return gb(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return gb(e)})).join(",")),"Target(".concat(t,")")}(fk(e)),"; limitType=").concat(e.limitType,")")}function mk(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):vg.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=$r(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=$r(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=tk(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,lk(e),t))&&!(e.endAt&&!function(e,t,n){var r=tk(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,lk(e),t))}(e,t)}function yk(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function gk(e){return function(t,n){var r,i=!1,a=$r(lk(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=bk(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function bk(e,t,n){var r=e.field.isKeyField()?vg.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?mb(r,i):Wy()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Wy()}}function kk(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cb(t)?"-0":t}}function wk(e){return{integerValue:""+e}}function xk(e,t){return lb(t)?wk(t):kk(e,t)}var _k=Hr((function e(){Kr(this,e),this._=void 0}));function Sk(e,t,n){return e instanceof Tk?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ck?Rk(e,t):e instanceof Ak?Nk(e,t):function(e,t){var n=Ek(e,t),r=Ok(n)+Ok(e.yt);return wb(n)&&wb(e.yt)?wk(r):kk(e.It,r)}(e,t)}function Ik(e,t,n){return e instanceof Ck?Rk(e,t):e instanceof Ak?Nk(e,t):n}function Ek(e,t){return e instanceof Pk?wb(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Tk=function(e){Xr(n,e);var t=ni(n);function n(){return Kr(this,n),t.apply(this,arguments)}return Hr(n)}(_k),Ck=function(e){Xr(n,e);var t=ni(n);function n(e){var r;return Kr(this,n),(r=t.call(this)).elements=e,r}return Hr(n)}(_k);function Rk(e,t){var n,r=Dk(t),i=$r(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return pb(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Ak=function(e){Xr(n,e);var t=ni(n);function n(e){var r;return Kr(this,n),(r=t.call(this)).elements=e,r}return Hr(n)}(_k);function Nk(e,t){var n,r=Dk(t),i=$r(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!pb(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Pk=function(e){Xr(n,e);var t=ni(n);function n(e,r){var i;return Kr(this,n),(i=t.call(this)).It=e,i.yt=r,i}return Hr(n)}(_k);function Ok(e){return tb(e.integerValue||e.doubleValue)}function Dk(e){return xb(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Lk=Hr((function e(t,n){Kr(this,e),this.field=t,this.transform=n}));var Mk=Hr((function e(t,n){Kr(this,e),this.version=t,this.transformResults=n})),Fk=function(){function e(t,n){Kr(this,e),this.updateTime=t,this.exists=n}return Hr(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Uk(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Vk=Hr((function e(){Kr(this,e)}));function jk(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Jk(e.key,Fk.none()):new Kk(e.key,e.data,Fk.none());var n,r=e.data,i=Pb.empty(),a=new $g(pg.comparator),o=$r(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Gk(e.key,i,new Xg(a.toArray()),Fk.none())}function zk(e,t,n){e instanceof Kk?function(e,t,n){var r=e.value.clone(),i=$k(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Gk?function(e,t,n){if(Uk(e.precondition,t)){var r=$k(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Hk(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Bk(e,t,n,r){return e instanceof Kk?function(e,t,n,r){if(!Uk(e.precondition,t))return n;var i=e.value.clone(),a=Qk(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Gk?function(e,t,n,r){if(!Uk(e.precondition,t))return n;var i=Qk(e.fieldTransforms,r,t),a=t.data;return a.setAll(Hk(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Uk(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function qk(e,t){var n,r=null,i=$r(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Ek(a.transform,o||null);null!=u&&(null===r&&(r=Pb.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Wk(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ug(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ck&&t instanceof Ck||e instanceof Ak&&t instanceof Ak?ug(e.elements,t.elements,pb):e instanceof Pk&&t instanceof Pk?pb(e.yt,t.yt):e instanceof Tk&&t instanceof Tk}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Kk=function(e){Xr(n,e);var t=ni(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Kr(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Hr(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Vk),Gk=function(e){Xr(n,e);var t=ni(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Kr(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Hr(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Vk);function Hk(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function $k(e,t,n){var r=new Map;Ky(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Ik(o,u,n[i]))}return r}function Qk(e,t,n){var r,i=new Map,a=$r(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Sk(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Yk,Xk,Jk=function(e){Xr(n,e);var t=ni(n);function n(e,r){var i;return Kr(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Hr(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Vk),Zk=function(e){Xr(n,e);var t=ni(n);function n(e,r){var i;return Kr(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Hr(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Vk),ew=Hr((function e(t){Kr(this,e),this.count=t}));function tw(e){switch(e){default:return Wy();case Hy.CANCELLED:case Hy.UNKNOWN:case Hy.DEADLINE_EXCEEDED:case Hy.RESOURCE_EXHAUSTED:case Hy.INTERNAL:case Hy.UNAVAILABLE:case Hy.UNAUTHENTICATED:return!1;case Hy.INVALID_ARGUMENT:case Hy.NOT_FOUND:case Hy.ALREADY_EXISTS:case Hy.PERMISSION_DENIED:case Hy.FAILED_PRECONDITION:case Hy.ABORTED:case Hy.OUT_OF_RANGE:case Hy.UNIMPLEMENTED:case Hy.DATA_LOSS:return!0}}function nw(e){if(void 0===e)return zy("GRPC error has no .code"),Hy.UNKNOWN;switch(e){case Yk.OK:return Hy.OK;case Yk.CANCELLED:return Hy.CANCELLED;case Yk.UNKNOWN:return Hy.UNKNOWN;case Yk.DEADLINE_EXCEEDED:return Hy.DEADLINE_EXCEEDED;case Yk.RESOURCE_EXHAUSTED:return Hy.RESOURCE_EXHAUSTED;case Yk.INTERNAL:return Hy.INTERNAL;case Yk.UNAVAILABLE:return Hy.UNAVAILABLE;case Yk.UNAUTHENTICATED:return Hy.UNAUTHENTICATED;case Yk.INVALID_ARGUMENT:return Hy.INVALID_ARGUMENT;case Yk.NOT_FOUND:return Hy.NOT_FOUND;case Yk.ALREADY_EXISTS:return Hy.ALREADY_EXISTS;case Yk.PERMISSION_DENIED:return Hy.PERMISSION_DENIED;case Yk.FAILED_PRECONDITION:return Hy.FAILED_PRECONDITION;case Yk.ABORTED:return Hy.ABORTED;case Yk.OUT_OF_RANGE:return Hy.OUT_OF_RANGE;case Yk.UNIMPLEMENTED:return Hy.UNIMPLEMENTED;case Yk.DATA_LOSS:return Hy.DATA_LOSS;default:return Wy()}}(Xk=Yk||(Yk={}))[Xk.OK=0]="OK",Xk[Xk.CANCELLED=1]="CANCELLED",Xk[Xk.UNKNOWN=2]="UNKNOWN",Xk[Xk.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xk[Xk.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xk[Xk.NOT_FOUND=5]="NOT_FOUND",Xk[Xk.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xk[Xk.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xk[Xk.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xk[Xk.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xk[Xk.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xk[Xk.ABORTED=10]="ABORTED",Xk[Xk.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xk[Xk.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xk[Xk.INTERNAL=13]="INTERNAL",Xk[Xk.UNAVAILABLE=14]="UNAVAILABLE",Xk[Xk.DATA_LOSS=15]="DATA_LOSS";var rw=function(){function e(t,n){Kr(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Hr(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=$r(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){qg(this.inner,(function(t,n){var r,i=$r(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Wg(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),iw=new Kg(vg.comparator);function aw(){return iw}var ow=new Kg(vg.comparator);function uw(){for(var e=ow,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function sw(e){var t=ow;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function cw(){return fw()}function lw(){return fw()}function fw(){return new rw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var hw=new Kg(vg.comparator),dw=new $g(vg.comparator);function pw(){for(var e=dw,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var vw=new $g(og);function mw(){return vw}var yw=function(){function e(t,n,r,i,a){Kr(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Hr(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,gw.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(lg.min(),r,mw(),aw(),pw())}}]),e}(),gw=function(){function e(t,n,r,i,a){Kr(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Hr(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Jg.EMPTY_BYTE_STRING,n,pw(),pw(),pw())}}]),e}(),bw=Hr((function e(t,n,r,i){Kr(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),kw=Hr((function e(t,n){Kr(this,e),this.targetId=t,this.At=n})),ww=Hr((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jg.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Kr(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),xw=function(){function e(){Kr(this,e),this.Rt=0,this.bt=Iw(),this.Pt=Jg.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return Hr(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=pw(),t=pw(),n=pw();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Wy()}})),new gw(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=Iw()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Mt",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Ot",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),_w=function(){function e(t){Kr(this,e),this.Bt=t,this.Lt=new Map,this.Ut=aw(),this.qt=Sw(),this.Kt=new $g(og)}return Hr(e,[{key:"Gt",value:function(e){var t,n=$r(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(u){n.e(u)}finally{n.f()}var i,a=$r(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:Wy()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(Vb(i))if(0===n){var a=new vg(i.path);this.jt(t,a,Db.newNoDocument(a,lg.min()))}else Ky(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&Vb(a.target)){var o=new vg(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,Db.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=pw();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new yw(e,n,this.Kt,this.Ut,r);return this.Ut=aw(),this.qt=Sw(),this.Kt=new $g(og),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.zt(e).Ot()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new xw,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new $g(og),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||jy("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new xw),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Sw(){return new Kg(vg.comparator)}function Iw(){return new Kg(vg.comparator)}var Ew={asc:"ASCENDING",desc:"DESCENDING"},Tw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cw=Hr((function e(t,n){Kr(this,e),this.databaseId=t,this.gt=n}));function Rw(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Aw(e,t){return e.gt?t.toBase64():t.toUint8Array()}function Nw(e,t){return Rw(e,t.toTimestamp())}function Pw(e){return Ky(!!e),lg.fromTimestamp(function(e){var t=eb(e);return new cg(t.seconds,t.nanos)}(e))}function Ow(e,t){return function(e){return new hg(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Dw(e){var t=hg.fromString(e);return Ky(rx(t)),t}function Lw(e,t){return Ow(e.databaseId,t.path)}function Mw(e,t){var n=Dw(t);if(n.get(1)!==e.databaseId.projectId)throw new $y(Hy.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new $y(Hy.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new vg(jw(n))}function Fw(e,t){return Ow(e.databaseId,t)}function Uw(e){var t=Dw(e);return 4===t.length?hg.emptyPath():jw(t)}function Vw(e){return new hg(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function jw(e){return Ky(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function zw(e,t,n){return{name:Lw(e,t),fields:n.value.mapValue.fields}}function Bw(e,t,n){var r=Mw(e,t.name),i=Pw(t.updateTime),a=new Pb({mapValue:{fields:t.fields}}),o=Db.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function qw(e,t){return"found"in t?function(e,t){Ky(!!t.found),t.found.name,t.found.updateTime;var n=Mw(e,t.found.name),r=Pw(t.found.updateTime),i=new Pb({mapValue:{fields:t.found.fields}});return Db.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Ky(!!t.missing),Ky(!!t.readTime);var n=Mw(e,t.missing),r=Pw(t.readTime);return Db.newNoDocument(n,r)}(e,t):Wy()}function Ww(e,t){var n;if(t instanceof Kk)n={update:zw(e,t.key,t.value)};else if(t instanceof Jk)n={delete:Lw(e,t.key)};else if(t instanceof Gk)n={update:zw(e,t.key,t.data),updateMask:nx(t.fieldMask)};else{if(!(t instanceof Zk))return Wy();n={verify:Lw(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Tk)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ck)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ak)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Pk)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw Wy()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Nw(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Wy()}(e,t.precondition)),n}function Kw(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Fk.updateTime(Pw(e.updateTime)):void 0!==e.exists?Fk.exists(e.exists):Fk.none()}(t.currentDocument):Fk.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Ky("REQUEST_TIME"===t.setToServerValue),n=new Tk;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Ck(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Ak(i)}else"increment"in t?n=new Pk(e,t.increment):Wy();var a=pg.fromServerFormat(t.fieldPath);return new Lk(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Mw(e,t.update.name),a=new Pb({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Xg(t.map((function(e){return pg.fromServerFormat(e)})))}(t.updateMask);return new Gk(i,a,o,n,r)}return new Kk(i,a,n,r)}if(t.delete){var u=Mw(e,t.delete);return new Jk(u,n)}if(t.verify){var s=Mw(e,t.verify);return new Zk(s,n)}return Wy()}function Gw(e,t){return{documents:[Fw(e,t.path)]}}function Hw(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Fw(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Fw(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Sb(e.value))return{unaryFilter:{field:Jw(e.field),op:"IS_NAN"}};if(_b(e.value))return{unaryFilter:{field:Jw(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Sb(e.value))return{unaryFilter:{field:Jw(e.field),op:"IS_NOT_NAN"}};if(_b(e.value))return{unaryFilter:{field:Jw(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jw(e.field),op:Xw(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Jw(e.field),direction:Yw(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.gt||sb(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function $w(e){var t=Uw(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ky(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Qw(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Zb(Zw(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return sb(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Jb(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Jb(n,t)}(n.endAt)),ik(t,i,u,o,s,"F",c,l)}function Qw(e){return e?void 0!==e.unaryFilter?[tx(e)]:void 0!==e.fieldFilter?[ex(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Qw(e)})).reduce((function(e,t){return e.concat(t)})):Wy():[]}function Yw(e){return Ew[e]}function Xw(e){return Tw[e]}function Jw(e){return{fieldPath:e.canonicalString()}}function Zw(e){return pg.fromServerFormat(e.fieldPath)}function ex(e){return qb.create(Zw(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Wy()}}(e.fieldFilter.op),e.fieldFilter.value)}function tx(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Zw(e.unaryFilter.field);return qb.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Zw(e.unaryFilter.field);return qb.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Zw(e.unaryFilter.field);return qb.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Zw(e.unaryFilter.field);return qb.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Wy()}}function nx(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function rx(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function ix(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=ox(t)),t=ax(e.get(n),t);return ox(t)}function ax(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function ox(e){return e+"\x01\x01"}function ux(e){var t=e.length;if(Ky(t>=2),2===t)return Ky("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),hg.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Wy(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Wy()}a=o+2}return new hg(r)}var sx=["userId","batchId"];function cx(e,t){return[e,ix(t)]}function lx(e,t,n){return[e,ix(t),n]}var fx={},hx=["prefixPath","collectionGroup","readTime","documentId"],dx=["prefixPath","collectionGroup","documentId"],px=["collectionGroup","readTime","prefixPath","documentId"],vx=["canonicalId","targetId"],mx=["targetId","path"],yx=["path","targetId"],gx=["collectionId","parent"],bx=["indexId","uid"],kx=["uid","sequenceNumber"],wx=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],xx=["indexId","uid","orderedDocumentKey"],_x=["userId","collectionPath","documentId"],Sx=["userId","collectionPath","largestBatchId"],Ix=["userId","collectionGroup","largestBatchId"],Ex=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Tx=[].concat(Di(Ex),["documentOverlays"]),Cx=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Rx=Cx,Ax=[].concat(Rx,["indexConfiguration","indexState","indexEntries"]),Nx=function(e){Xr(n,e);var t=ni(n);function n(e,r){var i;return Kr(this,n),(i=t.call(this)).ie=e,i.currentSequenceNumber=r,i}return Hr(n)}(Eg);function Px(e,t){var n=Gy(e);return Ng.O(n.ie,t)}var Ox=function(){function e(t,n,r,i){Kr(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Hr(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&zk(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=$r(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Bk(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=$r(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Bk(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=lw();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=jk(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(lg.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),pw())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&ug(this.mutations,e.mutations,(function(e,t){return Wk(e,t)}))&&ug(this.baseMutations,e.baseMutations,(function(e,t){return Wk(e,t)}))}}]),e}(),Dx=function(){function e(t,n,r,i){Kr(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Hr(e,null,[{key:"from",value:function(t,n,r){Ky(t.mutations.length===r.length);for(var i=hw,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Lx=function(){function e(t,n){Kr(this,e),this.largestBatchId=t,this.mutation=n}return Hr(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Mx=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:lg.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:lg.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Jg.EMPTY_BYTE_STRING;Kr(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Hr(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Fx=Hr((function e(t){Kr(this,e),this.re=t}));function Ux(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Vx(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Lw(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Rw(e,t.version.toTimestamp())}}(e.re,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:jx(t.version)};else{if(!t.isUnknownDocument())return Wy();r.unknownDocument={path:n.path.toArray(),version:jx(t.version)}}return r}function Vx(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function jx(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function zx(e){var t=new cg(e.seconds,e.nanoseconds);return lg.fromTimestamp(t)}function Bx(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Kw(e.re,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Kw(e.re,t)})),u=cg.fromMillis(t.localWriteTimeMs);return new Ox(t.batchId,u,n,o)}function qx(e){var t,n,r=zx(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?zx(e.lastLimboFreeSnapshotVersion):lg.min();return void 0!==e.query.documents?(Ky(1===(n=e.query).documents.length),t=fk(ak(Uw(n.documents[0])))):t=function(e){return fk($w(e))}(e.query),new Mx(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Jg.fromBase64String(e.resumeToken))}function Wx(e,t){var n,r=jx(t.snapshotVersion),i=jx(t.lastLimboFreeSnapshotVersion);n=Vb(t.target)?Gw(e.re,t.target):Hw(e.re,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Fb(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Kx(e){var t=$w({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?hk(t,t.limit,"L"):t}function Gx(e,t){return new Lx(t.largestBatchId,Kw(e.re,t.overlayMutation))}function Hx(e,t){var n=t.path.lastSegment();return[e,ix(t.path.popLast()),n]}function $x(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:jx(r.readTime),documentKey:ix(r.documentKey.path),largestBatchId:r.largestBatchId}}var Qx=function(){function e(){Kr(this,e)}return Hr(e,[{key:"getBundleMetadata",value:function(e,t){return Yx(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:zx(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Yx(e).put({bundleId:(n=t).id,createTime:jx(Pw(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Xx(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Kx(t.bundledQuery),readTime:zx(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Xx(e).put(function(e){return{name:e.name,readTime:jx(Pw(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Yx(e){return Px(e,"bundles")}function Xx(e){return Px(e,"namedQueries")}var Jx=function(){function e(t,n){Kr(this,e),this.It=t,this.userId=n}return Hr(e,[{key:"getOverlay",value:function(e,t){var n=this;return Zx(e).get(Hx(this.userId,t)).next((function(e){return e?Gx(n.It,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=cw();return Rg.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Lx(t,a);i.push(r.ue(e,o))})),Rg.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(ix(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Zx(e).Y("collectionPathOverlayIndex",i))})),Rg.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=cw(),a=ix(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Zx(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=$r(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Gx(r.It,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=cw(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Zx(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Gx(a.It,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ue",value:function(e,t){return Zx(e).put(function(e,t,n){var r=c(Hx(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Ww(e.re,n.mutation)}}(this.It,this.userId,t))}}],[{key:"oe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Zx(e){return Px(e,"documentOverlays")}var e_=function(){function e(){Kr(this,e)}return Hr(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(tb(e.integerValue));else if("doubleValue"in e){var n=tb(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),cb(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(nb(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?Tb(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Wy()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=$r(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),vg.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();function t_(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function n_(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=t_(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}e_.Te=new e_;var r_=function(){function e(){Kr(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Hr(e,[{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.ve()}},{key:"Ve",value:function(e){var t,n=$r(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"Se",value:function(e){var t,n=$r(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var a=r.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"De",value:function(e){var t=this.Ce(e),n=n_(t);this.xe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ne",value:function(e){var t=this.Ce(e),n=n_(t);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"ke",value:function(){this.Me(255),this.Me(255)}},{key:"Oe",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ce",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Re",value:function(){this.Me(0),this.Me(1)}},{key:"ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Me",value:function(e){this.xe(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.xe(1),this.buffer[this.position++]=~e}},{key:"xe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),i_=function(){function e(t){Kr(this,e),this.Be=t}return Hr(e,[{key:"me",value:function(e){this.Be.Ee(e)}},{key:"de",value:function(e){this.Be.Ve(e)}},{key:"fe",value:function(e){this.Be.De(e)}},{key:"he",value:function(){this.Be.ke()}}]),e}(),a_=function(){function e(t){Kr(this,e),this.Be=t}return Hr(e,[{key:"me",value:function(e){this.Be.be(e)}},{key:"de",value:function(e){this.Be.Se(e)}},{key:"fe",value:function(e){this.Be.Ne(e)}},{key:"he",value:function(){this.Be.Oe()}}]),e}(),o_=function(){function e(){Kr(this,e),this.Be=new r_,this.Le=new i_(this.Be),this.Ue=new a_(this.Be)}return Hr(e,[{key:"seed",value:function(e){this.Be.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Le:this.Ue}},{key:"$e",value:function(){return this.Be.$e()}},{key:"reset",value:function(){this.Be.reset()}}]),e}(),u_=function(){function e(t,n,r,i){Kr(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Hr(e,[{key:"Ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function s_(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=c_(e.arrayValue,t.arrayValue))?n:0!==(n=c_(e.directionalValue,t.directionalValue))?n:vg.comparator(e.documentKey,t.documentKey)}function c_(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var l_=function(){function e(t){Kr(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];var n,r=$r(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.dt()?this.je=i:this.Qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Hr(e,[{key:"We",value:function(e){var t=yg(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=gg(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.je){var a=n[r];if(!this.He(this.je,a)||!this.Je(this.Ge[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ge.length||!this.Je(this.Ge[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=$r(this.Qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.He(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"He",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Je",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),f_=function(){function e(){Kr(this,e),this.Ye=new h_}return Hr(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),Rg.resolve()}},{key:"getCollectionParents",value:function(e,t){return Rg.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Rg.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Rg.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Rg.resolve(null)}},{key:"getIndexType",value:function(e,t){return Rg.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Rg.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Rg.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Rg.resolve(_g.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Rg.resolve(_g.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Rg.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Rg.resolve()}}]),e}(),h_=function(){function e(){Kr(this,e),this.index={}}return Hr(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new $g(hg.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new $g(hg.comparator)).toArray()}}]),e}(),d_=new Uint8Array(0),p_=function(){function e(t,n){Kr(this,e),this.user=t,this.databaseId=n,this.Xe=new h_,this.Ze=new rw((function(e){return Fb(e)}),(function(e,t){return Ub(e,t)})),this.uid=t.uid||""}return Hr(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:ix(i)};return v_(e).put(a)}return Rg.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[sg(t),""],!1,!0);return v_(e).W(r).next((function(e){var r,i=$r(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(ux(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=y_(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=g_(e);return a.next((function(e){o.put($x(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=y_(e),r=g_(e),i=m_(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=m_(e),i=!0,a=new Map;return Rg.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=pw(),o=[];return Rg.forEach(a,(function(i,a){var u;jy("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Fb(t)));var s=function(e,t){var n=yg(t);if(void 0===n)return null;var r,i=$r(jb(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=$r(gg(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=$r(jb(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=$r(gg(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?zb(e,o.fieldPath,e.startAt):Bb(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Jb(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=$r(gg(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Bb(e,o.fieldPath,e.endAt):zb(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Jb(r,i)}(a,i),h=n.nn(i,a,l),d=n.nn(i,a,f),p=n.sn(i,a,c),v=n.rn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return Rg.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=vg.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Rg.resolve(null)}))}},{key:"tn",value:function(e){var t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}},{key:"rn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.on(t[s/c]):d_,h=u.un(e,f,n[s%c],r),d=u.cn(e,f,i[s%c],a),p=o.map((function(t){return u.un(e,f,t,!0)}));l.push.apply(l,Di(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"un",value:function(e,t,n,r){var i=new u_(e,vg.empty(),t,n);return r?i:i.Ke()}},{key:"cn",value:function(e,t,n,r){var i=new u_(e,vg.empty(),t,n);return r?i.Ke():i}},{key:"en",value:function(e,t){var n=new l_(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=$r(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return Rg.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new $g(pg.comparator),r=!1,i=$r(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=$r(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"an",value:function(e,t){var n,r=new o_,i=$r(gg(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);e_.Te.ce(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.$e()}},{key:"on",value:function(e){var t=new o_;return e_.Te.ce(e,t.qe(0)),t.$e()}},{key:"hn",value:function(e,t){var n=new o_;return e_.Te.ce(kb(this.databaseId,t),n.qe(function(e){var t=gg(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"sn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new o_);var i,a=0,o=$r(gg(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=$r(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.ln(t,s.fieldPath)&&xb(c))r=this.fn(r,s,c);else{var h=f.qe(s.kind);e_.Te.ce(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.dn(r)}},{key:"nn",value:function(e,t,n){return this.sn(e,t,n.position)}},{key:"dn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"fn",value:function(e,t,n){var r,i=Di(e),a=[],o=$r(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=$r(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new o_;f.seed(l.$e()),e_.Te.ce(s,f.qe(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"ln",value:function(e,t){return!!e.filters.find((function(e){return e instanceof qb&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=y_(e),i=g_(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return Rg.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new kg(t.sequenceNumber,new _g(zx(t.readTime),new vg(ux(t.documentKey)),t.largestBatchId)):kg.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new bg(pg.fromServerFormat(n),r)}));return new mg(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:og(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=y_(e),a=g_(e);return this._n(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Rg.forEach(t,(function(t){return a.put($x(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Rg.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Rg.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Rg.forEach(a,(function(r){return n.wn(e,t,r).next((function(t){var a=n.mn(i,r);return t.isEqual(a)?Rg.resolve():n.gn(e,i,r,t,a)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return m_(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"pn",value:function(e,t,n,r){return m_(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(n,t.key),t.key.path.toArray()])}},{key:"wn",value:function(e,t,n){var r=m_(e),i=new $g(s_);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,t)])},(function(e,r){i=i.add(new u_(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"mn",value:function(e,t){var n=new $g(s_),r=this.an(t,e);if(null==r)return n;var i=yg(t);if(null!=i){var a=e.data.field(i.fieldPath);if(xb(a)){var o,u=$r(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new u_(t.indexId,e.key,this.on(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new u_(t.indexId,e.key,d_,r));return n}},{key:"gn",value:function(e,t,n,r,i){var a=this;jy("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Yg(a),s=Yg(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Yg(o)):l?(i(u),u=Yg(a)):(u=Yg(a),s=Yg(o))}}(r,i,s_,(function(r){o.push(a.yn(e,t,n,r))}),(function(r){o.push(a.pn(e,t,n,r))})),Rg.waitFor(o)}},{key:"_n",value:function(e){var t=1;return g_(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return s_(e,t)})).filter((function(e,t,n){return!t||0!==s_(e,n[t-1])}));var r=[];r.push(e);var i,a=$r(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=s_(o,e),s=s_(o,t);if(0===u)r[0]=e.Ke();else if(u>0&&s<0)r.push(o),r.push(o.Ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,d_,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,d_,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(b_)}},{key:"getMinOffset",value:function(e,t){var n=this;return Rg.mapArray(this.tn(t),(function(t){return n.en(e,t).next((function(e){return e||Wy()}))})).next(b_)}}]),e}();function v_(e){return Px(e,"collectionParents")}function m_(e){return Px(e,"indexEntries")}function y_(e){return Px(e,"indexConfiguration")}function g_(e){return Px(e,"indexState")}function b_(e){Ky(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Sg(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new _g(t.readTime,t.documentKey,n)}var k_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},w_=function(){function e(t,n,r){Kr(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Hr(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function x_(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Ky(1===u)})));var c,l=[],f=$r(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=lx(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Rg.waitFor(a).next((function(){return l}))}function __(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Wy();t=e.noDocument}return JSON.stringify(t).length}w_.DEFAULT_COLLECTION_PERCENTILE=10,w_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,w_.DEFAULT=new w_(41943040,w_.DEFAULT_COLLECTION_PERCENTILE,w_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),w_.DISABLED=new w_(-1,0,0);var S_=function(){function e(t,n,r,i){Kr(this,e),this.userId=t,this.It=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return Hr(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return E_(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=T_(e),o=E_(e);return o.add({}).next((function(u){Ky("number"==typeof u);var s,c=new Ox(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Ww(e.re,t)})),i=n.mutations.map((function(t){return Ww(e.re,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.It,i.userId,c),f=[],h=new $g((function(e,t){return og(e.canonicalString(),t.canonicalString())})),d=$r(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=lx(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,fx))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),Rg.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return E_(e).get(t).next((function(e){return e?(Ky(e.userId===n.userId),Bx(n.It,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?Rg.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return E_(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Ky(t.batchId>=r),a=Bx(n.It,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return E_(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return E_(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return Bx(t.It,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=cx(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return T_(e).Z({range:i},(function(r,i,o){var u=c(r,3),s=u[0],l=u[1],f=u[2],h=ux(l);if(s===n.userId&&t.path.isEqual(h))return E_(e).get(f).next((function(e){if(!e)throw Wy();Ky(e.userId===n.userId),a.push(Bx(n.It,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new $g(og),i=[];return t.forEach((function(t){var a=cx(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=T_(e).Z({range:o},(function(e,i,a){var o=c(e,3),u=o[0],s=o[1],l=o[2],f=ux(s);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),Rg.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=cx(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new $g(og);return T_(e).Z({range:o},(function(e,t,a){var o=c(e,3),s=o[0],l=o[1],f=o[2],h=ux(l);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.En(e,u)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(E_(e).get(t).next((function(e){if(null===e)throw Wy();Ky(e.userId===n.userId),r.push(Bx(n.It,e))})))})),Rg.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return x_(e.ie,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),Rg.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Rg.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return T_(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=ux(e[1]);i.push(a)}else r.done()})).next((function(){Ky(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return I_(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return C_(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"oe",value:function(t,n,r,i){return Ky(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function I_(e,t,n){var r=cx(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return T_(e).Z({range:a,X:!0},(function(e,n,r){var a=c(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function E_(e){return Px(e,"mutations")}function T_(e){return Px(e,"documentMutations")}function C_(e){return Px(e,"mutationQueues")}var R_=function(){function e(t){Kr(this,e),this.bn=t}return Hr(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),A_=function(){function e(t,n){Kr(this,e),this.referenceDelegate=t,this.It=n}return Hr(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new R_(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return lg.fromTimestamp(new cg(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return N_(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return Ky(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return N_(e).Z((function(o,u){var s=qx(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Rg.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return N_(e).Z((function(e,n){var r=qx(n);t(r)}))}},{key:"Vn",value:function(e){return P_(e).get("targetGlobalKey").next((function(e){return Ky(null!==e),e}))}},{key:"Sn",value:function(e,t){return P_(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return N_(e).put(Wx(this.It,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Fb(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return N_(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=qx(n);Ub(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=O_(e);return t.forEach((function(t){var o=ix(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Rg.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=O_(e);return Rg.forEach(t,(function(t){var a=ix(t.path);return Rg.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=O_(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=O_(e),i=pw();return r.Z({range:n,X:!0},(function(e,t,n){var r=ux(e[1]),a=new vg(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=ix(t.path),r=IDBKeyRange.bound([n],[sg(n)],!1,!0),i=0;return O_(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"se",value:function(e,t){return N_(e).get(t).next((function(e){return e?qx(e):null}))}}]),e}();function N_(e){return Px(e,"targets")}function P_(e){return Px(e,"targetGlobal")}function O_(e){return Px(e,"targetDocuments")}function D_(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],u=a[1],s=og(r,o);return 0===s?og(i,u):s}var L_=function(){function e(t){Kr(this,e),this.xn=t,this.buffer=new $g(D_),this.Nn=0}return Hr(e,[{key:"kn",value:function(){return++this.Nn}},{key:"Mn",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();D_(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),M_=function(){function e(t,n,r){Kr(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.On=null}return Hr(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.On&&(this.On.cancel(),this.On=null)}},{key:"started",get:function(){return null!==this.On}},{key:"Fn",value:function(e){var t=this;jy("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Mi(Ui().mark((function e(){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.On=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Dg(e.t0)){e.next=12;break}jy("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Tg(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),F_=function(){function e(t,n){Kr(this,e),this.$n=t,this.params=n}return Hr(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Rg.resolve(zg.at);var r=new L_(t);return this.$n.forEachTarget(e,(function(e){return r.Mn(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.Mn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(jy("LruGarbageCollector","Garbage collection skipped; disabled"),Rg.resolve(k_)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(jy("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),k_):n.Un(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"Un",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(jy("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Vy()<=Wi.DEBUG&&jy("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Rg.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),U_=function(){function e(t,n){Kr(this,e),this.db=t,this.garbageCollector=function(e,t){return new F_(e,t)}(this,n)}return Hr(e,[{key:"Bn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return V_(e,n)}},{key:"removeReference",value:function(e,t,n){return V_(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return V_(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return C_(e).tt((function(r){return I_(e,r,t).next((function(e){return e&&(n=!0),Rg.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,lg.min()),O_(e).delete([0,ix(o.path)])}))}));i.push(s)}})).next((function(){return Rg.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return V_(e,t)}},{key:"Kn",value:function(e,t){var n,r=O_(e),i=zg.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==zg.at&&t(new vg(ux(n)),i),i=s,n=u):i=zg.at})).next((function(){i!==zg.at&&t(new vg(ux(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function V_(e,t){return O_(e).put(function(e,t){return{targetId:0,path:ix(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var j_=function(){function e(){Kr(this,e),this.changes=new rw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Hr(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Db.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Rg.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),z_=function(){function e(t){Kr(this,e),this.It=t}return Hr(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return K_(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return K_(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Vx(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Db.newInvalidDocument(t);return K_(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(G_(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:Db.newInvalidDocument(t)};return K_(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(G_(t))},(function(e,i){r={document:n.jn(t,i),size:__(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=aw();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=aw(),i=new Kg(vg.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,__(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return Rg.resolve();var r=new $g($_);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(G_(r.first()),G_(r.last())),a=r.getIterator(),o=a.getNext();return K_(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=vg.fromSegments([].concat(Di(t.prefixPath),[t.collectionGroup,t.documentId]));o&&$_(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(G_(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Vx(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return K_(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=aw(),i=$r(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(vg.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=aw(),o=H_(t,n),u=H_(t,_g.max());return K_(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(vg.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new q_(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return W_(e).get("remoteDocumentGlobalKey").next((function(e){return Ky(!!e),e}))}},{key:"Qn",value:function(e,t){return W_(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Bw(e.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=vg.fromSegments(t.noDocument.path),i=zx(t.noDocument.readTime);n=Db.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Wy();var a=vg.fromSegments(t.unknownDocument.path),o=zx(t.unknownDocument.version);n=Db.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new cg(e[0],e[1]);return lg.fromTimestamp(t)}(t.readTime)),n}(this.It,t);if(!n.isNoDocument()||!n.version.isEqual(lg.min()))return n}return Db.newInvalidDocument(e)}}]),e}();function B_(e){return new z_(e)}var q_=function(e){Xr(n,e);var t=ni(n);function n(e,r){var i;return Kr(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new rw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Hr(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new $g((function(e,t){return og(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Ux(t.Yn.It,o);i=i.add(a.path.popLast());var c=__(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Ux(t.Yn.It,o.convertToNoDocument(lg.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),Rg.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(j_);function W_(e){return Px(e,"remoteDocumentGlobal")}function K_(e){return Px(e,"remoteDocumentsV14")}function G_(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function H_(e,t){var n=t.documentKey.path.toArray();return[e,Vx(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function $_(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=og(n[a],r[a]))return i;return(i=og(n.length,r.length))||((i=og(n[n.length-2],r[r.length-2]))||og(n[n.length-1],r[r.length-1]))}var Q_=Hr((function e(t,n){Kr(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Y_=function(){function e(t,n,r,i){Kr(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Hr(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&Bk(r.mutation,e,Xg.empty(),cg.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,pw()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pw(),i=cw();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=uw();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=cw();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,pw())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=aw(),a=fw(),o=fw();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Gk)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),Bk(o.mutation,t,o.mutation.getFieldMask(),cg.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Q_(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=fw(),i=new Kg((function(e,t){return e-t})),a=pw();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=$r(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Xg.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||pw()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=lw();c.forEach((function(e){if(!a.has(e)){var n=jk(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Rg.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return vg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ck(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Rg.resolve(cw()),u=-1,s=a;return o.next((function(t){return Rg.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Rg.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,pw())})).next((function(e){return{batchId:u,changes:sw(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new vg(t)).next((function(e){var t=uw();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=uw();return this.indexManager.getCollectionParents(e,i).next((function(o){return Rg.forEach(o,(function(o){var u=function(e,t){return new rk(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Db.newInvalidDocument(n)))}));var n=uw();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&Bk(a.mutation,i,Xg.empty(),cg.now()),mk(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):Rg.resolve(Db.newInvalidDocument(t))}}]),e}(),X_=function(){function e(t){Kr(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return Hr(e,[{key:"getBundleMetadata",value:function(e,t){return Rg.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Pw(n.createTime)}),Rg.resolve()}},{key:"getNamedQuery",value:function(e,t){return Rg.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:Kx(e.bundledQuery),readTime:Pw(e.readTime)}}(t)),Rg.resolve()}}]),e}(),J_=function(){function e(){Kr(this,e),this.overlays=new Kg(vg.comparator),this.es=new Map}return Hr(e,[{key:"getOverlay",value:function(e,t){return Rg.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=cw();return Rg.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),Rg.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),Rg.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=cw(),i=t.length+1,a=new vg(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Rg.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Kg((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=cw(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=cw(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Rg.resolve(s)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Lx(t,n));var a=this.es.get(t);void 0===a&&(a=pw(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),Z_=function(){function e(){Kr(this,e),this.ns=new $g(eS.ss),this.rs=new $g(eS.os)}return Hr(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new eS(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new eS(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new vg(new hg([])),r=new eS(n,e),i=new eS(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new vg(new hg([])),n=new eS(t,e),r=new eS(t,e+1),i=pw();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new eS(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),eS=function(){function e(t,n){Kr(this,e),this.key=t,this._s=n}return Hr(e,null,[{key:"ss",value:function(e,t){return vg.comparator(e.key,t.key)||og(e._s,t._s)}},{key:"os",value:function(e,t){return og(e._s,t._s)||vg.comparator(e.key,t.key)}}]),e}(),tS=function(){function e(t,n){Kr(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new $g(eS.ss)}return Hr(e,[{key:"checkEmpty",value:function(e){return Rg.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Ox(i,t,n,r);this.mutationQueue.push(a);var o,u=$r(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new eS(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Rg.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Rg.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return Rg.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Rg.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return Rg.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new eS(t,0),i=new eS(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),Rg.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new $g(og);return t.forEach((function(e){var t=new eS(e,0),i=new eS(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),Rg.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;vg.isDocumentKey(i)||(i=i.child(""));var a=new eS(new vg(i),0),o=new $g(og);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),Rg.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Ky(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return Rg.forEach(t.mutations,(function(i){var a=new eS(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new eS(t,0),r=this.gs.firstAfterOrEqual(n);return Rg.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Rg.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),nS=function(){function e(t){Kr(this,e),this.Es=t,this.docs=new Kg(vg.comparator),this.size=0}return Hr(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Rg.resolve(n?n.document.mutableCopy():Db.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=aw();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Db.newInvalidDocument(e))})),Rg.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=aw(),i=new vg(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Sg(xg(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Rg.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Wy()}},{key:"As",value:function(e,t){return Rg.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new rS(this)}},{key:"getSize",value:function(e){return Rg.resolve(this.size)}}]),e}(),rS=function(e){Xr(n,e);var t=ni(n);function n(e){var r;return Kr(this,n),(r=t.call(this)).Yn=e,r}return Hr(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),Rg.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(j_),iS=function(){function e(t){Kr(this,e),this.persistence=t,this.Rs=new rw((function(e){return Fb(e)}),Ub),this.lastRemoteSnapshotVersion=lg.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Z_,this.targetCount=0,this.vs=R_.Pn()}return Hr(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),Rg.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Rg.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Rg.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),Rg.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),Rg.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new R_(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,Rg.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),Rg.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Rg.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Rg.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Rg.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return Rg.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),Rg.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Rg.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),Rg.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return Rg.resolve(n)}},{key:"containsKey",value:function(e,t){return Rg.resolve(this.Ps.containsKey(t))}}]),e}(),aS=function(){function e(t,n){var r=this;Kr(this,e),this.Vs={},this.overlays={},this.Ss=new zg(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new iS(this),this.indexManager=new f_,this.remoteDocumentCache=new nS((function(e){return r.referenceDelegate.xs(e)})),this.It=new Fx(n),this.Ns=new X_(this.It)}return Hr(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new J_,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new tS(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;jy("MemoryPersistence","Starting transaction:",e);var i=new oS(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Ms(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e,t){return Rg.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),oS=function(e){Xr(n,e);var t=ni(n);function n(e){var r;return Kr(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Hr(n)}(Eg),uS=function(){function e(t){Kr(this,e),this.persistence=t,this.Fs=new Z_,this.$s=null}return Hr(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw Wy()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),Rg.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),Rg.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),Rg.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Ms",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Rg.forEach(this.Ls,(function(r){var i=vg.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,lg.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return Rg.or([function(){return Rg.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Os(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),sS=function(){function e(t){Kr(this,e),this.It=t}return Hr(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new Ag("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sx,{unique:!0}),e.createObjectStore("documentMutations")}(e),cS(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Rg.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),cS(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:lg.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sx,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Rg.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.qs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:_x});t.createIndex("collectionPathOverlayIndex",Sx,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Ix,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:hx});t.createIndex("documentKeyIndex",dx),t.createIndex("collectionGroupIndex",px)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:bx}).createIndex("sequenceNumberIndex",kx,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:wx}).createIndex("documentKeyIndex",xx,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=__(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return Rg.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return Rg.forEach(r,(function(r){Ky(r.userId===n.userId);var i=Bx(t.It,r);return x_(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new hg(n),o=function(e){return[0,ix(e)]}(a);r.push(t.get(o).next((function(n){return n?Rg.resolve():function(n){return t.put({targetId:0,path:ix(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Rg.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:gx});var n=t.store("collectionParents"),r=new h_,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:ix(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new hg(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],ux(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=qx(r),a=Wx(t.It,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new vg(hg.fromString(i.document.name).popFirst(5)):i.noDocument?vg.fromSegments(i.noDocument.path):i.unknownDocument?vg.fromSegments(i.unknownDocument.path):Wy()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Rg.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=B_(this.It),a=new aS(uS.Bs,this.It.re);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:pw();Bx(n.It,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Rg.forEach(r,(function(e,r){var o=new My(r),u=Jx.oe(n.It,o),s=a.getIndexManager(o),c=S_.oe(o,n.It,s,a.referenceDelegate);return new Y_(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Nx(t,zg.at),e).next()}))}))}}]),e}();function cS(e){e.createObjectStore("targetDocuments",{keyPath:mx}).createIndex("documentTargetsIndex",yx,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",vx,{unique:!0}),e.createObjectStore("targetGlobal")}var lS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",fS=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(Kr(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new $y(Hy.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new U_(this,i),this.ii=n+"main",this.It=new Fx(s),this.ri=new Ng(this.ii,this.Xs,new sS(this.It)),this.Cs=new A_(this.referenceDelegate,this.It),this.remoteDocumentCache=B_(this.It),this.Ns=new Qx,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&zy("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Hr(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new $y(Hy.FAILED_PRECONDITION,lS);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new zg(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=Mi(Ui().mark((function n(r){return Ui().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=Mi(Ui().mark((function t(n){return Ui().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(Mi(Ui().mark((function e(){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return dS(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(Dg(t))return jy("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return jy("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return hS(e).get("owner").next((function(e){return Rg.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return dS(e).delete(this.clientId)}},{key:"yi",value:function(){var e=Mi(Ui().mark((function e(){var t,n,r,i,a=this;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Px(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Rg.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=$r(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?Rg.resolve(!0):hS(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new $y(Hy.FAILED_PRECONDITION,lS);return!1}}return!(!t.networkEnabled||!t.inForeground)||dS(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&jy("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Mi(Ui().mark((function e(){var t=this;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Nx(e,zg.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return dS(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return S_.oe(e,this.It,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new p_(e,this.It.re.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Jx.oe(this.It,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;jy("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?Ax:14===i?Rx:13===i?Cx:12===i?Tx:11===i?Ex:void Wy();return this.ri.runTransaction(e,o,u,(function(i){return a=new Nx(i,r.Ss?r.Ss.next():zg.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw zy("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new $y(Hy.FAILED_PRECONDITION,Ig);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return hS(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new $y(Hy.FAILED_PRECONDITION,lS)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return hS(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=hS(e);return n.get("owner").next((function(e){return t.mi(e)?(jy("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Rg.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(zy("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!pi()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return jy("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return zy("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(Wd){zy("Failed to set zombie client id.",Wd)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(Wd){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return Ng.C()}}]),e}();function hS(e){return Px(e,"owner")}function dS(e){return Px(e,"clientMetadata")}function pS(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var vS=function(){function e(t,n,r,i){Kr(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return Hr(e,null,[{key:"Ci",value:function(t,n){var r,i=pw(),a=pw(),o=$r(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),mS=function(){function e(){Kr(this,e),this.xi=!1}return Hr(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Mi(e,t,r,n)})).next((function(n){return n||i.Oi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(ok(t))return Rg.resolve(null);var r=fk(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=hk(t,null,"F"),r=fk(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=pw.apply(void 0,Di(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,hk(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Mi",value:function(e,t,n,r){var i=this;return ok(t)||r.isEqual(lg.min())?this.Oi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Oi(e,t):(Vy()<=Wi.DEBUG&&jy("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),vk(t)),i.Bi(e,o,t,wg(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new $g(gk(e));return t.forEach((function(t,r){mk(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Oi",value:function(e,t){return Vy()<=Wi.DEBUG&&jy("QueryEngine","Using full collection scan to execute query:",vk(t)),this.Ni.getDocumentsMatchingQuery(e,t,_g.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),yS=function(){function e(t,n,r,i){Kr(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new Kg(og),this.qi=new rw((function(e){return Fb(e)}),Ub),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return Hr(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Y_(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function gS(e,t,n,r){return new yS(e,t,n,r)}function bS(e,t){return kS.apply(this,arguments)}function kS(){return kS=Mi(Ui().mark((function e(t,n){var r;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gy(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=pw(),s=$r(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=$r(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var d,p=$r(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=$r(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),kS.apply(this,arguments)}function wS(e,t){var n=Gy(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Rg.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Ky(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=pw(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function xS(e){var t=Gy(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function _S(e,t){var n=Gy(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Jg.EMPTY_BYTE_STRING,lg.min()).withLastLimboFreeSnapshotVersion(lg.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=aw(),s=pw();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(SS(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(lg.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Rg.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ui=i,e}))}function SS(e,t,n){var r=pw(),i=pw();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=aw();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(lg.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):jy("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function IS(e,t){var n=Gy(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function ES(e,t){var n=Gy(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,Rg.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new Mx(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function TS(e,t,n){return CS.apply(this,arguments)}function CS(){return CS=Mi(Ui().mark((function e(t,n,r){var i,a,o;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Gy(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Dg(e.t1)){e.next=12;break}throw e.t1;case 12:jy("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),CS.apply(this,arguments)}function RS(e,t,n){var r=Gy(e),i=lg.min(),a=pw();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Gy(e),i=r.qi.get(n);return void 0!==i?Rg.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,fk(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:lg.min(),n?a:pw())})).next((function(e){return PS(r,yk(t),e),{documents:e,Hi:a}}))}))}function AS(e,t){var n=Gy(e),r=Gy(n.Cs),i=n.Ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.se(e,t).next((function(e){return e?e.target:null}))}))}function NS(e,t){var n=Gy(e),r=n.Ki.get(t)||lg.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,wg(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return PS(n,t,e),e}))}function PS(e,t,n){var r=lg.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function OS(e,t,n,r){return DS.apply(this,arguments)}function DS(){return DS=Mi(Ui().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Gy(t),o=pw(),u=aw(),s=$r(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,ES(a,function(e){return fk(ak(hg.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return SS(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),DS.apply(this,arguments)}function LS(e,t){return MS.apply(this,arguments)}function MS(){return MS=Mi(Ui().mark((function e(t,n){var r,i,a,o=arguments;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:pw(),e.next=3,ES(t,fk(Kx(n.bundledQuery)));case 3:return i=e.sent,a=Gy(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Pw(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(Jg.EMPTY_BYTE_STRING,t);return a.Ui=a.Ui.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),MS.apply(this,arguments)}function FS(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function US(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function VS(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var jS=function(){function e(t,n,r,i){Kr(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Hr(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new $y(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(zy("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),zS=function(){function e(t,n,r){Kr(this,e),this.targetId=t,this.state=n,this.error=r}return Hr(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new $y(i.error.code,i.error.message))),a?new e(t,i.state,r):(zy("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),BS=function(){function e(t,n){Kr(this,e),this.clientId=t,this.activeTargetIds=n}return Hr(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=mw(),o=0;i&&o<r.activeTargetIds.length;++o)i=lb(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(zy("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),qS=function(){function e(t,n){Kr(this,e),this.clientId=t,this.onlineState=n}return Hr(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(zy("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),WS=function(){function e(){Kr(this,e),this.activeTargetIds=mw()}return Hr(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),KS=function(){function e(t,n,r,i,a){Kr(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Kg(og),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=FS(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new WS),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return Hr(e,[{key:"start",value:function(){var e=Mi(Ui().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=$r(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(FS(this.persistenceKey,i)))&&(o=BS.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=$r(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(VS(this.persistenceKey,e));if(n){var r=zS.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(VS(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return jy("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){jy("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){jy("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(jy("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void zy("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(Mi(Ui().mark((function e(){var r,i,a,o,u,s,c;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=zg.at;if(null!=e)try{var n=JSON.parse(e);Ky("number"==typeof n),t=n}catch(e){zy("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==zg.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Mr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Or(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new jS(this.currentUser,e,t,n),i=US(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=US(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=VS(this.persistenceKey,e),i=new zS(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return BS.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return jS.Zi(new My(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return zS.Zi(r,t)}},{key:"yr",value:function(e){return qS.Zi(e)}},{key:"Mr",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=Mi(Ui().mark((function e(t){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:jy("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=mw();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),GS=function(){function e(){Kr(this,e),this.Lr=new WS,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Hr(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new WS,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),HS=function(){function e(){Kr(this,e)}return Hr(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),$S=function(){function e(){var t=this;Kr(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return Hr(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){jy("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=$r(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){jy("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=$r(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),QS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},YS=function(){function e(t){Kr(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return Hr(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),XS=function(e){Xr(n,e);var t=ni(n);function n(e){var r;return Kr(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Hr(n,[{key:"lo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Dy;o.listenOnce(Ry.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Cy.NO_ERROR:var t=o.getResponseJson();jy("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Cy.TIMEOUT:jy("Connection",'RPC "'+e+'" timed out'),a(new $y(Hy.DEADLINE_EXCEEDED,"Request time out"));break;case Cy.HTTP_ERROR:var n=o.getStatus();if(jy("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Hy).indexOf(t)>=0?t:Hy.UNKNOWN}(r.status);a(new $y(u,r.message))}else a(new $y(Hy.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new $y(Hy.UNAVAILABLE,"Connection failed."));break;default:Wy()}}finally{jy("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"_o",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Ey(),a=Ty(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Py({})),this.ho(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");jy("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new YS({Hr:function(e){l?jy("Connection","Not sending because WebChannel is closed:",e):(c||(jy("Connection","Opening WebChannel transport."),s.open(),c=!0),jy("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Oy.EventType.OPEN,(function(){l||jy("Connection","WebChannel transport opened.")})),h(s,Oy.EventType.CLOSE,(function(){l||(l=!0,jy("Connection","WebChannel transport closed"),f.io())})),h(s,Oy.EventType.ERROR,(function(e){l||(l=!0,By("Connection","WebChannel transport errored:",e),f.io(new $y(Hy.UNAVAILABLE,"The operation could not be completed")))})),h(s,Oy.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Ky(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){jy("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Yk[e];if(void 0!==t)return nw(t)}(a),u=i.message;void 0===o&&(o=Hy.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new $y(o,u)),s.close()}else jy("Connection","WebChannel received:",n),f.ro(n)}})),h(a,Ay.STAT_EVENT,(function(e){e.stat===Ny.PROXY?jy("Connection","Detected buffering proxy"):e.stat===Ny.NOPROXY&&jy("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){Kr(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Hr(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ao(e,t);jy("RestConnection","Sending: ",a,n);var o={};return this.ho(o,r,i),this.lo(e,a,o,n).then((function(e){return jy("RestConnection","Received: ",e),e}),(function(t){throw By("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"fo",value:function(e,t,n,r,i,a){return this.co(e,t,n,r,i)}},{key:"ho",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ao",value:function(e,t){var n=QS[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function JS(){return"undefined"!=typeof window?window:null}function ZS(){return"undefined"!=typeof document?document:null}function eI(e){return new Cw(e,!0)}var tI=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Kr(this,e),this.Hs=t,this.timerId=n,this.wo=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}return Hr(e,[{key:"reset",value:function(){this.po=0}},{key:"Eo",value:function(){this.po=this.yo}},{key:"Ao",value:function(e){var t=this;this.cancel();var n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&jy("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.po," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.To=Date.now(),e()})),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}},{key:"bo",value:function(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}},{key:"cancel",value:function(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}},{key:"Ro",value:function(){return(Math.random()-.5)*this.po}}]),e}(),nI=function(){function e(t,n,r,i,a,o,u,s){Kr(this,e),this.Hs=t,this.Po=r,this.vo=i,this.Vo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new tI(t,n)}return Hr(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Mo()}},{key:"stop",value:function(){var e=Mi(Ui().mark((function e(){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=Mi(Ui().mark((function e(){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===Hy.RESOURCE_EXHAUSTED?(zy(n.toString()),zy("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):n&&n.code===Hy.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new $y(Hy.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Mo",value:function(){var e=this;this.state=5,this.xo.Ao(Mi(Ui().mark((function t(){return Ui().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return jy("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(jy("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),rI=function(e){Xr(n,e);var t=ni(n);function n(e,r,i,a,o,u){var s;return Kr(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).It=o,s}return Hr(n,[{key:"jo",value:function(e,t){return this.Vo._o("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Wy()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(Ky(void 0===t||"string"==typeof t),Jg.fromBase64String(t||"")):(Ky(void 0===t||t instanceof Uint8Array),Jg.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Hy.UNKNOWN:nw(e.code);return new $y(t,e.message||"")}(o);n=new ww(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Mw(e,s.document.name),l=Pw(s.document.updateTime),f=new Pb({mapValue:{fields:s.document.fields}}),h=Db.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new bw(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Mw(e,v.document),y=v.readTime?Pw(v.readTime):lg.min(),g=Db.newNoDocument(m,y),b=v.removedTargetIds||[];n=new bw([],b,g.key,g)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=Mw(e,k.document),x=k.removedTargetIds||[];n=new bw([],x,w,null)}else{if(!("filter"in t))return Wy();t.filter;var _=t.filter;_.targetId;var S=_.count||0,I=new ew(S),E=_.targetId;n=new kw(E,I)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return lg.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?lg.min():t.readTime?Pw(t.readTime):lg.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=Vw(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=Vb(r)?{documents:Gw(e,r)}:{query:Hw(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Aw(e,t.resumeToken):t.snapshotVersion.compareTo(lg.min())>0&&(n.readTime=Rw(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Wy()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=Vw(this.It),t.removeTarget=e,this.Bo(t)}}]),n}(nI),iI=function(e){Xr(n,e);var t=ni(n);function n(e,r,i,a,o,u){var s;return Kr(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).It=o,s.Jo=!1,s}return Hr(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,po(Jr(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.Vo._o("Write",e,t)}},{key:"onMessage",value:function(e){if(Ky(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(Ky(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Pw(e.updateTime):Pw(t);return n.isEqual(lg.min())&&(n=Pw(t)),new Mk(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Pw(e.commitTime);return this.listener.Zo(n,t)}return Ky(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=Vw(this.It),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Ww(t.It,e)}))};this.Bo(n)}}]),n}(nI),aI=function(e){Xr(n,e);var t=ni(n);function n(e,r,i,a){var o;return Kr(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.Vo=i,o.It=a,o.nu=!1,o}return Hr(n,[{key:"su",value:function(){if(this.nu)throw new $y(Hy.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.Vo.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Hy.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new $y(Hy.UNKNOWN,e.toString())}))}},{key:"fo",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=c(a,2),u=o[0],s=o[1];return i.Vo.fo(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Hy.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new $y(Hy.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return Hr((function e(){Kr(this,e)}))}()),oI=function(){function e(t,n){Kr(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return Hr(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(zy(t),this.ou=!1):jy("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),uI=Hr((function e(t,n,r,i,a){var o=this;Kr(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr((function(e){r.enqueueAndForget(Mi(Ui().mark((function e(){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=gI(o),!e.t0){e.next=5;break}return jy("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Mi(Ui().mark((function e(t){var n;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Gy(t))._u.add(4),e.next=4,lI(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,sI(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new oI(r,i)}));function sI(e){return cI.apply(this,arguments)}function cI(){return cI=Mi(Ui().mark((function e(t){var n,r,i;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!gI(t)){e.next=18;break}n=$r(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),cI.apply(this,arguments)}function lI(e){return fI.apply(this,arguments)}function fI(){return fI=Mi(Ui().mark((function e(t){var n,r,i;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=$r(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),fI.apply(this,arguments)}function hI(e,t){var n=Gy(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),yI(n)?mI(n):HI(n).ko()&&pI(n,t))}function dI(e,t){var n=Gy(e),r=HI(n);n.du.delete(t),r.ko()&&vI(n,t),0===n.du.size&&(r.ko()?r.Fo():gI(n)&&n.gu.set("Unknown"))}function pI(e,t){e.yu.Ot(t.targetId),HI(e).zo(t)}function vI(e,t){e.yu.Ot(t),HI(e).Ho(t)}function mI(e){e.yu=new _w({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e.du.get(t)||null}}),HI(e).start(),e.gu.uu()}function yI(e){return gI(e)&&!HI(e).No()&&e.du.size>0}function gI(e){return 0===Gy(e)._u.size}function bI(e){e.yu=void 0}function kI(e){return wI.apply(this,arguments)}function wI(){return wI=Mi(Ui().mark((function e(t){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){pI(t,e)}));case 1:case"end":return e.stop()}}),e)}))),wI.apply(this,arguments)}function xI(e,t){return _I.apply(this,arguments)}function _I(){return _I=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bI(t),yI(t)?(t.gu.hu(n),mI(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),_I.apply(this,arguments)}function SI(e,t,n){return II.apply(this,arguments)}function II(){return II=Mi(Ui().mark((function e(t,n,r){var i;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof ww&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Mi(Ui().mark((function e(t,n){var r,i,a,o;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=$r(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),jy("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,EI(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof bw?t.yu.Gt(n):n instanceof kw?t.yu.Yt(n):t.yu.Wt(n),r.isEqual(lg.min())){e.next=29;break}return e.prev=14,e.next=17,xS(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(Jg.EMPTY_BYTE_STRING,n.snapshotVersion)),vI(e,t);var r=new Mx(n.target,t,1,n.sequenceNumber);pI(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),jy("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,EI(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),II.apply(this,arguments)}function EI(e,t,n){return TI.apply(this,arguments)}function TI(){return TI=Mi(Ui().mark((function e(t,n,r){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Dg(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,lI(t);case 5:t.gu.set("Offline"),r||(r=function(){return xS(t.localStore)}),t.asyncQueue.enqueueRetryable(Mi(Ui().mark((function e(){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jy("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,sI(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),TI.apply(this,arguments)}function CI(e,t){return t().catch((function(n){return EI(e,n,t)}))}function RI(e){return AI.apply(this,arguments)}function AI(){return AI=Mi(Ui().mark((function e(t){var n,r,i,a;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Gy(t),r=$I(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!NI(n)){e.next=19;break}return e.prev=3,e.next=6,IS(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,PI(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,EI(n,e.t0);case 17:e.next=2;break;case 19:OI(n)&&DI(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),AI.apply(this,arguments)}function NI(e){return gI(e)&&e.fu.length<10}function PI(e,t){e.fu.push(t);var n=$I(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function OI(e){return gI(e)&&!$I(e).No()&&e.fu.length>0}function DI(e){$I(e).start()}function LI(e){return MI.apply(this,arguments)}function MI(){return MI=Mi(Ui().mark((function e(t){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$I(t).eu();case 1:case"end":return e.stop()}}),e)}))),MI.apply(this,arguments)}function FI(e){return UI.apply(this,arguments)}function UI(){return UI=Mi(Ui().mark((function e(t){var n,r,i,a;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=$I(t),r=$r(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),UI.apply(this,arguments)}function VI(e,t,n){return jI.apply(this,arguments)}function jI(){return jI=Mi(Ui().mark((function e(t,n,r){var i,a;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=Dx.from(i,n,r),e.next=3,CI(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,RI(t);case 5:case"end":return e.stop()}}),e)}))),jI.apply(this,arguments)}function zI(e,t){return BI.apply(this,arguments)}function BI(){return BI=Mi(Ui().mark((function e(t,n){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&$I(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Mi(Ui().mark((function e(t,n){var r,i;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!tw(i=n.code)||i===Hy.ABORTED){e.next=7;break}return r=t.fu.shift(),$I(t).Oo(),e.next=5,CI(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,RI(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:OI(t)&&DI(t);case 5:case"end":return e.stop()}}),e)}))),BI.apply(this,arguments)}function qI(e,t){return WI.apply(this,arguments)}function WI(){return WI=Mi(Ui().mark((function e(t,n){var r,i;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Gy(t)).asyncQueue.verifyOperationInProgress(),jy("RemoteStore","RemoteStore received new credentials"),i=gI(r),r._u.add(3),e.next=6,lI(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,sI(r);case 12:case"end":return e.stop()}}),e)}))),WI.apply(this,arguments)}function KI(e,t){return GI.apply(this,arguments)}function GI(){return GI=Mi(Ui().mark((function e(t,n){var r;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Gy(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,sI(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,lI(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),GI.apply(this,arguments)}function HI(e){return e.pu||(e.pu=function(e,t,n){var r=Gy(e);return r.su(),new rI(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:kI.bind(null,e),Zr:xI.bind(null,e),Wo:SI.bind(null,e)}),e.wu.push(function(){var t=Mi(Ui().mark((function t(n){return Ui().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Oo(),yI(e)?mI(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:bI(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function $I(e){return e.Iu||(e.Iu=function(e,t,n){var r=Gy(e);return r.su(),new iI(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:LI.bind(null,e),Zr:zI.bind(null,e),tu:FI.bind(null,e),Zo:VI.bind(null,e)}),e.wu.push(function(){var t=Mi(Ui().mark((function t(n){return Ui().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Oo(),t.next=4,RI(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(jy("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var QI=function(){function e(t,n,r,i,a){Kr(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Qy,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Hr(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $y(Hy.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function YI(e,t){if(zy("AsyncQueue","".concat(t,": ").concat(e)),Dg(e))return new $y(Hy.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var XI=function(){function e(t){Kr(this,e),this.comparator=t?function(e,n){return t(e,n)||vg.comparator(e.key,n.key)}:function(e,t){return vg.comparator(e.key,t.key)},this.keyedMap=uw(),this.sortedSet=new Kg(this.comparator)}return Hr(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),JI=function(){function e(){Kr(this,e),this.Tu=new Kg(vg.comparator)}return Hr(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Wy():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),ZI=function(){function e(t,n,r,i,a,o,u,s){Kr(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Hr(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dk(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,XI.emptySet(n),a,r,i,!0,!1)}}]),e}(),eE=Hr((function e(){Kr(this,e),this.Au=void 0,this.listeners=[]})),tE=Hr((function e(){Kr(this,e),this.queries=new rw((function(e){return pk(e)}),dk),this.onlineState="Unknown",this.Ru=new Set}));function nE(e,t){return rE.apply(this,arguments)}function rE(){return rE=Mi(Ui().mark((function e(t,n){var r,i,a,o,u;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Gy(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new eE),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=YI(e.t0,"Initialization of query '".concat(vk(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&sE(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),rE.apply(this,arguments)}function iE(e,t){return aE.apply(this,arguments)}function aE(){return aE=Mi(Ui().mark((function e(t,n){var r,i,a,o,u;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Gy(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),aE.apply(this,arguments)}function oE(e,t){var n,r=Gy(e),i=!1,a=$r(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=$r(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&sE(r)}function uE(e,t,n){var r=Gy(e),i=r.queries.get(t);if(i){var a,o=$r(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function sE(e){e.Ru.forEach((function(e){e.next()}))}var cE=function(){function e(t,n,r){Kr(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return Hr(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=$r(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new ZI(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=ZI.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}]),e}(),lE=function(){function e(t,n){Kr(this,e),this.payload=t,this.byteLength=n}return Hr(e,[{key:"ku",value:function(){return"metadata"in this.payload}}]),e}(),fE=function(){function e(t){Kr(this,e),this.It=t}return Hr(e,[{key:"Ji",value:function(e){return Mw(this.It,e)}},{key:"Yi",value:function(e){return e.metadata.exists?Bw(this.It,e.document,!1):Db.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return Pw(e)}}]),e}(),hE=function(){function e(t,n,r){Kr(this,e),this.Mu=t,this.localStore=n,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=dE(t)}return Hr(e,[{key:"Ou",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=hg.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Fu",value:function(e){var t,n=new Map,r=new fE(this.It),i=$r(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=$r(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||pw()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Mi(Ui().mark((function e(){var t,n,r,i,a;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,OS(this.localStore,new fE(this.It),this.documents,this.Mu.id);case 2:t=e.sent,n=this.Fu(this.documents),r=$r(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,LS(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,$u:this.collectionGroups,Bu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function dE(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var pE=Hr((function e(t){Kr(this,e),this.key=t})),vE=Hr((function e(t){Kr(this,e),this.key=t})),mE=function(){function e(t,n){Kr(this,e),this.query=t,this.Lu=n,this.Uu=null,this.current=!1,this.qu=pw(),this.mutatedKeys=pw(),this.Ku=gk(t),this.Gu=new XI(this.Ku)}return Hr(e,[{key:"Qu",get:function(){return this.Lu}},{key:"ju",value:function(e,t){var n=this,r=t?t.Wu:new JI,i=t?t.Gu:this.Gu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=mk(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.zu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ku(f,s)>0||c&&n.Ku(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Gu:o,Wu:r,$i:u,mutatedKeys:a}}},{key:"zu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;var a=e.Wu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Wy()}};return n(e)-n(t)}(e.type,t.type)||r.Ku(e.doc,t.doc)})),this.Hu(n);var o=t?this.Ju():[],u=0===this.qu.size&&this.current?1:0,s=u!==this.Uu;return this.Uu=u,0!==a.length||s?{snapshot:new ZI(this.query,e.Gu,i,a,e.mutatedKeys,0===u,s,!1),Yu:o}:{Yu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new JI,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}},{key:"Xu",value:function(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}},{key:"Hu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Lu=t.Lu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Lu=t.Lu.delete(e)})),this.current=e.current)}},{key:"Ju",value:function(){var e=this;if(!this.current)return[];var t=this.qu;this.qu=pw(),this.Gu.forEach((function(t){e.Xu(t.key)&&(e.qu=e.qu.add(t.key))}));var n=[];return t.forEach((function(t){e.qu.has(t)||n.push(new vE(t))})),this.qu.forEach((function(e){t.has(e)||n.push(new pE(e))})),n}},{key:"Zu",value:function(e){this.Lu=e.Hi,this.qu=pw();var t=this.ju(e.documents);return this.applyChanges(t,!0)}},{key:"tc",value:function(){return ZI.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}]),e}(),yE=Hr((function e(t,n,r){Kr(this,e),this.query=t,this.targetId=n,this.view=r})),gE=Hr((function e(t){Kr(this,e),this.key=t,this.ec=!1})),bE=function(){function e(t,n,r,i,a,o){Kr(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new rw((function(e){return pk(e)}),dk),this.ic=new Map,this.rc=new Set,this.oc=new Kg(vg.comparator),this.uc=new Map,this.cc=new Z_,this.ac={},this.hc=new Map,this.lc=R_.vn(),this.onlineState="Unknown",this.fc=void 0}return Hr(e,[{key:"isPrimaryClient",get:function(){return!0===this.fc}}]),e}();function kE(e,t){return wE.apply(this,arguments)}function wE(){return wE=Mi(Ui().mark((function e(t,n){var r,i,a,o,u,s;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=dT(t),!(o=r.sc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.tc(),e.next=15;break;case 6:return e.next=8,ES(r.localStore,fk(n));case 8:return u=e.sent,r.isPrimaryClient&&hI(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,xE(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),wE.apply(this,arguments)}function xE(e,t,n,r){return _E.apply(this,arguments)}function _E(){return _E=Mi(Ui().mark((function e(t,n,r,i){var a,o,u,s,c,l;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dc=function(e,n,r){return function(){var e=Mi(Ui().mark((function e(t,n,r,i){var a,o,u;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ju(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,RS(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ju(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(qE(t,n.targetId,u.Yu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,RS(t.localStore,n,!0);case 3:return a=e.sent,o=new mE(n,a.Hi),u=o.ju(a.documents),s=gw.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),qE(t,r,c.Yu),l=new yE(n,r,o),e.abrupt("return",(t.sc.set(n,l),t.ic.has(r)?t.ic.get(r).push(n):t.ic.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),_E.apply(this,arguments)}function SE(e,t){return IE.apply(this,arguments)}function IE(){return IE=Mi(Ui().mark((function e(t,n){var r,i,a;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Gy(t),i=r.sc.get(n),!((a=r.ic.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ic.set(i.targetId,a.filter((function(e){return!dk(e,n)}))),void r.sc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,TS(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),dI(r.remoteStore,i.targetId),zE(r,i.targetId)})).catch(Tg);case 9:e.next=14;break;case 11:return zE(r,i.targetId),e.next=14,TS(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),IE.apply(this,arguments)}function EE(e,t,n){return TE.apply(this,arguments)}function TE(){return TE=Mi(Ui().mark((function e(t,n,r){var i,a,o;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pT(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Gy(e),a=cg.now(),o=t.reduce((function(e,t){return e.add(t.key)}),pw());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=aw(),s=pw();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=$r(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=qk(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Gk(c.key,l,Ob(l.value.mapValue),Fk.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:sw(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ac[e.currentUser.toKey()];r||(r=new Kg(og)),r=r.insert(t,n),e.ac[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,GE(i,a.changes);case 9:return e.next=11,RI(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=YI(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),TE.apply(this,arguments)}function CE(e,t){return RE.apply(this,arguments)}function RE(){return RE=Mi(Ui().mark((function e(t,n){var r,i;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gy(t),e.prev=1,e.next=4,_S(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.uc.get(t);n&&(Ky(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ec=!0:e.modifiedDocuments.size>0?Ky(n.ec):e.removedDocuments.size>0&&(Ky(n.ec),n.ec=!1))})),e.next=8,GE(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Tg(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),RE.apply(this,arguments)}function AE(e,t,n){var r=Gy(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.sc.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Gy(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=$r(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&sE(n)}(r.eventManager,t),i.length&&r.nc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function NE(e,t,n){return PE.apply(this,arguments)}function PE(){return PE=Mi(Ui().mark((function e(t,n,r){var i,a,o,u,s,c;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Gy(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.uc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Kg(vg.comparator)).insert(o,Db.newNoDocument(o,lg.min())),s=pw().add(o),c=new yw(lg.min(),new Map,new $g(og),u,s),e.next=9,CE(i,c);case 9:i.oc=i.oc.remove(o),i.uc.delete(n),KE(i),e.next=16;break;case 14:return e.next=16,TS(i.localStore,n,!1).then((function(){return zE(i,n,r)})).catch(Tg);case 16:case"end":return e.stop()}}),e)}))),PE.apply(this,arguments)}function OE(e,t){return DE.apply(this,arguments)}function DE(){return DE=Mi(Ui().mark((function e(t,n){var r,i,a;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gy(t),i=n.batch.batchId,e.prev=1,e.next=4,wS(r.localStore,n);case 4:return a=e.sent,jE(r,i,null),VE(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,GE(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Tg(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),DE.apply(this,arguments)}function LE(e,t,n){return ME.apply(this,arguments)}function ME(){return ME=Mi(Ui().mark((function e(t,n,r){var i,a;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gy(t),e.prev=1,e.next=4,function(e,t){var n=Gy(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Ky(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,jE(i,n,r),VE(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,GE(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Tg(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),ME.apply(this,arguments)}function FE(e,t){return UE.apply(this,arguments)}function UE(){return UE=Mi(Ui().mark((function e(t,n){var r,i,a,o;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gI((r=Gy(t)).remoteStore)||jy("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Gy(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.hc.get(i)||[]).push(n),r.hc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=YI(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),UE.apply(this,arguments)}function VE(e,t){(e.hc.get(t)||[]).forEach((function(e){e.resolve()})),e.hc.delete(t)}function jE(e,t,n){var r=Gy(e),i=r.ac[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function zE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=$r(e.ic.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.sc.delete(a),n&&e.nc._c(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ic.delete(t),e.isPrimaryClient&&e.cc.ls(t).forEach((function(t){e.cc.containsKey(t)||BE(e,t)}))}function BE(e,t){e.rc.delete(t.path.canonicalString());var n=e.oc.get(t);null!==n&&(dI(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),KE(e))}function qE(e,t,n){var r,i=$r(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof pE?(e.cc.addReference(a.key,t),WE(e,a)):a instanceof vE?(jy("SyncEngine","Document no longer in limbo: "+a.key),e.cc.removeReference(a.key,t),e.cc.containsKey(a.key)||BE(e,a.key)):Wy()}}catch(o){i.e(o)}finally{i.f()}}function WE(e,t){var n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(jy("SyncEngine","New document in limbo: "+n),e.rc.add(r),KE(e))}function KE(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){var t=e.rc.values().next().value;e.rc.delete(t);var n=new vg(hg.fromString(t)),r=e.lc.next();e.uc.set(r,new gE(n)),e.oc=e.oc.insert(n,r),hI(e.remoteStore,new Mx(fk(ak(n.path)),r,2,zg.at))}}function GE(e,t,n){return HE.apply(this,arguments)}function HE(){return HE=Mi(Ui().mark((function e(t,n,r){var i,a,o,u;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Gy(t),a=[],o=[],u=[],e.t0=i.sc.isEmpty(),e.t0){e.next=9;break}return i.sc.forEach((function(e,t){u.push(i.dc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=vS.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.nc.Wo(a),e.next=9,function(){var e=Mi(Ui().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gy(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Rg.forEach(n,(function(t){return Rg.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Rg.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Dg(e.t0)){e.next=10;break}throw e.t0;case 10:jy("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=$r(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ui=r.Ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),HE.apply(this,arguments)}function $E(e,t){return QE.apply(this,arguments)}function QE(){return QE=Mi(Ui().mark((function e(t,n){var r,i;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Gy(t)).currentUser.isEqual(n)){e.next=11;break}return jy("SyncEngine","User change. New user:",n.toKey()),e.next=5,bS(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.hc.forEach((function(e){e.forEach((function(e){e.reject(new $y(Hy.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.hc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,GE(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),QE.apply(this,arguments)}function YE(e,t){var n=Gy(e),r=n.uc.get(t);if(r&&r.ec)return pw().add(r.key);var i=pw(),a=n.ic.get(t);if(!a)return i;var o,u=$r(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.sc.get(s);i=i.unionWith(c.view.Qu)}}catch(l){u.e(l)}finally{u.f()}return i}function XE(e,t){return JE.apply(this,arguments)}function JE(){return JE=Mi(Ui().mark((function e(t,n){var r,i,a;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gy(t),e.next=3,RS(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Zu(i),e.abrupt("return",(r.isPrimaryClient&&qE(r,n.targetId,a.Yu),a));case 6:case"end":return e.stop()}}),e)}))),JE.apply(this,arguments)}function ZE(e,t){return eT.apply(this,arguments)}function eT(){return eT=Mi(Ui().mark((function e(t,n){var r;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gy(t),e.abrupt("return",NS(r.localStore,n).then((function(e){return GE(r,e)})));case 2:case"end":return e.stop()}}),e)}))),eT.apply(this,arguments)}function tT(e,t,n,r){return nT.apply(this,arguments)}function nT(){return nT=Mi(Ui().mark((function e(t,n,r,i){var a,o;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Gy(t),e.next=3,function(e,t){var n=Gy(e),r=Gy(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Rg.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,RI(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(jE(a,n,i||null),VE(a,n),function(e,t){Gy(Gy(e).mutationQueue).An(t)}(a.localStore,n)):Wy();case 11:return e.next=13,GE(a,o);case 13:e.next=16;break;case 15:jy("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),nT.apply(this,arguments)}function rT(e,t){return iT.apply(this,arguments)}function iT(){return iT=Mi(Ui().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(dT(r=Gy(t)),pT(r),!0!==n||!0===r.fc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,aT(r,i.toArray());case 5:return a=e.sent,r.fc=!0,e.next=9,KI(r.remoteStore,!0);case 9:o=$r(a);try{for(o.s();!(u=o.n()).done;)s=u.value,hI(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.fc){e.next=25;break}return c=[],l=Promise.resolve(),r.ic.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return zE(r,t),TS(r.localStore,t,!0)})),dI(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,aT(r,c);case 21:return function(e){var t=Gy(e);t.uc.forEach((function(e,n){dI(t.remoteStore,n)})),t.cc.fs(),t.uc=new Map,t.oc=new Kg(vg.comparator)}(r),r.fc=!1,e.next=25,KI(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),iT.apply(this,arguments)}function aT(e,t,n){return oT.apply(this,arguments)}function oT(){return oT=Mi(Ui().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Gy(t),a=[],o=[],u=$r(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ic.get(c))||0===f.length){e.next=34;break}return e.next=11,ES(i.localStore,fk(f[0]));case 11:l=e.sent,h=$r(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.sc.get(p),e.next=20,XE(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,AS(i.localStore,c);case 36:return y=e.sent,e.next=39,ES(i.localStore,y);case 39:return l=e.sent,e.next=42,xE(i,uT(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.nc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),oT.apply(this,arguments)}function uT(e){return ik(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function sT(e){var t=Gy(e);return Gy(Gy(t.localStore).persistence).vi()}function cT(e,t,n,r){return lT.apply(this,arguments)}function lT(){return lT=Mi(Ui().mark((function e(t,n,r,i){var a,o,u,s;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Gy(t)).fc){e.next=3;break}return e.abrupt("return",void jy("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ic.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,NS(a.localStore,yk(o[0]));case 10:return u=e.sent,s=yw.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,GE(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,TS(a.localStore,n,!0);case 17:return zE(a,n,i),e.abrupt("break",20);case 19:Wy();case 20:case"end":return e.stop()}}),e)}))),lT.apply(this,arguments)}function fT(e,t,n){return hT.apply(this,arguments)}function hT(){return hT=Mi(Ui().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=dT(t)).fc){e.next=45;break}a=$r(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ic.has(u)){e.next=10;break}return jy("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,AS(i.localStore,u);case 12:return s=e.sent,e.next=15,ES(i.localStore,s);case 15:return c=e.sent,e.next=18,xE(i,uT(s),c.targetId,!1);case 18:hI(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=$r(r),e.prev=30,h=Ui().mark((function e(){var t;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ic.has(t),!e.t0){e.next=5;break}return e.next=5,TS(i.localStore,t,!1).then((function(){dI(i.remoteStore,t),zE(i,t)})).catch(Tg);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),hT.apply(this,arguments)}function dT(e){var t=Gy(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=CE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=YE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=NE.bind(null,t),t.nc.Wo=oE.bind(null,t.eventManager),t.nc._c=uE.bind(null,t.eventManager),t}function pT(e){var t=Gy(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=OE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=LE.bind(null,t),t}function vT(e,t,n){var r=Gy(e);(function(){var e=Mi(Ui().mark((function e(t,n,r){var i,a,o,u,s;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Gy(e),r=Pw(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(dE(i)),a=new hE(i,t.localStore,n.It),e.next=15,n.wc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Ou(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.wc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,GE(t,s.Bu,void 0);case 31:return e.next=33,function(e,t){var n=Gy(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.$u));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(By("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var mT=function(){function e(){Kr(this,e),this.synchronizeTabs=!1}return Hr(e,[{key:"initialize",value:function(){var e=Mi(Ui().mark((function e(t){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=eI(t.databaseInfo.databaseId),this.sharedClientState=this.mc(t),this.persistence=this.gc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.yc(t),this.gcScheduler=this.Ic(t,this.localStore),this.indexBackfillerScheduler=this.Tc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e,t){return null}},{key:"Tc",value:function(e,t){return null}},{key:"yc",value:function(e){return gS(this.persistence,new mS,e.initialUser,this.It)}},{key:"gc",value:function(e){return new aS(uS.Bs,this.It)}},{key:"mc",value:function(e){return new GS}},{key:"terminate",value:function(){var e=Mi(Ui().mark((function e(){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),yT=function(e){Xr(n,e);var t=ni(n);function n(e,r,i){var a;return Kr(this,n),(a=t.call(this)).Ec=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Hr(n,[{key:"initialize",value:function(){var e=Mi(Ui().mark((function e(t){var r=this;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,po(Jr(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ec.initialize(this,t);case 4:return e.next=6,pT(this.Ec.syncEngine);case 6:return e.next=8,RI(this.Ec.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"yc",value:function(e){return gS(this.persistence,new mS,e.initialUser,this.It)}},{key:"Ic",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new M_(n,e.asyncQueue,t)}},{key:"Tc",value:function(e,t){var n=new jg(t,this.persistence);return new Vg(e.asyncQueue,n)}},{key:"gc",value:function(e){var t=pS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?w_.withCacheSize(this.cacheSizeBytes):w_.DEFAULT;return new fS(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,JS(),ZS(),this.It,this.sharedClientState,!!this.forceOwnership)}},{key:"mc",value:function(e){return new GS}}]),n}(mT),gT=function(e){Xr(n,e);var t=ni(n);function n(e,r){var i;return Kr(this,n),(i=t.call(this,e,r,!1)).Ec=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Hr(n,[{key:"initialize",value:function(){var e=Mi(Ui().mark((function e(t){var r,i=this;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,po(Jr(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ec.syncEngine,e.t0=this.sharedClientState instanceof KS,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:tT.bind(null,r),$r:cT.bind(null,r),Br:fT.bind(null,r),vi:sT.bind(null,r),Or:ZE.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=Mi(Ui().mark((function e(t){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rT(i.Ec.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e){var t=JS();if(!KS.C(t))throw new $y(Hy.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=pS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new KS(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(yT),bT=function(){function e(){Kr(this,e)}return Hr(e,[{key:"initialize",value:function(){var e=Mi(Ui().mark((function e(t,n){var r=this;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return AE(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=$E.bind(null,this.syncEngine),e.next=12,KI(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new tE}},{key:"createDatastore",value:function(e){var t,n=eI(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new XS(t));return function(e,t,n,r){return new aI(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return AE(o.syncEngine,e,0)},a=$S.C()?new $S:new HS,new uI(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new bE(e,t,n,r,i,a);return o&&(u.fc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Mi(Ui().mark((function e(t){var n;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Gy(t),jy("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,lI(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function kT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Mi(Ui().mark((function r(){var i;return Ui().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Mi(Ui().mark((function e(){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var wT=function(){function e(t){Kr(this,e),this.observer=t,this.muted=!1}return Hr(e,[{key:"next",value:function(e){this.observer.next&&this.Ac(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ac(this.observer.error,e):zy("Uncaught Error in snapshot listener:",e)}},{key:"Rc",value:function(){this.muted=!0}},{key:"Ac",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),xT=function(){function e(t,n){var r=this;Kr(this,e),this.bc=t,this.It=n,this.metadata=new Qy,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then((function(e){e&&e.ku()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Hr(e,[{key:"close",value:function(){return this.bc.cancel()}},{key:"getMetadata",value:function(){var e=Mi(Ui().mark((function e(){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wc",value:function(){var e=Mi(Ui().mark((function e(){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=Mi(Ui().mark((function e(){var t,n,r,i;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Vc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Pc.decode(t),r=Number(n),isNaN(r)&&this.Sc("length string (".concat(n,") is not valid number")),e.next=9,this.Dc(r);case 9:return i=e.sent,e.abrupt("return",new lE(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Vc",value:function(){var e=Mi(Ui().mark((function e(){var t,n;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Cc()<0)){e.next=7;break}return e.next=3,this.xc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Cc())<0&&this.Sc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Dc",value:function(){var e=Mi(Ui().mark((function e(t){var n;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.xc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Sc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Pc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Sc",value:function(e){throw this.bc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"xc",value:function(){var e=Mi(Ui().mark((function e(){var t,n;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),_T=function(){function e(t){Kr(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Hr(e,[{key:"lookup",value:function(){var e=Mi(Ui().mark((function e(t){var n,r=this;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new $y(Hy.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Mi(Ui().mark((function e(t,n){var r,i,a,o,u,s;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gy(t),i=Vw(r.It)+"/documents",a={documents:n.map((function(e){return Lw(r.It,e)}))},e.next=5,r.fo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=qw(r.It,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Ky(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Jk(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Mi(Ui().mark((function e(){var t,n=this;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=vg.fromPath(t);n.mutations.push(new Zk(r,n.precondition(r)))})),e.next=7,function(){var e=Mi(Ui().mark((function e(t,n){var r,i,a;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gy(t),i=Vw(r.It)+"/documents",a={writes:n.map((function(e){return Ww(r.It,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Wy();t=lg.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new $y(Hy.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(lg.min())?Fk.exists(!1):Fk.updateTime(t):Fk.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(lg.min()))throw new $y(Hy.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fk.updateTime(t)}return Fk.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),ST=function(){function e(t,n,r,i,a){Kr(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Nc=r.maxAttempts,this.xo=new tI(this.asyncQueue,"transaction_retry")}return Hr(e,[{key:"run",value:function(){this.Nc-=1,this.kc()}},{key:"kc",value:function(){var e=this;this.xo.Ao(Mi(Ui().mark((function t(){var n,r;return Ui().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new _T(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Oc(t)}))}))})).catch((function(t){e.Oc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!sb(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Oc",value:function(e){var t=this;this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget((function(){return t.kc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Fc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!tw(t)}return!1}}]),e}(),IT=function(){function e(t,n,r,i){var a=this;Kr(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=My.UNAUTHENTICATED,this.clientId=ag.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Mi(Ui().mark((function e(t){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jy("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return jy("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Hr(e,[{key:"getConfiguration",value:function(){var e=Mi(Ui().mark((function e(){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new $y(Hy.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Qy;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Mi(Ui().mark((function n(){var r;return Ui().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=YI(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function ET(e,t){return TT.apply(this,arguments)}function TT(){return TT=Mi(Ui().mark((function e(t,n){var r,i;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),jy("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Mi(Ui().mark((function e(t){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,bS(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),TT.apply(this,arguments)}function CT(e,t){return RT.apply(this,arguments)}function RT(){return RT=Mi(Ui().mark((function e(t,n){var r,i;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,AT(t);case 3:return r=e.sent,jy("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return qI(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return qI(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),RT.apply(this,arguments)}function AT(e){return NT.apply(this,arguments)}function NT(){return NT=Mi(Ui().mark((function e(t){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return jy("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,ET(t,new mT);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),NT.apply(this,arguments)}function PT(e){return OT.apply(this,arguments)}function OT(){return OT=Mi(Ui().mark((function e(t){return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return jy("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,CT(t,new bT);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),OT.apply(this,arguments)}function DT(e){return AT(e).then((function(e){return e.persistence}))}function LT(e){return AT(e).then((function(e){return e.localStore}))}function MT(e){return PT(e).then((function(e){return e.remoteStore}))}function FT(e){return PT(e).then((function(e){return e.syncEngine}))}function UT(e){return VT.apply(this,arguments)}function VT(){return VT=Mi(Ui().mark((function e(t){var n,r;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,PT(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=kE.bind(null,n.syncEngine),r.onUnlisten=SE.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),VT.apply(this,arguments)}function jT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Qy;return e.asyncQueue.enqueueAndForget(Mi(Ui().mark((function i(){return Ui().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new wT({next:function(a){t.enqueueAndForget((function(){return iE(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new $y(Hy.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new $y(Hy.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new cE(ak(n.path),a,{includeMetadataChanges:!0,Nu:!0});return nE(e,o)},i.next=3,UT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function zT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Qy;return e.asyncQueue.enqueueAndForget(Mi(Ui().mark((function i(){return Ui().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new wT({next:function(n){t.enqueueAndForget((function(){return iE(e,o)})),n.fromCache&&"server"===r.source?i.reject(new $y(Hy.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new cE(n,a,{includeMetadataChanges:!0,Nu:!0});return nE(e,o)},i.next=3,UT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var BT=new Map;function qT(e,t,n){if(!n)throw new $y(Hy.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function WT(e,t,n,r){if(!0===t&&!0===r)throw new $y(Hy.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function KT(e){if(!vg.isDocumentKey(e))throw new $y(Hy.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function GT(e){if(vg.isDocumentKey(e))throw new $y(Hy.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function HT(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Wy()}function $T(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new $y(Hy.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=HT(e);throw new $y(Hy.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function QT(e,t){if(t<=0)throw new $y(Hy.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var YT=function(){function e(t){var n;if(Kr(this,e),void 0===t.host){if(void 0!==t.ssl)throw new $y(Hy.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new $y(Hy.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,WT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Hr(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),XT=function(){function e(t,n,r,i){Kr(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YT({}),this._settingsFrozen=!1}return Hr(e,[{key:"app",get:function(){if(!this._app)throw new $y(Hy.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new $y(Hy.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YT(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Xy;switch(e.type){case"gapi":var t=e.client;return new tg(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new $y(Hy.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=BT.get(e);t&&(jy("ComponentProvider","Removing Datastore"),BT.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function JT(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=$T(e,XT))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&By("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=My.MOCK_USER;else{o=hi(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new $y(Hy.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new My(s)}e._authCredentials=new Jy(new Yy(o,u))}}var ZT=function(){function e(t,n,r){Kr(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Hr(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new tC(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),eC=function(){function e(t,n,r){Kr(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Hr(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),tC=function(e){Xr(n,e);var t=ni(n);function n(e,r,i){var a;return Kr(this,n),(a=t.call(this,e,r,ak(i)))._path=i,a.type="collection",a}return Hr(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new ZT(this.firestore,null,new vg(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(eC);function nC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Pi(e),qT("collection","path",t),e instanceof XT){var a=hg.fromString.apply(hg,[t].concat(r));return GT(a),new tC(e,null,a)}if(!(e instanceof ZT||e instanceof tC))throw new $y(Hy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(hg.fromString.apply(hg,[t].concat(r)));return GT(o),new tC(e.firestore,null,o)}function rC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Pi(e),1===arguments.length&&(t=ag.R()),qT("doc","path",t),e instanceof XT){var a=hg.fromString.apply(hg,[t].concat(r));return KT(a),new ZT(e,null,new vg(a))}if(!(e instanceof ZT||e instanceof tC))throw new $y(Hy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(hg.fromString.apply(hg,[t].concat(r)));return KT(o),new ZT(e.firestore,e instanceof tC?e.converter:null,new vg(o))}function iC(e,t){return e=Pi(e),t=Pi(t),(e instanceof ZT||e instanceof tC)&&(t instanceof ZT||t instanceof tC)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function aC(e,t){return e=Pi(e),t=Pi(t),e instanceof eC&&t instanceof eC&&e.firestore===t.firestore&&dk(e._query,t._query)&&e.converter===t.converter}var oC=function(){function e(){var t=this;Kr(this,e),this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new tI(this,"async_queue_retry"),this.jc=function(){var e=ZS();e&&jy("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.bo()};var n=ZS();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.jc)}return Hr(e,[{key:"isShuttingDown",get:function(){return this.Lc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Wc(),this.zc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;var t=ZS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Wc(),this.Lc)return new Promise((function(){}));var n=new Qy;return this.zc((function(){return t.Lc&&t.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Bc.push(e),t.Hc()}))}},{key:"Hc",value:function(){var e=Mi(Ui().mark((function e(){var t=this;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Bc.length){e.next=14;break}return e.prev=1,e.next=4,this.Bc[0]();case 4:this.Bc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Dg(e.t0)){e.next=12;break}throw e.t0;case 12:jy("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Bc.length>0&&this.xo.Ao((function(){return t.Hc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"zc",value:function(e){var t=this,n=this.$c.then((function(){return t.Kc=!0,e().catch((function(e){t.qc=e,t.Kc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw zy("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Kc=!1,e}))}));return this.$c=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);var i=QI.createAndSchedule(this,e,t,n,(function(e){return r.Jc(e)}));return this.Uc.push(i),i}},{key:"Wc",value:function(){this.qc&&Wy()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Yc",value:function(){var e=Mi(Ui().mark((function e(){var t;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.$c,e.next=3,t;case 3:if(t!==this.$c){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Xc",value:function(e){var t,n=$r(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Zc",value:function(e){var t=this;return this.Yc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=$r(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Yc()}))}},{key:"ta",value:function(e){this.Qc.push(e)}},{key:"Jc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function uC(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=$r(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var sC=function(){function e(){Kr(this,e),this._progressObserver={},this._taskCompletionResolver=new Qy,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Hr(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),cC=function(e){Xr(n,e);var t=ni(n);function n(e,r,i,a){var o;return Kr(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new oC,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Hr(n,[{key:"_terminate",value:function(){return this._firestoreClient||fC(this),this._firestoreClient.terminate()}}]),n}(XT);function lC(e){return e._firestoreClient||fC(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function fC(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new ob(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new IT(e._authCredentials,e._appCheckCredentials,e._queue,r)}function hC(e,t,n){var r=new Qy;return e.asyncQueue.enqueue(Mi(Ui().mark((function i(){var a;return Ui().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,ET(e,n);case 3:return i.next=5,CT(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Hy.FAILED_PRECONDITION||e.code===Hy.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:By("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function dC(e){return function(e){return e.asyncQueue.enqueue(Mi(Ui().mark((function t(){var n,r;return Ui().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,DT(e);case 2:return n=t.sent,t.next=5,MT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Gy(e);return t._u.delete(0),sI(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(lC(e=$T(e,cC)))}function pC(e){return function(e){return e.asyncQueue.enqueue(Mi(Ui().mark((function t(){var n,r;return Ui().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,DT(e);case 2:return n=t.sent,t.next=5,MT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Mi(Ui().mark((function e(t){var n;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Gy(t))._u.add(0),e.next=4,lI(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(lC(e=$T(e,cC)))}function vC(e,t){var n=lC(e=$T(e,cC)),r=new sC;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new xT(e,t)}(function(e,t){if(e instanceof Uint8Array)return kT(e,t);if(e instanceof ArrayBuffer)return kT(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,eI(t));e.asyncQueue.enqueueAndForget(Mi(Ui().mark((function t(){return Ui().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=vT,t.next=3,FT(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function mC(e,t){return function(e,t){return e.asyncQueue.enqueue(Mi(Ui().mark((function n(){return Ui().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Gy(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,LT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(lC(e=$T(e,cC)),t).then((function(t){return t?new eC(e,null,t.query):null}))}function yC(e){if(e._initialized||e._terminated)throw new $y(Hy.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var gC=function(){function e(){Kr(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new $y(Hy.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pg(n)}return Hr(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var bC=function(){function e(t){Kr(this,e),this._byteString=t}return Hr(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Jg.fromBase64String(t))}catch(t){throw new $y(Hy.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Jg.fromUint8Array(t))}}]),e}(),kC=Hr((function e(t){Kr(this,e),this._methodName=t})),wC=function(){function e(t,n){if(Kr(this,e),!isFinite(t)||t<-90||t>90)throw new $y(Hy.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new $y(Hy.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Hr(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return og(this._lat,e._lat)||og(this._long,e._long)}}]),e}(),xC=/^__.*__$/,_C=function(){function e(t,n,r){Kr(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Hr(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Gk(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kk(e,this.data,t,this.fieldTransforms)}}]),e}(),SC=function(){function e(t,n,r){Kr(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Hr(e,[{key:"toMutation",value:function(e,t){return new Gk(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function IC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Wy()}}var EC=function(){function e(t,n,r,i,a,o){Kr(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Hr(e,[{key:"path",get:function(){return this.settings.path}},{key:"na",get:function(){return this.settings.na}},{key:"sa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.oa(e),r}},{key:"ua",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.ea(),r}},{key:"ca",value:function(e){return this.sa({path:void 0,ra:!0})}},{key:"aa",value:function(e){return GC(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ea",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.oa(this.path.get(e))}},{key:"oa",value:function(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(IC(this.na)&&xC.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}]),e}(),TC=function(){function e(t,n,r){Kr(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||eI(t)}return Hr(e,[{key:"fa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new EC({na:e,methodName:t,la:n,path:pg.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function CC(e){var t=e._freezeSettings(),n=eI(e._databaseId);return new TC(e._databaseId,!!t.ignoreUndefinedProperties,n)}function RC(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.fa(a.merge||a.mergeFields?2:0,t,n,i);BC("Data must be an object, but it was:",o,r);var u,s,c=jC(r,o);if(a.merge)u=new Xg(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=$r(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=qC(t,d,n);if(!o.contains(p))throw new $y(Hy.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));HC(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Xg(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new _C(new Pb(c),u,s)}var AC=function(e){Xr(n,e);var t=ni(n);function n(){return Kr(this,n),t.apply(this,arguments)}return Hr(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.na)throw 1===e.na?e.aa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.aa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(kC);function NC(e,t,n){return new EC({na:3,la:t.settings.la,methodName:e._methodName,ra:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}var PC=function(e){Xr(n,e);var t=ni(n);function n(){return Kr(this,n),t.apply(this,arguments)}return Hr(n,[{key:"_toFieldTransform",value:function(e){return new Lk(e.path,new Tk)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(kC),OC=function(e){Xr(n,e);var t=ni(n);function n(e,r){var i;return Kr(this,n),(i=t.call(this,e)).da=r,i}return Hr(n,[{key:"_toFieldTransform",value:function(e){var t=NC(this,e,!0),n=this.da.map((function(e){return VC(e,t)})),r=new Ck(n);return new Lk(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(kC),DC=function(e){Xr(n,e);var t=ni(n);function n(e,r){var i;return Kr(this,n),(i=t.call(this,e)).da=r,i}return Hr(n,[{key:"_toFieldTransform",value:function(e){var t=NC(this,e,!0),n=this.da.map((function(e){return VC(e,t)})),r=new Ak(n);return new Lk(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(kC),LC=function(e){Xr(n,e);var t=ni(n);function n(e,r){var i;return Kr(this,n),(i=t.call(this,e))._a=r,i}return Hr(n,[{key:"_toFieldTransform",value:function(e){var t=new Pk(e.It,xk(e.It,this._a));return new Lk(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(kC);function MC(e,t,n,r){var i=e.fa(1,t,n);BC("Data must be an object, but it was:",i,r);var a=[],o=Pb.empty();qg(r,(function(e,r){var u=KC(t,e,n);r=Pi(r);var s=i.ua(u);if(r instanceof AC)a.push(u);else{var c=VC(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Xg(a);return new SC(o,u,i.fieldTransforms)}function FC(e,t,n,r,i,a){var o=e.fa(1,t,n),u=[qC(t,r,n)],s=[i];if(a.length%2!=0)throw new $y(Hy.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(qC(t,a[c])),s.push(a[c+1]);for(var l=[],f=Pb.empty(),h=u.length-1;h>=0;--h)if(!HC(l,u[h])){var d=u[h],p=s[h];p=Pi(p);var v=o.ua(d);if(p instanceof AC)l.push(d);else{var m=VC(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Xg(l);return new SC(f,y,o.fieldTransforms)}function UC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return VC(n,e.fa(r?4:3,t))}function VC(e,t){if(zC(e=Pi(e)))return BC("Unsupported field value:",t,e),jC(e,t);if(e instanceof kC)return function(e,t){if(!IC(t.na))throw t.aa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.aa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ra&&4!==t.na)throw t.aa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=$r(e);try{for(a.s();!(n=a.n()).done;){var o=VC(n.value,t.ca(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Pi(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return xk(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=cg.fromDate(e);return{timestampValue:Rw(t.It,n)}}if(e instanceof cg){var r=new cg(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Rw(t.It,r)}}if(e instanceof wC)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof bC)return{bytesValue:Aw(t.It,e._byteString)};if(e instanceof ZT){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.aa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Ow(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.aa("Unsupported field value: ".concat(HT(e)))}(e,t)}function jC(e,t){var n={};return Wg(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qg(e,(function(e,r){var i=VC(r,t.ia(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function zC(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof cg||e instanceof wC||e instanceof bC||e instanceof ZT||e instanceof kC)}function BC(e,t,n){if(!zC(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=HT(n);throw"an object"===r?t.aa(e+" a custom object"):t.aa(e+" "+r)}}function qC(e,t,n){if((t=Pi(t))instanceof gC)return t._internalPath;if("string"==typeof t)return KC(e,t);throw GC("Field path arguments must be of type string or ",e,!1,void 0,n)}var WC=new RegExp("[~\\*/\\[\\]]");function KC(e,t,n){if(t.search(WC)>=0)throw GC("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return ri(gC,Di(t.split(".")))._internalPath}catch(r){throw GC("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function GC(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new $y(Hy.INVALID_ARGUMENT,u+e+s)}function HC(e,t){return e.some((function(e){return e.isEqual(t)}))}var $C=function(){function e(t,n,r,i,a){Kr(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Hr(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new ZT(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new QC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(YC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),QC=function(e){Xr(n,e);var t=ni(n);function n(){return Kr(this,n),t.apply(this,arguments)}return Hr(n,[{key:"data",value:function(){return po(Jr(n.prototype),"data",this).call(this)}}]),n}($C);function YC(e,t){return"string"==typeof t?KC(e,t):t instanceof gC?t._internalPath:t._delegate._internalPath}var XC=function(){function e(t,n){Kr(this,e),this.hasPendingWrites=t,this.fromCache=n}return Hr(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),JC=function(e){Xr(n,e);var t=ni(n);function n(e,r,i,a,o,u){var s;return Kr(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Hr(n,[{key:"exists",value:function(){return po(Jr(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new ZC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(YC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}($C),ZC=function(e){Xr(n,e);var t=ni(n);function n(){return Kr(this,n),t.apply(this,arguments)}return Hr(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return po(Jr(n.prototype),"data",this).call(this,e)}}]),n}(JC),eR=function(){function e(t,n,r,i){Kr(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new XC(i.hasPendingWrites,i.fromCache),this.query=r}return Hr(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new ZC(n._firestore,n._userDataWriter,r.key,r,new XC(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $y(Hy.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new ZC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new XC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new ZC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new XC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:tR(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function tR(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Wy()}}function nR(e,t){return e instanceof JC&&t instanceof JC?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof eR&&t instanceof eR&&e._firestore===t._firestore&&aC(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function rR(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new $y(Hy.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var iR=Hr((function e(){Kr(this,e)}));function aR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var oR=function(e){Xr(n,e);var t=ni(n);function n(e,r,i){var a;return Kr(this,n),(a=t.call(this)).wa=e,a.ma=r,a.ga=i,a.type="where",a}return Hr(n,[{key:"_apply",value:function(e){var t=CC(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new $y(Hy.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){yR(o,a);var s,c=[],l=$r(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(mR(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=mR(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||yR(o,a),u=UC(n,"where",o,"in"===a||"not-in"===a);var h=qb.create(i,a,u);return function(e,t){if(t.dt()){var n=sk(e);if(null!==n&&!n.isEqual(t.field))throw new $y(Hy.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=uk(e);null!==r&&gR(e,t.field,r)}var i=function(e,t){var n,r=$r(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new $y(Hy.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new $y(Hy.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new eC(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new rk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(iR);var uR=function(e){Xr(n,e);var t=ni(n);function n(e,r){var i;return Kr(this,n),(i=t.call(this)).wa=e,i.ya=r,i.type="orderBy",i}return Hr(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new $y(Hy.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new $y(Hy.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Zb(t,n);return function(e,t){if(null===uk(e)){var n=sk(e);null!==n&&gR(e,n,t.field)}}(e,r),r}(e._query,this.wa,this.ya);return new eC(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new rk(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(iR);var sR=function(e){Xr(n,e);var t=ni(n);function n(e,r,i){var a;return Kr(this,n),(a=t.call(this)).type=e,a.pa=r,a.Ia=i,a}return Hr(n,[{key:"_apply",value:function(e){return new eC(e.firestore,e.converter,hk(e._query,this.pa,this.Ia))}}]),n}(iR);var cR=function(e){Xr(n,e);var t=ni(n);function n(e,r,i){var a;return Kr(this,n),(a=t.call(this)).type=e,a.Ta=r,a.Ea=i,a}return Hr(n,[{key:"_apply",value:function(e){var t=vR(e,this.type,this.Ta,this.Ea);return new eC(e.firestore,e.converter,function(e,t){return new rk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(iR);function lR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new cR("startAt",t,!0)}function fR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new cR("startAfter",t,!1)}var hR=function(e){Xr(n,e);var t=ni(n);function n(e,r,i){var a;return Kr(this,n),(a=t.call(this)).type=e,a.Ta=r,a.Ea=i,a}return Hr(n,[{key:"_apply",value:function(e){var t=vR(e,this.type,this.Ta,this.Ea);return new eC(e.firestore,e.converter,function(e,t){return new rk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(iR);function dR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new hR("endBefore",t,!1)}function pR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new hR("endAt",t,!0)}function vR(e,t,n,r){if(n[0]=Pi(n[0]),n[0]instanceof $C)return function(e,t,n,r,i){if(!r)throw new $y(Hy.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=$r(lk(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(kb(t,r.key));else{var c=r.data.field(s.field);if(rb(c))throw new $y(Hy.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new $y(Hy.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Jb(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=CC(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new $y(Hy.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new $y(Hy.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!ck(e)&&-1!==c.indexOf("/"))throw new $y(Hy.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(hg.fromString(c));if(!vg.isDocumentKey(l))throw new $y(Hy.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new vg(l);u.push(kb(t,f))}else{var h=UC(n,r,c);u.push(h)}}return new Jb(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function mR(e,t,n){if("string"==typeof(n=Pi(n))){if(""===n)throw new $y(Hy.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ck(t)&&-1!==n.indexOf("/"))throw new $y(Hy.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(hg.fromString(n));if(!vg.isDocumentKey(r))throw new $y(Hy.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return kb(e,new vg(r))}if(n instanceof ZT)return kb(e,n._key);throw new $y(Hy.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(HT(n),"."))}function yR(e,t){if(!Array.isArray(e)||0===e.length)throw new $y(Hy.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new $y(Hy.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function gR(e,t,n){if(!n.isEqual(t))throw new $y(Hy.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var bR={maxAttempts:5},kR=function(){function e(){Kr(this,e)}return Hr(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(db(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tb(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(nb(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Wy()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return qg(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new wC(tb(e.latitude),tb(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=ib(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ab(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=eb(e);return new cg(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=hg.fromString(e);Ky(rx(n));var r=new ub(n.get(1),n.get(3)),i=new vg(n.popFirst(5));return r.isEqual(t)||zy("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function wR(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var xR=function(e){Xr(n,e);var t=ni(n);function n(e){var r;return Kr(this,n),(r=t.call(this)).firestore=e,r}return Hr(n,[{key:"convertBytes",value:function(e){return new bC(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new ZT(this.firestore,null,t)}}]),n}(kR),_R=function(){function e(t,n){Kr(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=CC(t)}return Hr(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=SR(e,this._firestore),i=wR(r.converter,t,n),a=RC(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Fk.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=SR(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Pi(t))||t instanceof gC?FC(this._dataReader,"WriteBatch.update",i._key,t,n,o):MC(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Fk.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=SR(e,this._firestore);return this._mutations=this._mutations.concat(new Jk(t._key,Fk.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new $y(Hy.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function SR(e,t){if((e=Pi(e)).firestore!==t)throw new $y(Hy.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var IR=function(e){Xr(n,e);var t=ni(n);function n(e){var r;return Kr(this,n),(r=t.call(this)).firestore=e,r}return Hr(n,[{key:"convertBytes",value:function(e){return new bC(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new ZT(this.firestore,null,t)}}]),n}(kR);function ER(e){e=$T(e,ZT);var t=$T(e.firestore,cC),n=lC(t),r=new IR(t);return function(e,t){var n=new Qy;return e.asyncQueue.enqueueAndForget(Mi(Ui().mark((function r(){return Ui().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Mi(Ui().mark((function e(t,n,r){var i,a;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Gy(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new $y(Hy.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=YI(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,LT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new JC(t,r,e._key,n,new XC(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function TR(e){e=$T(e,eC);var t=$T(e.firestore,cC),n=lC(t),r=new IR(t);return function(e,t){var n=new Qy;return e.asyncQueue.enqueueAndForget(Mi(Ui().mark((function r(){return Ui().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Mi(Ui().mark((function e(t,n,r){var i,a,o,u,s;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,RS(t,n,!0);case 3:i=e.sent,a=new mE(n,i.Hi),o=a.ju(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=YI(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,LT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new eR(t,r,e,n)}))}function CR(e,t,n){e=$T(e,ZT);var r=$T(e.firestore,cC),i=wR(e.converter,t,n);return PR(r,[RC(CC(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Fk.none())])}function RR(e,t,n){e=$T(e,ZT);for(var r=$T(e.firestore,cC),i=CC(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return PR(r,[("string"==typeof(t=Pi(t))||t instanceof gC?FC(i,"updateDoc",e._key,t,n,o):MC(i,"updateDoc",e._key,t)).toMutation(e._key,Fk.exists(!0))])}function AR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Pi(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||uC(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(uC(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof ZT)l=$T(e.firestore,cC),f=ak(e._key.path),c={next:function(t){n[s]&&n[s](OR(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=$T(e,eC);l=$T(p.firestore,cC),f=p._query;var v=new IR(l);c={next:function(e){n[s]&&n[s](new eR(l,v,p,e))},error:n[s+1],complete:n[s+2]},rR(e._query)}return function(e,t,n,r){var i=new wT(r),a=new cE(t,i,n);return e.asyncQueue.enqueueAndForget(Mi(Ui().mark((function t(){return Ui().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=nE,t.next=3,UT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Rc(),e.asyncQueue.enqueueAndForget(Mi(Ui().mark((function t(){return Ui().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=iE,t.next=3,UT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(lC(l),f,h,c)}function NR(e,t){return function(e,t){var n=new wT(t);return e.asyncQueue.enqueueAndForget(Mi(Ui().mark((function t(){return Ui().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Gy(e).Ru.add(t),t.next()},t.next=3,UT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Rc(),e.asyncQueue.enqueueAndForget(Mi(Ui().mark((function t(){return Ui().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Gy(e).Ru.delete(t)},t.next=3,UT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(lC(e=$T(e,cC)),uC(t)?t:{next:t})}function PR(e,t){return function(e,t){var n=new Qy;return e.asyncQueue.enqueueAndForget(Mi(Ui().mark((function r(){return Ui().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=EE,r.next=3,FT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(lC(e),t)}function OR(e,t,n){var r=n.docs.get(t._key),i=new IR(e);return new JC(e,i,t._key,r,new XC(n.hasPendingWrites,n.fromCache),t.converter)}var DR=function(e){Xr(n,e);var t=ni(n);function n(e,r){var i;return Kr(this,n),(i=t.call(this,e,r))._firestore=e,i}return Hr(n,[{key:"get",value:function(e){var t=this,r=SR(e,this._firestore),i=new IR(this._firestore);return po(Jr(n.prototype),"get",this).call(this,e).then((function(e){return new JC(t._firestore,i,r._key,e._document,new XC(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Kr(this,e),this._firestore=t,this._transaction=n,this._dataReader=CC(t)}return Hr(e,[{key:"get",value:function(e){var t=this,n=SR(e,this._firestore),r=new xR(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Wy();var i=e[0];if(i.isFoundDocument())return new $C(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new $C(t._firestore,r,n._key,null,n.converter);throw Wy()}))}},{key:"set",value:function(e,t,n){var r=SR(e,this._firestore),i=wR(r.converter,t,n),a=RC(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=SR(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Pi(t))||t instanceof gC?FC(this._dataReader,"Transaction.update",i._key,t,n,o):MC(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=SR(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function LR(e,t,n){e=$T(e,cC);var r=Object.assign(Object.assign({},bR),n);return function(e){if(e.maxAttempts<1)throw new $y(Hy.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Qy;return e.asyncQueue.enqueueAndForget(Mi(Ui().mark((function i(){var a;return Ui().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return PT(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new ST(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(lC(e),(function(n){return t(new DR(e,n))}),r)}function MR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new OC("arrayUnion",t)}function FR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new DC("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Fy=e}(La),Ca(new Vi("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new cC(new Zy(e.getProvider("auth-internal")),new rg(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new $y(Hy.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ub(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),za(Ly,"3.5.0",e),za(Ly,"3.5.0","esm2017")}();function UR(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new $y("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function VR(){if("undefined"===typeof Uint8Array)throw new $y("unimplemented","Uint8Arrays are not available in this environment.")}function jR(){if("undefined"==typeof atob)throw new $y("unimplemented","Blobs are unavailable in Firestore in this environment.")}var zR=function(){function e(t){Kr(this,e),this._delegate=t}return Hr(e,[{key:"toBase64",value:function(){return jR(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return VR(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return jR(),new e(bC.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return VR(),new e(bC.fromUint8Array(t))}}]),e}();function BR(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=$r(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var qR=function(){function e(){Kr(this,e)}return Hr(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){yC(e=$T(e,cC));var n=lC(e),r=e._freezeSettings(),i=new bT;return hC(n,i,new yT(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){yC(e=$T(e,cC));var t=lC(e),n=e._freezeSettings(),r=new bT;return hC(t,r,new gT(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new $y(Hy.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Qy;return e._queue.enqueueAndForgetEvenWhileRestricted(Mi(Ui().mark((function n(){return Ui().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Mi(Ui().mark((function e(t){var n;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ng.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Ng.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(pS(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),WR=function(){function e(t,n,r){var i=this;Kr(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof ub||(this._appCompat=t)}return Hr(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||By("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};JT(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return dC(this._delegate)}},{key:"disableNetwork",value:function(){return pC(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&WT("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Qy;return e.asyncQueue.enqueueAndForget(Mi(Ui().mark((function n(){return Ui().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=FE,n.next=3,FT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(lC(e=$T(e,cC)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return NR(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new $y("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new iA(this,nC(this._delegate,e))}catch(t){throw YR(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new QR(this,rC(this._delegate,e))}catch(t){throw YR(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new tA(this,function(e,t){if(e=$T(e,XT),qT("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new $y(Hy.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new eC(e,null,function(e){return new rk(hg.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw YR(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return LR(this._delegate,(function(n){return e(new GR(t,n))}))}},{key:"batch",value:function(){var e=this;return lC(this._delegate),new HR(new _R(this._delegate,(function(t){return PR(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return vC(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return mC(this._delegate,e).then((function(e){return e?new tA(t,e):null}))}}]),e}(),KR=function(e){Xr(n,e);var t=ni(n);function n(e){var r;return Kr(this,n),(r=t.call(this)).firestore=e,r}return Hr(n,[{key:"convertBytes",value:function(e){return new zR(new bC(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return QR.forKey(t,this.firestore,null)}}]),n}(kR);var GR=function(){function e(t,n){Kr(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new KR(t)}return Hr(e,[{key:"get",value:function(e){var t=this,n=aA(e);return this._delegate.get(n).then((function(e){return new ZR(t._firestore,new JC(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=aA(e);return n?(UR("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=aA(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=aA(e);return this._delegate.delete(t),this}}]),e}(),HR=function(){function e(t){Kr(this,e),this._delegate=t}return Hr(e,[{key:"set",value:function(e,t,n){var r=aA(e);return n?(UR("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=aA(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=aA(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),$R=function(){function e(t,n,r){Kr(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Hr(e,[{key:"fromFirestore",value:function(e,t){var n=new ZC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new eA(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new KR(t),n),i.set(n,a)),a}}]),e}();$R.INSTANCES=new WeakMap;var QR=function(){function e(t,n){Kr(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new KR(t)}return Hr(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new iA(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new iA(this.firestore,nC(this._delegate,e))}catch(t){throw YR(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Pi(e))instanceof ZT&&iC(this._delegate,e)}},{key:"set",value:function(e,t){t=UR("DocumentReference.set",t);try{return t?CR(this._delegate,e,t):CR(this._delegate,e)}catch(n){throw YR(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?RR(this._delegate,e):RR.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw YR(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return PR($T(e.firestore,cC),[new Jk(e._key,Fk.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=XR(n),a=JR(n,(function(t){return new ZR(e.firestore,new JC(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return AR(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?ER(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=$T(e,ZT);var t=$T(e.firestore,cC);return jT(lC(t),e._key,{source:"server"}).then((function(n){return OR(t,e,n)}))}(this._delegate):function(e){e=$T(e,ZT);var t=$T(e.firestore,cC);return jT(lC(t),e._key).then((function(n){return OR(t,e,n)}))}(this._delegate),t.then((function(e){return new ZR(n.firestore,new JC(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter($R.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new $y("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new ZT(n._delegate,r,new vg(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new ZT(n._delegate,r,t))}}]),e}();function YR(e,t,n){return e.message=e.message.replace(t,n),e}function XR(e){var t,n=$r(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!BR(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function JR(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=BR(e[0])?e[0]:BR(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var ZR=function(){function e(t,n){Kr(this,e),this._firestore=t,this._delegate=n}return Hr(e,[{key:"ref",get:function(){return new QR(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return nR(this._delegate,e._delegate)}}]),e}(),eA=function(e){Xr(n,e);var t=ni(n);function n(){return Kr(this,n),t.apply(this,arguments)}return Hr(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Wy()}(void 0!==t),t}}]),n}(ZR),tA=function(){function e(t,n){Kr(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new KR(t)}return Hr(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,aR(this._delegate,function(e,t,n){var r=t,i=YC("where",e);return new oR(i,r,n)}(t,n,r)))}catch(i){throw YR(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,aR(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=YC("orderBy",e);return new uR(n,t)}(t,n)))}catch(r){throw YR(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,aR(this._delegate,function(e){return QT("limit",e),new sR("limit",e,"F")}(t)))}catch(n){throw YR(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,aR(this._delegate,function(e){return QT("limitToLast",e),new sR("limitToLast",e,"L")}(t)))}catch(n){throw YR(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,aR(this._delegate,lR.apply(void 0,arguments)))}catch(t){throw YR(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,aR(this._delegate,fR.apply(void 0,arguments)))}catch(t){throw YR(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,aR(this._delegate,dR.apply(void 0,arguments)))}catch(t){throw YR(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,aR(this._delegate,pR.apply(void 0,arguments)))}catch(t){throw YR(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return aC(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?TR(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=$T(e,eC);var t=$T(e.firestore,cC),n=lC(t),r=new IR(t);return zT(n,e._query,{source:"server"}).then((function(n){return new eR(t,r,e,n)}))}(this._delegate):function(e){e=$T(e,eC);var t=$T(e.firestore,cC),n=lC(t),r=new IR(t);return rR(e._query),zT(n,e._query).then((function(n){return new eR(t,r,e,n)}))}(this._delegate),t.then((function(e){return new rA(n.firestore,new eR(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=XR(n),a=JR(n,(function(t){return new rA(e.firestore,new eR(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return AR(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter($R.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),nA=function(){function e(t,n){Kr(this,e),this._firestore=t,this._delegate=n}return Hr(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new eA(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),rA=function(){function e(t,n){Kr(this,e),this._firestore=t,this._delegate=n}return Hr(e,[{key:"query",get:function(){return new tA(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new eA(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new nA(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new eA(n._firestore,r))}))}},{key:"isEqual",value:function(e){return nR(this._delegate,e._delegate)}}]),e}(),iA=function(e){Xr(n,e);var t=ni(n);function n(e,r){var i;return Kr(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Hr(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new QR(this.firestore,e):null}},{key:"doc",value:function(e){try{return new QR(this.firestore,void 0===e?rC(this._delegate):rC(this._delegate,e))}catch(t){throw YR(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=$T(e.firestore,cC),r=rC(e),i=wR(e.converter,t);return PR(n,[RC(CC(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Fk.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new QR(t.firestore,e)}))}},{key:"isEqual",value:function(e){return iC(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter($R.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(tA);function aA(e){return $T(e,ZT)}var oA=function(){function e(){Kr(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=ri(gC,n)}return Hr(e,[{key:"isEqual",value:function(e){return(e=Pi(e))instanceof gC&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(pg.keyField().canonicalString())}}]),e}(),uA=function(){function e(t){Kr(this,e),this._delegate=t}return Hr(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new PC("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new AC("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=MR.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=FR.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new LC("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),sA={Firestore:WR,GeoPoint:wC,Timestamp:cg,Blob:zR,Transaction:GR,WriteBatch:HR,DocumentReference:QR,DocumentSnapshot:ZR,Query:tA,QueryDocumentSnapshot:eA,QuerySnapshot:rA,CollectionReference:iA,FieldPath:oA,FieldValue:uA,setLogLevel:function(e){!function(e){Uy.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Vi("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},sA)))}(e,(function(e,t){return new WR(e,t,new qR)})),e.registerVersion("@firebase/firestore-compat","0.1.25")}(fo);var cA="firebasestorage.googleapis.com",lA=function(e){Xr(n,e);var t=ni(n);function n(e,r){var i;return Kr(this,n),(i=t.call(this,fA(e),"Firebase Storage: ".concat(r," (").concat(fA(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(Qr(i),n.prototype),i}return Hr(n,[{key:"_codeEquals",value:function(e){return fA(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(bi);function fA(e){return"storage/"+e}function hA(){return new lA("unknown","An unknown error occurred, please check the error payload for server response.")}function dA(){return new lA("canceled","User canceled the upload/download.")}function pA(){return new lA("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function vA(e){return new lA("invalid-argument",e)}function mA(){return new lA("app-deleted","The Firebase app was deleted.")}function yA(e){return new lA("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gA(e,t){return new lA("invalid-format","String does not match format '"+e+"': "+t)}function bA(e){throw new lA("internal-error","Internal error: "+e)}var kA,wA=function(){function e(t,n){Kr(this,e),this.bucket=t,this.path_=n}return Hr(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new lA("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===cA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new lA("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),xA=function(){function e(t){Kr(this,e),this.promise_=Promise.reject(t)}return Hr(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function _A(e){return"string"===typeof e||e instanceof String}function SA(e){return IA()&&e instanceof Blob}function IA(){return"undefined"!==typeof Blob}function EA(e,t,n,r){if(r<t)throw vA("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw vA("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function TA(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function CA(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(kA||(kA={}));var RA=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var h=this;Kr(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return Hr(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=hA();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?mA():dA());else i(new lA("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new AA(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new AA(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===kA.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new AA(o,r))}else{var u=r.getErrorCode()===kA.ABORT;t(!1,new AA(!1,null,u))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),AA=Hr((function e(t,n,r){Kr(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function NA(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function PA(){for(var e=NA(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(IA())return new Blob(n);throw new lA("unsupported-environment","This browser doesn't seem to support creating Blobs")}var OA={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},DA=Hr((function e(t,n){Kr(this,e),this.data=t,this.contentType=n||null}));function LA(e,t){switch(e){case OA.RAW:return new DA(MA(t));case OA.BASE64:case OA.BASE64URL:return new DA(FA(e,t));case OA.DATA_URL:return new DA(function(e){var t=new UA(e);return t.base64?FA(OA.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw gA(OA.DATA_URL,"Malformed data URL.")}return MA(t)}(t.rest)}(t),new UA(t).contentType)}throw hA()}function MA(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function FA(e,t){switch(e){case OA.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw gA(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case OA.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw gA(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw gA(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var UA=Hr((function e(t){Kr(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw gA(OA.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var VA=function(){function e(t,n){Kr(this,e);var r=0,i="";SA(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return Hr(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(SA(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(IA()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(PA.apply(null,i))}var a=n.map((function(e){return _A(e)?LA(OA.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function jA(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function zA(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function BA(e,t){return t}var qA=Hr((function e(t,n,r,i){Kr(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||BA})),WA=null;function KA(){if(WA)return WA;var e=[];e.push(new qA("bucket")),e.push(new qA("generation")),e.push(new qA("metageneration")),e.push(new qA("name","fullPath",!0));var t=new qA("name");t.xform=function(e,t){return function(e){return!_A(e)||e.length<2?e:zA(e)}(t)},e.push(t);var n=new qA("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new qA("timeCreated")),e.push(new qA("updated")),e.push(new qA("md5Hash",null,!0)),e.push(new qA("cacheControl",null,!0)),e.push(new qA("contentDisposition",null,!0)),e.push(new qA("contentEncoding",null,!0)),e.push(new qA("contentLanguage",null,!0)),e.push(new qA("contentType",null,!0)),e.push(new qA("metadata","customMetadata",!0)),WA=e}function GA(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new wA(n,r);return t._makeStorageReference(i)}})}(r,e),r}function HA(e,t,n){var r=jA(t);return null===r?null:GA(e,r,n)}function $A(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function QA(e,t,n){var r=jA(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=$r(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new wA(t,o));r.prefixes.push(u)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var s,c=$r(n.items);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new wA(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var YA=Hr((function e(t,n,r,i){Kr(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function XA(e){if(!e)throw hA()}function JA(e,t){return function(n,r){var i=HA(e,r,t);return XA(null!==i),i}}function ZA(e,t){return function(n,r){var i=HA(e,r,t);return XA(null!==i),function(e,t,n,r){var i=jA(t);if(null===i)return null;if(!_A(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent,u=a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return TA("/b/"+o(i)+"/o/"+o(a),n,r)+CA({alt:"media",token:t})}));return u[0]}(i,r,e.host,e._protocol)}}function eN(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new lA("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new lA("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new lA("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new lA("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function tN(e){var t=eN(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new lA("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function nN(e,t,n){var r=TA(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new YA(r,"GET",JA(e,n),i);return a.errorHandler=tN(t),a}function rN(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=TA(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new YA(o,"GET",function(e,t){return function(n,r){var i=QA(e,t,r);return XA(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=eN(t),s}function iN(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function aN(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=iN(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+$A(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=VA.getBlob(c,r,l);if(null===f)throw pA();var h={name:s.fullPath},d=TA(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new YA(d,"POST",JA(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=eN(t),v}var oN=Hr((function e(t,n,r,i){Kr(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function uN(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){XA(!1)}return XA(!!n&&-1!==(t||["active"]).indexOf(n)),n}var sN=262144;function cN(e,t,n,r,i,a,o,u){var s=new oN(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new lA("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw pA();var v=t.maxUploadRetryTime,m=new YA(n,"POST",(function(e,n){var i,o=uN(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?JA(t,a)(e,n):null,new oN(u,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=u||null,m.errorHandler=eN(e),m}var lN={STATE_CHANGED:"state_changed"},fN={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function hN(e){switch(e){case"running":case"pausing":case"canceling":return fN.RUNNING;case"paused":return fN.PAUSED;case"success":return fN.SUCCESS;case"canceled":return fN.CANCELED;default:return fN.ERROR}}var dN=Hr((function e(t,n,r){Kr(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function pN(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var vN=function(){function e(){var t=this;Kr(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=kA.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=kA.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=kA.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return Hr(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw bA("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw bA("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw bA("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw bA("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw bA("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),mN=function(e){Xr(n,e);var t=ni(n);function n(){return Kr(this,n),t.apply(this,arguments)}return Hr(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(vN);function yN(){return new mN}var gN=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Kr(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=KA(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return Hr(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=c(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=iN(t,r,i),u={name:o.fullPath},s=TA(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=$A(o,n),f=e.maxUploadRetryTime,h=new YA(s,"POST",(function(e){var t;uN(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){XA(!1)}return XA(_A(t)),t}),f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=eN(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,yN,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new YA(n,"POST",(function(e){var t=uN(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){XA(!1)}n||XA(!1);var i=Number(n);return XA(!isNaN(i)),new oN(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=eN(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,yN,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=sN*this._chunkMultiplier,n=new oN(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=cN(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,yN,i,a);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){sN*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=nN(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,yN,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=aN(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,yN,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=dA(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=hN(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new dN(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(hN(this._state)){case fN.SUCCESS:pN(this._resolve.bind(null,this.snapshot))();break;case fN.CANCELED:case fN.ERROR:pN(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(hN(this._state)){case fN.RUNNING:case fN.PAUSED:e.next&&pN(e.next.bind(e,this.snapshot))();break;case fN.SUCCESS:e.complete&&pN(e.complete.bind(e))();break;default:e.error&&pN(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),bN=function(){function e(t,n){Kr(this,e),this._service=t,this._location=n instanceof wA?n:wA.makeFromUrl(n,t.host)}return Hr(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new wA(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return zA(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new wA(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw yA(e)}}]),e}();function kN(e,t,n){return wN.apply(this,arguments)}function wN(){return(wN=Mi(Ui().mark((function e(t,n,r){var i,a,o,u;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,xN(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,Di(u.prefixes)),(a=n.items).push.apply(a,Di(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,kN(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xN(e,t){null!=t&&"number"===typeof t.maxResults&&EA("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=rN(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,yN)}function _N(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=TA(t.fullServerUrl(),e.host,e._protocol),a=$A(n,r),o=e.maxOperationRetryTime,u=new YA(i,"PATCH",JA(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=tN(t),u}(e.storage,e._location,t,KA());return e.storage.makeRequestWithTokens(n,yN)}function SN(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=TA(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new YA(r,"GET",ZA(e,n),i);return a.errorHandler=tN(t),a}(e.storage,e._location,KA());return e.storage.makeRequestWithTokens(t,yN).then((function(e){if(null===e)throw new lA("no-download-url","The given file does not have any download URLs.");return e}))}function IN(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=TA(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new YA(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=tN(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,yN)}function EN(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new wA(e._location.bucket,n);return new bN(e.storage,r)}function TN(e,t){if(e instanceof NN){var n=e;if(null==n._bucket)throw new lA("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new bN(n,n._bucket);return null!=t?TN(r,t):r}return void 0!==t?EN(e,t):e}function CN(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof NN)return new bN(e,t);throw vA("To use ref(service, url), the first argument must be a Storage instance.")}return TN(e,t)}function RN(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:wA.makeFromBucketSpec(n,e)}function AN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:hi(i,e.app.options.projectId))}var NN=function(){function e(t,n,r,i,a){Kr(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=cA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?wA.makeFromBucketSpec(i,this._host):RN(this._host,this.app.options)}return Hr(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=wA.makeFromBucketSpec(this._url,e):this._bucket=RN(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){EA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){EA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Mi(Ui().mark((function e(){var t,n;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Mi(Ui().mark((function e(){var t,n;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new bN(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new xA(mA());var a=function(e,t,n,r,i,a){var o=CA(e.urlParams),u=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(s,r),new RA(u,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=Mi(Ui().mark((function e(t,n){var r,i,a,o;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=c(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),PN="@firebase/storage",ON="0.9.9",DN="storage";function LN(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new gN(e,new VA(t),n)}(e=Pi(e),t,n)}function MN(e){return function(e){e._throwIfRoot("getMetadata");var t=nN(e.storage,e._location,KA());return e.storage.makeRequestWithTokens(t,yN)}(e=Pi(e))}function FN(e){return function(e){var t={prefixes:[],items:[]};return kN(e,t).then((function(){return t}))}(e=Pi(e))}function UN(e,t){return CN(e=Pi(e),t)}function VN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};AN(e,t,n,r)}function jN(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new NN(r,i,a,n,La)}Ca(new Vi(DN,jN,"PUBLIC").setMultipleInstances(!0)),za(PN,ON,""),za(PN,ON,"esm2017");var zN=function(){function e(t,n,r){Kr(this,e),this._delegate=t,this.task=n,this.ref=r}return Hr(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),BN=function(){function e(t,n){Kr(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Hr(e,[{key:"snapshot",get:function(){return new zN(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new zN(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new zN(e,i,i._ref))}:{next:t.next?function(e){return t.next(new zN(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),qN=function(){function e(t,n){Kr(this,e),this._delegate=t,this._service=n}return Hr(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new WN(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new WN(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),WN=function(){function e(t,n){Kr(this,e),this._delegate=t,this.storage=n}return Hr(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return EN(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new BN(LN(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:OA.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=LA(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new BN(new gN(this._delegate,new VA(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return FN(this._delegate).then((function(t){return new qN(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return xN(e=Pi(e),t)}(this._delegate,e||void 0).then((function(e){return new qN(e,t.storage)}))}},{key:"getMetadata",value:function(){return MN(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return _N(e=Pi(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return SN(Pi(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),IN(Pi(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw yA(e)}}]),e}(),KN=function(){function e(t,n){Kr(this,e),this.app=t,this._delegate=n}return Hr(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(GN(e))throw vA("ref() expected a child path but got a URL, use refFromURL instead.");return new WN(UN(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!GN(e))throw vA("refFromURL() expected a full URL but got a child path, use ref() instead.");try{wA.makeFromUrl(e,this._delegate.host)}catch(t){throw vA("refFromUrl() expected a valid full URL but got an invalid one.")}return new WN(UN(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};VN(this._delegate,e,t,n)}}]),e}();function GN(e){return/^[A-Za-z]+:\/\//.test(e)}function HN(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new KN(r,i)}!function(e){var t={TaskState:fN,TaskEvent:lN,StringFormat:OA,Storage:KN,Reference:WN};e.INTERNAL.registerComponent(new Vi("storage-compat",HN,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.17")}(fo);var $N=fo.initializeApp({apiKey:"AIzaSyAvTSYttpmu3ZHvebAWw0kmwuayTl4f0AM",authDomain:"mera-insta-clone.firebaseapp.com",projectId:"mera-insta-clone",storageBucket:"mera-insta-clone.appspot.com",messagingSenderId:"492700381144",appId:"1:492700381144:web:17e88bc3a7fa7d06b74cad"}).firestore(),QN=fo.auth(),YN=fo.storage(),XN=n(184);var JN=function(e){var n=e.postId,r=e.user,i=e.username,a=e.caption,o=e.imageUrl,u=c((0,t.useState)([]),2),s=u[0],l=u[1],f=c((0,t.useState)(""),2),h=f[0],d=f[1];return(0,t.useEffect)((function(){var e;return n&&(e=$N.collection("posts").doc(n).collection("comments").orderBy("timestamp","desc").onSnapshot((function(e){l(e.docs.map((function(e){return e.data()})))}))),function(){e()}}),[n]),(0,XN.jsxs)("div",{className:"post",children:[(0,XN.jsxs)("div",{className:"post__header",children:[(0,XN.jsx)(qr,{className:"post__avatar",alt:i,src:"/"}),(0,XN.jsx)("h3",{children:i})]}),(0,XN.jsx)("img",{className:"post__image",src:o}),(0,XN.jsxs)("h4",{className:"post__text",children:[(0,XN.jsxs)("strong",{children:[i," "]}),a]}),(0,XN.jsx)("div",{className:"post__comments",children:s.map((function(e){return(0,XN.jsxs)("p",{children:[(0,XN.jsx)("strong",{children:e.username})," ",e.text]})}))}),r&&(0,XN.jsxs)("form",{className:"post__commentBox",children:[(0,XN.jsx)("input",{className:"post__input",type:"text",placeholder:"Add a comment...",value:h,onChange:function(e){return d(e.target.value)}}),(0,XN.jsx)("button",{className:"post__button",disabled:!h,type:"submit",onClick:function(e){e.preventDefault(),$N.collection("posts").doc(n).collection("comments").add({text:h,username:r.displayName,timestamp:fo.firestore.FieldValue.serverTimestamp()}),d("")},children:"Post"})]})]})};function ZN(){return ZN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZN.apply(this,arguments)}function eP(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function tP(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=tP(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var nP=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=tP(e))&&(r&&(r+=" "),r+=t);return r};function rP(){return rP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rP.apply(this,arguments)}var iP=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},aP=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,oP=iP((function(e){return aP.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var uP=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),sP=Math.abs,cP=String.fromCharCode,lP=Object.assign;function fP(e){return e.trim()}function hP(e,t,n){return e.replace(t,n)}function dP(e,t){return e.indexOf(t)}function pP(e,t){return 0|e.charCodeAt(t)}function vP(e,t,n){return e.slice(t,n)}function mP(e){return e.length}function yP(e){return e.length}function gP(e,t){return t.push(e),e}var bP=1,kP=1,wP=0,xP=0,_P=0,SP="";function IP(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:bP,column:kP,length:o,return:""}}function EP(e,t){return lP(IP("",null,null,"",null,null,0),e,{length:-e.length},t)}function TP(){return _P=xP>0?pP(SP,--xP):0,kP--,10===_P&&(kP=1,bP--),_P}function CP(){return _P=xP<wP?pP(SP,xP++):0,kP++,10===_P&&(kP=1,bP++),_P}function RP(){return pP(SP,xP)}function AP(){return xP}function NP(e,t){return vP(SP,e,t)}function PP(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function OP(e){return bP=kP=1,wP=mP(SP=e),xP=0,[]}function DP(e){return SP="",e}function LP(e){return fP(NP(xP-1,UP(91===e?e+2:40===e?e+1:e)))}function MP(e){for(;(_P=RP())&&_P<33;)CP();return PP(e)>2||PP(_P)>3?"":" "}function FP(e,t){for(;--t&&CP()&&!(_P<48||_P>102||_P>57&&_P<65||_P>70&&_P<97););return NP(e,AP()+(t<6&&32==RP()&&32==CP()))}function UP(e){for(;CP();)switch(_P){case e:return xP;case 34:case 39:34!==e&&39!==e&&UP(_P);break;case 40:41===e&&UP(e);break;case 92:CP()}return xP}function VP(e,t){for(;CP()&&e+_P!==57&&(e+_P!==84||47!==RP()););return"/*"+NP(t,xP-1)+"*"+cP(47===e?e:CP())}function jP(e){for(;!PP(RP());)CP();return NP(e,xP)}var zP="-ms-",BP="-moz-",qP="-webkit-",WP="comm",KP="rule",GP="decl",HP="@keyframes";function $P(e,t){for(var n="",r=yP(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function QP(e,t,n,r){switch(e.type){case"@import":case GP:return e.return=e.return||e.value;case WP:return"";case HP:return e.return=e.value+"{"+$P(e.children,r)+"}";case KP:e.value=e.props.join(",")}return mP(n=$P(e.children,r))?e.return=e.value+"{"+n+"}":""}function YP(e,t){switch(function(e,t){return(((t<<2^pP(e,0))<<2^pP(e,1))<<2^pP(e,2))<<2^pP(e,3)}(e,t)){case 5103:return qP+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return qP+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return qP+e+BP+e+zP+e+e;case 6828:case 4268:return qP+e+zP+e+e;case 6165:return qP+e+zP+"flex-"+e+e;case 5187:return qP+e+hP(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return qP+e+zP+"flex-item-"+hP(e,/flex-|-self/,"")+e;case 4675:return qP+e+zP+"flex-line-pack"+hP(e,/align-content|flex-|-self/,"")+e;case 5548:return qP+e+zP+hP(e,"shrink","negative")+e;case 5292:return qP+e+zP+hP(e,"basis","preferred-size")+e;case 6060:return qP+"box-"+hP(e,"-grow","")+qP+e+zP+hP(e,"grow","positive")+e;case 4554:return qP+hP(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return hP(hP(hP(e,/(zoom-|grab)/,qP+"$1"),/(image-set)/,qP+"$1"),e,"")+e;case 5495:case 3959:return hP(e,/(image-set\([^]*)/,qP+"$1$`$1");case 4968:return hP(hP(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+qP+e+e;case 4095:case 3583:case 4068:case 2532:return hP(e,/(.+)-inline(.+)/,qP+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(mP(e)-1-t>6)switch(pP(e,t+1)){case 109:if(45!==pP(e,t+4))break;case 102:return hP(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+BP+(108==pP(e,t+3)?"$3":"$2-$3"))+e;case 115:return~dP(e,"stretch")?YP(hP(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==pP(e,t+1))break;case 6444:switch(pP(e,mP(e)-3-(~dP(e,"!important")&&10))){case 107:return hP(e,":",":"+qP)+e;case 101:return hP(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+qP+(45===pP(e,14)?"inline-":"")+"box$3$1"+qP+"$2$3$1"+zP+"$2box$3")+e}break;case 5936:switch(pP(e,t+11)){case 114:return qP+e+zP+hP(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return qP+e+zP+hP(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return qP+e+zP+hP(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return qP+e+zP+e+e}return e}function XP(e){return function(t){t.root||(t=t.return)&&e(t)}}function JP(e){return DP(ZP("",null,null,null,[""],e=OP(e),0,[0],e))}function ZP(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,m=1,y=1,g=0,b="",k=i,w=a,x=r,_=b;m;)switch(p=g,g=CP()){case 40:if(108!=p&&58==_.charCodeAt(f-1)){-1!=dP(_+=hP(LP(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:_+=LP(g);break;case 9:case 10:case 13:case 32:_+=MP(p);break;case 92:_+=FP(AP()-1,7);continue;case 47:switch(RP()){case 42:case 47:gP(tO(VP(CP(),AP()),t,n),s);break;default:_+="/"}break;case 123*v:u[c++]=mP(_)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+l:d>0&&mP(_)-f&&gP(d>32?nO(_+";",r,n,f-1):nO(hP(_," ","")+";",r,n,f-2),s);break;case 59:_+=";";default:if(gP(x=eO(_,t,n,c,l,i,u,b,k=[],w=[],f),a),123===g)if(0===l)ZP(_,t,x,x,k,a,f,u,w);else switch(h){case 100:case 109:case 115:ZP(e,x,x,r&&gP(eO(e,x,x,0,0,i,u,b,i,k=[],f),w),i,w,f,u,r?k:w);break;default:ZP(_,x,x,x,[""],w,0,u,w)}}c=l=d=0,v=y=1,b=_="",f=o;break;case 58:f=1+mP(_),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==TP())continue;switch(_+=cP(g),g*v){case 38:y=l>0?1:(_+="\f",-1);break;case 44:u[c++]=(mP(_)-1)*y,y=1;break;case 64:45===RP()&&(_+=LP(CP())),h=RP(),l=f=mP(b=_+=jP(AP())),g++;break;case 45:45===p&&2==mP(_)&&(v=0)}}return a}function eO(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,h=0===i?a:[""],d=yP(h),p=0,v=0,m=0;p<r;++p)for(var y=0,g=vP(e,f+1,f=sP(v=o[p])),b=e;y<d;++y)(b=fP(v>0?h[y]+" "+g:hP(g,/&\f/g,h[y])))&&(s[m++]=b);return IP(e,t,n,0===i?KP:u,s,c,l)}function tO(e,t,n){return IP(e,t,n,WP,cP(_P),vP(e,2,-2),0)}function nO(e,t,n,r){return IP(e,t,n,GP,vP(e,0,r),vP(e,r+1,-1),r)}var rO=function(e,t,n){for(var r=0,i=0;r=i,i=RP(),38===r&&12===i&&(t[n]=1),!PP(i);)CP();return NP(e,xP)},iO=function(e,t){return DP(function(e,t){var n=-1,r=44;do{switch(PP(r)){case 0:38===r&&12===RP()&&(t[n]=1),e[n]+=rO(xP-1,t,n);break;case 2:e[n]+=LP(r);break;case 4:if(44===r){e[++n]=58===RP()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=cP(r)}}while(r=CP());return e}(OP(e),t))},aO=new WeakMap,oO=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||aO.get(n))&&!r){aO.set(e,!0);for(var i=[],a=iO(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},uO=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},sO=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case GP:e.return=YP(e.value,e.length);break;case HP:return $P([EP(e,{value:hP(e.value,"@","@"+qP)})],r);case KP:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return $P([EP(e,{props:[hP(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return $P([EP(e,{props:[hP(t,/:(plac\w+)/,":-webkit-input-$1")]}),EP(e,{props:[hP(t,/:(plac\w+)/,":-moz-$1")]}),EP(e,{props:[hP(t,/:(plac\w+)/,zP+"input-$1")]})],r)}return""}))}}],cO=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||sO;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s=[oO,uO];var c,l=[QP,XP((function(e){c.insert(e)}))],f=function(e){var t=yP(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}(s.concat(r,l));a=function(e,t,n,r){c=n,function(e){$P(JP(e),f)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new uP({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(u),h};var lO=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},fO={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hO=/[A-Z]|^ms/g,dO=/_EMO_([^_]+?)_([^]*?)_EMO_/g,pO=function(e){return 45===e.charCodeAt(1)},vO=function(e){return null!=e&&"boolean"!==typeof e},mO=iP((function(e){return pO(e)?e:e.replace(hO,"-$&").toLowerCase()})),yO=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(dO,(function(e,t,n){return bO={name:t,styles:n,next:bO},t}))}return 1===fO[e]||pO(e)||"number"!==typeof t||0===t?t:t+"px"};function gO(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return bO={name:n.name,styles:n.styles,next:bO},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)bO={name:r.name,styles:r.styles,next:bO},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=gO(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":vO(o)&&(r+=mO(a)+":"+yO(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=gO(e,t,o);switch(a){case"animation":case"animationName":r+=mO(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)vO(o[s])&&(r+=mO(a)+":"+yO(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=bO,a=n(e);return bO=i,gO(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var bO,kO=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var wO=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";bO=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=gO(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=gO(n,t,e[o]),r&&(i+=a[o]);kO.lastIndex=0;for(var u,s="";null!==(u=kO.exec(i));)s+="-"+u[1];return{name:lO(i)+s,styles:i,next:bO}},xO=(0,t.createContext)("undefined"!==typeof HTMLElement?cO({key:"css"}):null);xO.Provider;var _O=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(xO);return e(n,i,r)}))},SO=(0,t.createContext)({});r.useInsertionEffect&&r.useInsertionEffect;function IO(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var EO=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},TO=oP,CO=function(e){return"theme"!==e},RO=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?TO:CO},AO=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},NO=r.useInsertionEffect?r.useInsertionEffect:function(e){e()};var PO=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;EO(t,n,r);!function(e){NO(e)}((function(){return function(e,t,n){EO(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)}));return null},OO=function e(n,r){var i,a,o=n.__emotion_real===n,u=o&&n.__emotion_base||n;void 0!==r&&(i=r.label,a=r.target);var s=AO(n,r,o),c=s||RO(u),l=!c("as");return function(){var f=arguments,h=o&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&h.push("label:"+i+";"),null==f[0]||void 0===f[0].raw)h.push.apply(h,f);else{0,h.push(f[0][0]);for(var d=f.length,p=1;p<d;p++)h.push(f[p],f[0][p])}var v=_O((function(e,n,r){var i=l&&e.as||u,o="",f=[],d=e;if(null==e.theme){for(var p in d={},e)d[p]=e[p];d.theme=(0,t.useContext)(SO)}"string"===typeof e.className?o=IO(n.registered,f,e.className):null!=e.className&&(o=e.className+" ");var v=wO(h.concat(f),n.registered,d);o+=n.key+"-"+v.name,void 0!==a&&(o+=" "+a);var m=l&&void 0===s?RO(i):c,y={};for(var g in e)l&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=o,y.ref=r,(0,t.createElement)(t.Fragment,null,(0,t.createElement)(PO,{cache:n,serialized:v,isStringTag:"string"===typeof i}),(0,t.createElement)(i,y))}));return v.displayName=void 0!==i?i:"Styled("+("string"===typeof u?u:u.displayName||u.name||"Component")+")",v.defaultProps=n.defaultProps,v.__emotion_real=v,v.__emotion_base=u,v.__emotion_styles=h,v.__emotion_forwardProp=s,Object.defineProperty(v,"toString",{value:function(){return"."+a}}),v.withComponent=function(t,n){return e(t,rP({},r,n,{shouldForwardProp:AO(v,n,!0)})).apply(void 0,h)},v}},DO=OO.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){DO[e]=DO(e)}));var LO=DO;function MO(e,t){return LO(e,t)}var FO=function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))};function UO(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function VO(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?ZN({},e):e;return UO(e)&&UO(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(UO(t[i])&&i in e&&UO(e[i])?r[i]=VO(e[i],t[i],n):r[i]=t[i])})),r}var jO=function(e,t){return t?VO(e,t,{clone:!1}):e};function zO(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function BO(e){if("string"!==typeof e)throw new Error(zO(7));return e.charAt(0).toUpperCase()+e.slice(1)}var qO={xs:0,sm:600,md:900,lg:1200,xl:1536},WO={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(qO[e],"px)")}};function KO(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||WO;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||WO;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||qO).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function GO(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function HO(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function $O(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function QO(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:$O(e,n)||i,t&&(r=t(r)),r}var YO=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=$O(e.theme,i)||{};return KO(e,n,(function(e){var n=QO(o,a,e);return e===n&&"string"===typeof e&&(n=QO(o,a,"".concat(t).concat("default"===e?"":BO(e)),e)),!1===r?n:Wr({},r,n)}))};return o.propTypes={},o.filterProps=[t],o};var XO=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?jO(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};var JO={m:"margin",p:"padding"},ZO={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},eD={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},tD=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!eD[e])return[e];e=eD[e]}var t=c(e.split(""),2),n=t[0],r=t[1],i=JO[n],a=ZO[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),nD=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],rD=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],iD=[].concat(nD,rD);function aD(e,t,n,r){var i,a=null!=(i=$O(e,t,!1))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function oD(e){return aD(e,"spacing",8)}function uD(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function sD(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=uD(t,n),e}),{})}}(tD(n),r);return KO(e,e[n],i)}function cD(e,t){var n=oD(e.theme);return Object.keys(e).map((function(r){return sD(e,t,r,n)})).reduce(jO,{})}function lD(e){return cD(e,nD)}function fD(e){return cD(e,rD)}function hD(e){return cD(e,iD)}lD.propTypes={},lD.filterProps=nD,fD.propTypes={},fD.filterProps=rD,hD.propTypes={},hD.filterProps=iD;var dD=hD;function pD(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var vD=YO({prop:"border",themeKey:"borders",transform:pD}),mD=YO({prop:"borderTop",themeKey:"borders",transform:pD}),yD=YO({prop:"borderRight",themeKey:"borders",transform:pD}),gD=YO({prop:"borderBottom",themeKey:"borders",transform:pD}),bD=YO({prop:"borderLeft",themeKey:"borders",transform:pD}),kD=YO({prop:"borderColor",themeKey:"palette"}),wD=YO({prop:"borderTopColor",themeKey:"palette"}),xD=YO({prop:"borderRightColor",themeKey:"palette"}),_D=YO({prop:"borderBottomColor",themeKey:"palette"}),SD=YO({prop:"borderLeftColor",themeKey:"palette"}),ID=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=aD(e.theme,"shape.borderRadius",4);return KO(e,e.borderRadius,(function(e){return{borderRadius:uD(t,e)}}))}return null};ID.propTypes={},ID.filterProps=["borderRadius"];var ED=XO(vD,mD,yD,gD,bD,kD,wD,xD,_D,SD,ID),TD=XO(YO({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),YO({prop:"display"}),YO({prop:"overflow"}),YO({prop:"textOverflow"}),YO({prop:"visibility"}),YO({prop:"whiteSpace"})),CD=XO(YO({prop:"flexBasis"}),YO({prop:"flexDirection"}),YO({prop:"flexWrap"}),YO({prop:"justifyContent"}),YO({prop:"alignItems"}),YO({prop:"alignContent"}),YO({prop:"order"}),YO({prop:"flex"}),YO({prop:"flexGrow"}),YO({prop:"flexShrink"}),YO({prop:"alignSelf"}),YO({prop:"justifyItems"}),YO({prop:"justifySelf"})),RD=function(e){if(void 0!==e.gap&&null!==e.gap){var t=aD(e.theme,"spacing",8);return KO(e,e.gap,(function(e){return{gap:uD(t,e)}}))}return null};RD.propTypes={},RD.filterProps=["gap"];var AD=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=aD(e.theme,"spacing",8);return KO(e,e.columnGap,(function(e){return{columnGap:uD(t,e)}}))}return null};AD.propTypes={},AD.filterProps=["columnGap"];var ND=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=aD(e.theme,"spacing",8);return KO(e,e.rowGap,(function(e){return{rowGap:uD(t,e)}}))}return null};ND.propTypes={},ND.filterProps=["rowGap"];var PD=XO(RD,AD,ND,YO({prop:"gridColumn"}),YO({prop:"gridRow"}),YO({prop:"gridAutoFlow"}),YO({prop:"gridAutoColumns"}),YO({prop:"gridAutoRows"}),YO({prop:"gridTemplateColumns"}),YO({prop:"gridTemplateRows"}),YO({prop:"gridTemplateAreas"}),YO({prop:"gridArea"})),OD=XO(YO({prop:"position"}),YO({prop:"zIndex",themeKey:"zIndex"}),YO({prop:"top"}),YO({prop:"right"}),YO({prop:"bottom"}),YO({prop:"left"})),DD=XO(YO({prop:"color",themeKey:"palette"}),YO({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),YO({prop:"backgroundColor",themeKey:"palette"})),LD=YO({prop:"boxShadow",themeKey:"shadows"});function MD(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var FD=YO({prop:"width",transform:MD}),UD=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return KO(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||qO[t]||MD(t)}}))}return null};UD.filterProps=["maxWidth"];var VD=YO({prop:"minWidth",transform:MD}),jD=YO({prop:"height",transform:MD}),zD=YO({prop:"maxHeight",transform:MD}),BD=YO({prop:"minHeight",transform:MD}),qD=(YO({prop:"size",cssProperty:"width",transform:MD}),YO({prop:"size",cssProperty:"height",transform:MD}),XO(FD,UD,VD,jD,zD,BD,YO({prop:"boxSizing"}))),WD=YO({prop:"fontFamily",themeKey:"typography"}),KD=YO({prop:"fontSize",themeKey:"typography"}),GD=YO({prop:"fontStyle",themeKey:"typography"}),HD=YO({prop:"fontWeight",themeKey:"typography"}),$D=YO({prop:"letterSpacing"}),QD=YO({prop:"textTransform"}),YD=YO({prop:"lineHeight"}),XD=YO({prop:"textAlign"}),JD=XO(YO({prop:"typography",cssProperty:!1,themeKey:"typography"}),WD,KD,GD,HD,$D,YD,XD,QD),ZD={borders:ED.filterProps,display:TD.filterProps,flexbox:CD.filterProps,grid:PD.filterProps,positions:OD.filterProps,palette:DD.filterProps,shadows:LD.filterProps,sizing:qD.filterProps,spacing:dD.filterProps,typography:JD.filterProps},eL={borders:ED,display:TD,flexbox:CD,grid:PD,positions:OD,palette:DD,shadows:LD,sizing:qD,spacing:dD,typography:JD},tL=Object.keys(ZD).reduce((function(e,t){return ZD[t].forEach((function(n){e[n]=eL[t]})),e}),{});function nL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function rL(e,t){return"function"===typeof e?e(t):e}var iL=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eL,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,r){var i,a=(Wr(i={},e,n),Wr(i,"theme",r),i),o=t[e];return o?o(a):Wr({},e,n)}function r(e){var i=e||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;function s(e){var i=e;if("function"===typeof e)i=e(u);else if("object"!==typeof e)return e;if(!i)return null;var a=GO(u.breakpoints),o=Object.keys(a),s=a;return Object.keys(i).forEach((function(e){var a=rL(i[e],u);if(null!==a&&void 0!==a)if("object"===typeof a)if(t[e])s=jO(s,n(e,a,u));else{var o=KO({theme:u},a,(function(t){return Wr({},e,t)}));nL(o,a)?s[e]=r({sx:a,theme:u}):s=jO(s,o)}else s=jO(s,n(e,a,u))})),HO(o,s)}return Array.isArray(a)?a.map(s):s(a)}return r}();iL.filterProps=["sx"];var aL=iL,oL=["sx"];function uL(e){var t,n=e.sx,r=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((function(n){tL[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t}(eP(e,oL)),i=r.systemProps,a=r.otherProps;return t=Array.isArray(n)?[i].concat(Di(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return UO(e)?ZN({},i,e):i}:ZN({},i,n),ZN({},a,{sx:t})}var sL=["values","unit","step"];function cL(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=eP(e,sL),s=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return ZN({},e,Wr({},t.key,t.val))}),{})}(n),c=Object.keys(s);function l(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function h(e,t){var r=c.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[c[r]]?n[c[r]]:t)-o/100).concat(i,")")}return ZN({keys:c,values:s,up:l,down:f,between:h,only:function(e){return c.indexOf(e)+1<c.length?h(e,c[c.indexOf(e)+1]):l(e)},not:function(e){var t=c.indexOf(e);return 0===t?l(c[1]):t===c.length-1?f(c[t]):h(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},u)}var lL={borderRadius:4};function fL(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=oD({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var hL=["breakpoints","palette","spacing","shape"];var dL=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,u=void 0===o?{}:o,s=eP(e,hL),c=cL(n),l=fL(a),f=VO({breakpoints:c,direction:"ltr",components:{},palette:ZN({mode:"light"},i),spacing:l,shape:ZN({},lL,u)},s),h=arguments.length,d=new Array(h>1?h-1:0),p=1;p<h;p++)d[p-1]=arguments[p];return f=d.reduce((function(e,t){return VO(e,t)}),f)};var pL=t.createContext(null);function vL(){return t.useContext(pL)}function mL(e){return 0===Object.keys(e).length}var yL=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=vL();return!t||mL(t)?e:t},gL=dL();var bL=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gL;return yL(e)},kL=["className","component"];var wL=function(e){return e},xL=function(){var e=wL;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=wL}}}();function _L(e,t){var n;return ZN({toolbar:(n={minHeight:56},Wr(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),Wr(n,e.up("sm"),{minHeight:64}),n)},t)}function SL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function IL(e){if(e.type)return e;if("#"===e.charAt(0))return IL(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(zO(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(zO(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function EL(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function TL(e){var t="hsl"===(e=IL(e)).type?IL(function(e){var t=(e=IL(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),EL({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function CL(e,t){return e=IL(e),t=SL(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,EL(e)}function RL(e,t){if(e=IL(e),t=SL(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return EL(e)}function AL(e,t){if(e=IL(e),t=SL(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return EL(e)}var NL={black:"#000",white:"#fff"},PL={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},OL={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},DL={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},LL={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},ML={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},FL={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},UL={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},VL=["mode","contrastThreshold","tonalOffset"],jL={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:NL.white,default:NL.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},zL={text:{primary:NL.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:NL.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function BL(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=AL(e.main,i):"dark"===t&&(e.dark=RL(e.main,a)))}function qL(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,a=e.tonalOffset,o=void 0===a?.2:a,u=eP(e,VL),s=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ML[200],light:ML[50],dark:ML[400]}:{main:ML[700],light:ML[400],dark:ML[800]}}(n),c=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:OL[200],light:OL[50],dark:OL[400]}:{main:OL[500],light:OL[300],dark:OL[700]}}(n),l=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:DL[500],light:DL[300],dark:DL[700]}:{main:DL[700],light:DL[400],dark:DL[800]}}(n),f=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:FL[400],light:FL[300],dark:FL[700]}:{main:FL[700],light:FL[500],dark:FL[900]}}(n),h=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:UL[400],light:UL[300],dark:UL[700]}:{main:UL[800],light:UL[500],dark:UL[900]}}(n),d=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:LL[400],light:LL[300],dark:LL[700]}:{main:"#ed6c02",light:LL[500],dark:LL[900]}}(n);function p(e){var t=function(e,t){var n=TL(e),r=TL(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,zL.text.primary)>=i?zL.text.primary:jL.text.primary;return t}var v=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,a=e.lightShade,u=void 0===a?300:a,s=e.darkShade,c=void 0===s?700:s;if(!(t=ZN({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(zO(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(zO(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return BL(t,"light",u,o),BL(t,"dark",c,o),t.contrastText||(t.contrastText=p(t.main)),t},m={dark:zL,light:jL};return VO(ZN({common:ZN({},NL),mode:n,primary:v({color:s,name:"primary"}),secondary:v({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:l,name:"error"}),warning:v({color:d,name:"warning"}),info:v({color:f,name:"info"}),success:v({color:h,name:"success"}),grey:PL,contrastThreshold:i,getContrastText:p,augmentColor:v,tonalOffset:o},m[n]),u)}var WL=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var KL={textTransform:"uppercase"},GL='"Roboto", "Helvetica", "Arial", sans-serif';function HL(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?GL:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,c=n.fontWeightRegular,l=void 0===c?400:c,f=n.fontWeightMedium,h=void 0===f?500:f,d=n.fontWeightBold,p=void 0===d?700:d,v=n.htmlFontSize,m=void 0===v?16:v,y=n.allVariants,g=n.pxToRem,b=eP(n,WL);var k=o/14,w=g||function(e){return"".concat(e/m*k,"rem")},x=function(e,t,n,r,a){return ZN({fontFamily:i,fontWeight:e,fontSize:w(t),lineHeight:n},i===GL?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,y);var o},_={h1:x(s,96,1.167,-1.5),h2:x(s,60,1.2,-.5),h3:x(l,48,1.167,0),h4:x(l,34,1.235,.25),h5:x(l,24,1.334,0),h6:x(h,20,1.6,.15),subtitle1:x(l,16,1.75,.15),subtitle2:x(h,14,1.57,.1),body1:x(l,16,1.5,.15),body2:x(l,14,1.43,.15),button:x(h,14,1.75,.4,KL),caption:x(l,12,1.66,.4),overline:x(l,12,2.66,1,KL)};return VO(ZN({htmlFontSize:m,pxToRem:w,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:l,fontWeightMedium:h,fontWeightBold:p},_),b,{clone:!1})}function $L(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var QL=["none",$L(0,2,1,-1,0,1,1,0,0,1,3,0),$L(0,3,1,-2,0,2,2,0,0,1,5,0),$L(0,3,3,-2,0,3,4,0,0,1,8,0),$L(0,2,4,-1,0,4,5,0,0,1,10,0),$L(0,3,5,-1,0,5,8,0,0,1,14,0),$L(0,3,5,-1,0,6,10,0,0,1,18,0),$L(0,4,5,-2,0,7,10,1,0,2,16,1),$L(0,5,5,-3,0,8,10,1,0,3,14,2),$L(0,5,6,-3,0,9,12,1,0,3,16,2),$L(0,6,6,-3,0,10,14,1,0,4,18,3),$L(0,6,7,-4,0,11,15,1,0,4,20,3),$L(0,7,8,-4,0,12,17,2,0,5,22,4),$L(0,7,8,-4,0,13,19,2,0,5,24,4),$L(0,7,9,-4,0,14,21,2,0,5,26,4),$L(0,8,9,-5,0,15,22,2,0,6,28,5),$L(0,8,10,-5,0,16,24,2,0,6,30,5),$L(0,8,11,-5,0,17,26,2,0,6,32,5),$L(0,9,11,-5,0,18,28,2,0,7,34,6),$L(0,9,12,-6,0,19,29,2,0,7,36,6),$L(0,10,13,-6,0,20,31,3,0,8,38,7),$L(0,10,13,-6,0,21,33,3,0,8,40,7),$L(0,10,14,-6,0,22,35,3,0,8,42,7),$L(0,11,14,-7,0,23,36,3,0,9,44,8),$L(0,11,15,-7,0,24,38,3,0,9,46,8)],YL=["duration","easing","delay"],XL={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},JL={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function ZL(e){return"".concat(Math.round(e),"ms")}function eM(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function tM(e){var t=ZN({},XL,e.easing),n=ZN({},JL,e.duration);return ZN({getAutoHeightDuration:eM,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,u=void 0===o?t.easeInOut:o,s=r.delay,c=void 0===s?0:s;eP(r,YL);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:ZL(a)," ").concat(u," ").concat("string"===typeof c?c:ZL(c))})).join(",")}},e,{easing:t,duration:n})}var nM={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},rM=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function iM(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,u=e.typography,s=void 0===u?{}:u,c=eP(e,rM);if(e.vars)throw new Error(zO(18));var l=qL(i),f=dL(e),h=VO(f,{mixins:_L(f.breakpoints,n),palette:l,shadows:QL.slice(),typography:HL(l,s),transitions:tM(o),zIndex:ZN({},nM)});h=VO(h,c);for(var d=arguments.length,p=new Array(d>1?d-1:0),v=1;v<d;v++)p[v-1]=arguments[v];return h=p.reduce((function(e,t){return VO(e,t)}),h)}var aM=iM,oM=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.defaultTheme,r=e.defaultClassName,i=void 0===r?"MuiBox-root":r,a=e.generateClassName,o=e.styleFunctionSx,u=void 0===o?aL:o,s=MO("div",{shouldForwardProp:function(e){return"theme"!==e&&"sx"!==e&&"as"!==e}})(u),c=t.forwardRef((function(e,t){var r=bL(n),o=uL(e),u=o.className,c=o.component,l=void 0===c?"div":c,f=eP(o,kL);return(0,XN.jsx)(s,ZN({as:l,ref:t,className:nP(u,a?a(i):i),theme:r},f))}));return c}({defaultTheme:aM(),defaultClassName:"MuiBox-root",generateClassName:xL.generate}),uM=oM;function sM(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function cM(e,n){return t.useMemo((function(){return null==e&&null==n?null:function(t){sM(e,t),sM(n,t)}}),[e,n])}function lM(e){return e&&e.ownerDocument||document}var fM="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;function hM(e){var n=t.useRef(e);return fM((function(){n.current=e})),t.useCallback((function(){return n.current.apply(void 0,arguments)}),[])}function dM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}function pM(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(e.push(t(r)),n&&n[r]&&e.push(n[r])),e}),[]).join(" ")})),r}var vM=n(164);var mM=t.forwardRef((function(e,n){var r=e.children,i=e.container,a=e.disablePortal,o=void 0!==a&&a,u=c(t.useState(null),2),s=u[0],l=u[1],f=cM(t.isValidElement(r)?r.ref:null,n);return fM((function(){o||l(function(e){return"function"===typeof e?e():e}(i)||document.body)}),[i,o]),fM((function(){if(s&&!o)return sM(n,s),function(){sM(n,null)}}),[n,s,o]),o?t.isValidElement(r)?t.cloneElement(r,{ref:f}):r:s?vM.createPortal(r,s):s}));function yM(e){return lM(e).defaultView||window}function gM(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function bM(e){return parseInt(yM(e).getComputedStyle(e).paddingRight,10)||0}function kM(e){var t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}function wM(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[t,n].concat(Di(r));[].forEach.call(e.children,(function(e){var t=-1===a.indexOf(e),n=!kM(e);t&&n&&gM(e,i)}))}function xM(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function _M(e,t){var n=[],r=e.container;if(!t.disableScrollLock){if(function(e){var t=lM(e);return t.body===e?yM(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){var i=function(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}(lM(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(bM(r)+i,"px");var a=lM(r).querySelectorAll(".mui-fixed");[].forEach.call(a,(function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(bM(e)+i,"px")}))}var o;if(r.parentNode instanceof DocumentFragment)o=lM(r).body;else{var u=r.parentElement,s=yM(r);o="HTML"===(null==u?void 0:u.nodeName)&&"scroll"===s.getComputedStyle(u).overflowY?u:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return function(){n.forEach((function(e){var t=e.value,n=e.el,r=e.property;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var SM=function(){function e(){Kr(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return Hr(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&gM(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);wM(t,e.mount,e.modalRef,r,!0);var i=xM(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(e,t){var n=xM(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=_M(r,t))}},{key:"remove",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.modals.indexOf(e);if(-1===n)return n;var r=xM(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&gM(e.modalRef,t),wM(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{var a=i.modals[i.modals.length-1];a.modalRef&&gM(a.modalRef,!1)}return n}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}(),IM=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function EM(e){var t=[],n=[];return Array.from(e.querySelectorAll(IM)).forEach((function(e,r){var i=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function TM(){return!0}var CM=function(e){var n=e.children,r=e.disableAutoFocus,i=void 0!==r&&r,a=e.disableEnforceFocus,o=void 0!==a&&a,u=e.disableRestoreFocus,s=void 0!==u&&u,c=e.getTabbable,l=void 0===c?EM:c,f=e.isEnabled,h=void 0===f?TM:f,d=e.open,p=t.useRef(),v=t.useRef(null),m=t.useRef(null),y=t.useRef(null),g=t.useRef(null),b=t.useRef(!1),k=t.useRef(null),w=cM(n.ref,k),x=t.useRef(null);t.useEffect((function(){d&&k.current&&(b.current=!i)}),[i,d]),t.useEffect((function(){if(d&&k.current){var e=lM(k.current);return k.current.contains(e.activeElement)||(k.current.hasAttribute("tabIndex")||k.current.setAttribute("tabIndex",-1),b.current&&k.current.focus()),function(){s||(y.current&&y.current.focus&&(p.current=!0,y.current.focus()),y.current=null)}}}),[d]),t.useEffect((function(){if(d&&k.current){var e=lM(k.current),t=function(t){var n=k.current;if(null!==n)if(e.hasFocus()&&!o&&h()&&!p.current){if(!n.contains(e.activeElement)){if(t&&g.current!==t.target||e.activeElement!==g.current)g.current=null;else if(null!==g.current)return;if(!b.current)return;var r=[];if(e.activeElement!==v.current&&e.activeElement!==m.current||(r=l(k.current)),r.length>0){var i,a,u=Boolean((null==(i=x.current)?void 0:i.shiftKey)&&"Tab"===(null==(a=x.current)?void 0:a.key)),s=r[0],c=r[r.length-1];u?c.focus():s.focus()}else n.focus()}}else p.current=!1},n=function(t){x.current=t,!o&&h()&&"Tab"===t.key&&e.activeElement===k.current&&t.shiftKey&&(p.current=!0,m.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);var r=setInterval((function(){"BODY"===e.activeElement.tagName&&t()}),50);return function(){clearInterval(r),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}}),[i,o,s,h,d,l]);var _=function(e){null===y.current&&(y.current=e.relatedTarget),b.current=!0};return(0,XN.jsxs)(t.Fragment,{children:[(0,XN.jsx)("div",{tabIndex:d?0:-1,onFocus:_,ref:v,"data-testid":"sentinelStart"}),t.cloneElement(n,{ref:w,onFocus:function(e){null===y.current&&(y.current=e.relatedTarget),b.current=!0,g.current=e.target;var t=n.props.onFocus;t&&t(e)}}),(0,XN.jsx)("div",{tabIndex:d?0:-1,onFocus:_,ref:m,"data-testid":"sentinelEnd"})]})},RM={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function AM(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r=RM[t];return r?"".concat(n,"-").concat(r):"".concat(xL.generate(e),"-").concat(t)}function NM(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};return t.forEach((function(t){r[t]=AM(e,t,n)})),r}function PM(e){return AM("MuiModal",e)}NM("MuiModal",["root","hidden"]);var OM=function(e){return"string"===typeof e};function DM(e){if(void 0===e)return{};var t={};return Object.keys(e).filter((function(t){return!(t.match(/^on[A-Z]/)&&"function"===typeof e[t])})).forEach((function(n){t[n]=e[n]})),t}function LM(e){var t=e.getSlotProps,n=e.additionalProps,r=e.externalSlotProps,i=e.externalForwardedProps,a=e.className;if(!t){var o=nP(null==i?void 0:i.className,null==r?void 0:r.className,a,null==n?void 0:n.className),u=ZN({},null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),s=ZN({},n,i,r);return o.length>0&&(s.className=o),Object.keys(u).length>0&&(s.style=u),{props:s,internalRef:void 0}}var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};var n={};return Object.keys(e).filter((function(n){return n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n)})).forEach((function(t){n[t]=e[t]})),n}(ZN({},i,r)),l=DM(r),f=DM(i),h=t(c),d=nP(null==h?void 0:h.className,null==n?void 0:n.className,a,null==i?void 0:i.className,null==r?void 0:r.className),p=ZN({},null==h?void 0:h.style,null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),v=ZN({},h,n,f,l);return d.length>0&&(v.className=d),Object.keys(p).length>0&&(v.style=p),{props:v,internalRef:h.ref}}function MM(e,t){return"function"===typeof e?e(t):e}var FM=["elementType","externalSlotProps","ownerState"];function UM(e){var t,n=e.elementType,r=e.externalSlotProps,i=e.ownerState,a=eP(e,FM),o=MM(r,i),u=LM(ZN({},a,{externalSlotProps:o})),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return OM(e)?t:ZN({},t,{ownerState:ZN({},t.ownerState,n)})}(n,ZN({},u.props,{ref:cM(u.internalRef,cM(null==o?void 0:o.ref,null==(t=e.additionalProps)?void 0:t.ref))}),i);return s}var VM=["children","classes","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited"];var jM=new SM,zM=t.forwardRef((function(e,n){var r,i=e.children,a=e.classes,o=e.closeAfterTransition,u=void 0!==o&&o,s=e.component,l=void 0===s?"div":s,f=e.components,h=void 0===f?{}:f,d=e.componentsProps,p=void 0===d?{}:d,v=e.container,m=e.disableAutoFocus,y=void 0!==m&&m,g=e.disableEnforceFocus,b=void 0!==g&&g,k=e.disableEscapeKeyDown,w=void 0!==k&&k,x=e.disablePortal,_=void 0!==x&&x,S=e.disableRestoreFocus,I=void 0!==S&&S,E=e.disableScrollLock,T=void 0!==E&&E,C=e.hideBackdrop,R=void 0!==C&&C,A=e.keepMounted,N=void 0!==A&&A,P=e.manager,O=void 0===P?jM:P,D=e.onBackdropClick,L=e.onClose,M=e.onKeyDown,F=e.open,U=e.onTransitionEnter,V=e.onTransitionExited,j=eP(e,VM),z=c(t.useState(!0),2),B=z[0],q=z[1],W=t.useRef({}),K=t.useRef(null),G=t.useRef(null),H=cM(G,n),$=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(e),Q=null==(r=e["aria-hidden"])||r,Y=function(){return W.current.modalRef=G.current,W.current.mountNode=K.current,W.current},X=function(){O.mount(Y(),{disableScrollLock:T}),G.current.scrollTop=0},J=hM((function(){var e=function(e){return"function"===typeof e?e():e}(v)||lM(K.current).body;O.add(Y(),e),G.current&&X()})),Z=t.useCallback((function(){return O.isTopModal(Y())}),[O]),ee=hM((function(e){K.current=e,e&&(F&&Z()?X():gM(G.current,Q))})),te=t.useCallback((function(){O.remove(Y(),Q)}),[O,Q]);t.useEffect((function(){return function(){te()}}),[te]),t.useEffect((function(){F?J():$&&u||te()}),[F,te,$,u,J]);var ne=ZN({},e,{classes:a,closeAfterTransition:u,disableAutoFocus:y,disableEnforceFocus:b,disableEscapeKeyDown:w,disablePortal:_,disableRestoreFocus:I,disableScrollLock:T,exited:B,hideBackdrop:R,keepMounted:N}),re=function(e){var t=e.open,n=e.exited;return pM({root:["root",!t&&n&&"hidden"]},PM,e.classes)}(ne),ie={};void 0===i.props.tabIndex&&(ie.tabIndex="-1"),$&&(ie.onEnter=dM((function(){q(!1),U&&U()}),i.props.onEnter),ie.onExited=dM((function(){q(!0),V&&V(),u&&te()}),i.props.onExited));var ae=h.Root||l,oe=UM({elementType:ae,externalSlotProps:p.root,externalForwardedProps:j,additionalProps:{ref:H,role:"presentation",onKeyDown:function(e){M&&M(e),"Escape"===e.key&&Z()&&(w||(e.stopPropagation(),L&&L(e,"escapeKeyDown")))}},className:re.root,ownerState:ne}),ue=h.Backdrop,se=UM({elementType:ue,externalSlotProps:p.backdrop,additionalProps:{"aria-hidden":!0,onClick:function(e){e.target===e.currentTarget&&(D&&D(e),L&&L(e,"backdropClick"))},open:F},ownerState:ne});return N||F||$&&!B?(0,XN.jsx)(mM,{ref:ee,container:v,disablePortal:_,children:(0,XN.jsxs)(ae,ZN({},oe,{children:[!R&&ue?(0,XN.jsx)(ue,ZN({},se)):null,(0,XN.jsx)(CM,{disableEnforceFocus:b,disableAutoFocus:y,disableRestoreFocus:I,isEnabled:Z,open:F,children:t.cloneElement(i,ie)})]}))}):null})),BM=zM,qM=["variant"];function WM(e){return 0===e.length}function KM(e){var t=e.variant,n=eP(e,qM),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?WM(r)?e[t]:BO(e[t]):"".concat(WM(r)?t:BO(t)).concat(BO(e[t].toString()))})),r}var GM=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],HM=["theme"],$M=["theme"];function QM(e){return 0===Object.keys(e).length}function YM(e){return"string"===typeof e&&e.charCodeAt(0)>96}var XM=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},JM=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=KM(e.props);r[t]=e.style})),r},ZM=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[KM(n.props)])})),s};function eF(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var tF=dL();var nF=aM(),rF=function(e){return eF(e)&&"classes"!==e},iF=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?tF:t,r=e.rootShouldForwardProp,i=void 0===r?eF:r,a=e.slotShouldForwardProp,o=void 0===a?eF:a,u=e.styleFunctionSx,s=void 0===u?aL:u,l=function(e){var t=QM(e.theme)?n:e.theme;return s(ZN({},e,{theme:t}))};return l.__mui_systemSx=!0,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};FO(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var r,a=t.name,u=t.slot,s=t.skipVariantsResolver,f=t.skipSx,h=t.overridesResolver,d=eP(t,GM),p=void 0!==s?s:u&&"Root"!==u||!1,v=f||!1;var m=eF;"Root"===u?m=i:u?m=o:YM(e)&&(m=void 0);var y=MO(e,ZN({shouldForwardProp:m,label:r},d)),g=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=r?r.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=eP(t,HM);return e(ZN({theme:QM(r)?n:r},i))}:e})):[],u=e;a&&h&&o.push((function(e){var t=QM(e.theme)?n:e.theme,r=XM(a,t);if(r){var i={};return Object.entries(r).forEach((function(n){var r=c(n,2),a=r[0],o=r[1];i[a]="function"===typeof o?o(ZN({},e,{theme:t})):o})),h(e,i)}return null})),a&&!p&&o.push((function(e){var t=QM(e.theme)?n:e.theme;return ZM(e,JM(a,t),t,a)})),v||o.push(l);var s=o.length-r.length;if(Array.isArray(e)&&s>0){var f=new Array(s).fill("");(u=[].concat(Di(e),Di(f))).raw=[].concat(Di(e.raw),Di(f))}else"function"===typeof e&&e.__emotion_real!==e&&(u=function(t){var r=t.theme,i=eP(t,$M);return e(ZN({theme:QM(r)?n:r},i))});var d=y.apply(void 0,[u].concat(Di(o)));return d};return y.withConfig&&(g.withConfig=y.withConfig),g}}({defaultTheme:nF,rootShouldForwardProp:rF}),aF=iF;function oF(e,t){var n=ZN({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}function uF(e){var t=e.props,n=e.name,r=e.defaultTheme,i=function(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?oF(t.components[n].defaultProps,r):r}({theme:bL(r),name:n,props:t});return i}function sF(e){return uF({props:e.props,name:e.name,defaultTheme:nF})}function cF(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Yr(e,t)}var lF=!1,fF=t.createContext(null),hF="unmounted",dF="exited",pF="entering",vF="entered",mF="exiting",yF=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=dF,r.appearStatus=pF):i=vF:i=t.unmountOnExit||t.mountOnEnter?hF:dF,r.state={status:i},r.nextCallback=null,r}cF(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===hF?{status:dF}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==pF&&n!==vF&&(t=pF):n!==pF&&n!==vF||(t=mF)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===pF){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:vM.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===dF&&this.setState({status:hF})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[vM.findDOMNode(this),r],a=i[0],o=i[1],u=this.getTimeouts(),s=r?u.appear:u.enter;!e&&!n||lF?this.safeSetState({status:vF},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:pF},(function(){t.props.onEntering(a,o),t.onTransitionEnd(s,(function(){t.safeSetState({status:vF},(function(){t.props.onEntered(a,o)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:vM.findDOMNode(this);t&&!lF?(this.props.onExit(r),this.safeSetState({status:mF},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:dF},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:dF},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:vM.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===hF)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,eP(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(fF.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function gF(){}yF.contextType=fF,yF.propTypes={},yF.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:gF,onEntering:gF,onEntered:gF,onExit:gF,onExiting:gF,onExited:gF},yF.UNMOUNTED=hF,yF.EXITED=dF,yF.ENTERING=pF,yF.ENTERED=vF,yF.EXITING=mF;var bF=yF;function kF(e,t){var n,r,i=e.timeout,a=e.easing,o=e.style,u=void 0===o?{}:o;return{duration:null!=(n=u.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=u.transitionTimingFunction)?r:"object"===typeof a?a[t.mode]:a,delay:u.transitionDelay}}var wF=cM,xF=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],_F={entering:{opacity:1},entered:{opacity:1}},SF=t.forwardRef((function(e,n){var r=bL(nF),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},a=e.addEndListener,o=e.appear,u=void 0===o||o,s=e.children,c=e.easing,l=e.in,f=e.onEnter,h=e.onEntered,d=e.onEntering,p=e.onExit,v=e.onExited,m=e.onExiting,y=e.style,g=e.timeout,b=void 0===g?i:g,k=e.TransitionComponent,w=void 0===k?bF:k,x=eP(e,xF),_=t.useRef(null),S=wF(s.ref,n),I=wF(_,S),E=function(e){return function(t){if(e){var n=_.current;void 0===t?e(n):e(n,t)}}},T=E(d),C=E((function(e,t){!function(e){e.scrollTop}(e);var n=kF({style:y,timeout:b,easing:c},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),f&&f(e,t)})),R=E(h),A=E(m),N=E((function(e){var t=kF({style:y,timeout:b,easing:c},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),p&&p(e)})),P=E(v);return(0,XN.jsx)(w,ZN({appear:u,in:l,nodeRef:_,onEnter:C,onEntered:R,onEntering:T,onExit:N,onExited:P,onExiting:A,addEndListener:function(e){a&&a(_.current,e)},timeout:b},x,{children:function(e,n){return t.cloneElement(s,ZN({style:ZN({opacity:0,visibility:"exited"!==e||l?void 0:"hidden"},_F[e],y,s.props.style),ref:I},n))}}))})),IF=SF;function EF(e){return AM("MuiBackdrop",e)}NM("MuiBackdrop",["root","invisible"]);var TF,CF=["children","component","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],RF=aF("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){return ZN({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.ownerState.invisible&&{backgroundColor:"transparent"})})),AF=t.forwardRef((function(e,t){var n,r,i=sF({props:e,name:"MuiBackdrop"}),a=i.children,o=i.component,u=void 0===o?"div":o,s=i.components,c=void 0===s?{}:s,l=i.componentsProps,f=void 0===l?{}:l,h=i.className,d=i.invisible,p=void 0!==d&&d,v=i.open,m=i.transitionDuration,y=i.TransitionComponent,g=void 0===y?IF:y,b=eP(i,CF),k=ZN({},i,{component:u,invisible:p}),w=function(e){var t=e.classes;return pM({root:["root",e.invisible&&"invisible"]},EF,t)}(k);return(0,XN.jsx)(g,ZN({in:v,timeout:m},b,{children:(0,XN.jsx)(RF,{"aria-hidden":!0,as:null!=(n=c.Root)?n:u,className:nP(w.root,h),ownerState:ZN({},k,null==(r=f.root)?void 0:r.ownerState),classes:w,ref:t,children:a})}))})),NF=["BackdropComponent","BackdropProps","closeAfterTransition","children","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","theme"],PF=aF("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return ZN({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),OF=aF(AF,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),DF=t.forwardRef((function(e,n){var r,i,a=sF({name:"MuiModal",props:e}),o=a.BackdropComponent,u=void 0===o?OF:o,s=a.BackdropProps,l=a.closeAfterTransition,f=void 0!==l&&l,h=a.children,d=a.component,p=a.components,v=void 0===p?{}:p,m=a.componentsProps,y=void 0===m?{}:m,g=a.disableAutoFocus,b=void 0!==g&&g,k=a.disableEnforceFocus,w=void 0!==k&&k,x=a.disableEscapeKeyDown,_=void 0!==x&&x,S=a.disablePortal,I=void 0!==S&&S,E=a.disableRestoreFocus,T=void 0!==E&&E,C=a.disableScrollLock,R=void 0!==C&&C,A=a.hideBackdrop,N=void 0!==A&&A,P=a.keepMounted,O=void 0!==P&&P,D=a.theme,L=eP(a,NF),M=c(t.useState(!0),2),F=M[0],U=M[1],V={closeAfterTransition:f,disableAutoFocus:b,disableEnforceFocus:w,disableEscapeKeyDown:_,disablePortal:I,disableRestoreFocus:T,disableScrollLock:R,hideBackdrop:N,keepMounted:O},j=ZN({},a,V,{exited:F}),z=function(e){return e.classes}(j),B=null!=(r=null!=(i=v.Root)?i:d)?r:PF;return(0,XN.jsx)(BM,ZN({components:ZN({Root:B,Backdrop:u},v),componentsProps:{root:function(){return ZN({},MM(y.root,j),!OM(B)&&{as:d,theme:D})},backdrop:function(){return ZN({},s,MM(y.backdrop,j))}},onTransitionEnter:function(){return U(!1)},onTransitionExited:function(){return U(!0)},ref:n},L,{classes:z},V,{children:h}))})),LF=hM,MF=!0,FF=!1,UF={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function VF(e){e.metaKey||e.altKey||e.ctrlKey||(MF=!0)}function jF(){MF=!1}function zF(){"hidden"===this.visibilityState&&FF&&(MF=!0)}function BF(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return MF||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!UF[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var qF=function(){var e=t.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",VF,!0),t.addEventListener("mousedown",jF,!0),t.addEventListener("pointerdown",jF,!0),t.addEventListener("touchstart",jF,!0),t.addEventListener("visibilitychange",zF,!0))}),[]),n=t.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!BF(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(FF=!0,window.clearTimeout(TF),TF=window.setTimeout((function(){FF=!1}),100),n.current=!1,!0)},ref:e}};function WF(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function KF(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function GF(e,t,n){return null!=n[t]?n[t]:e.props[t]}function HF(e,n,r){var i=KF(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(n,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,t.isValidElement)(u)){var s=o in n,c=o in i,l=n[o],f=(0,t.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:l.props.in,exit:GF(u,"exit",e),enter:GF(u,"enter",e)})):a[o]=(0,t.cloneElement)(u,{in:!1}):a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:GF(u,"exit",e),enter:GF(u,"enter",e)})}})),a}var $F=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},QF=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(Qr(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}cF(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,KF(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:GF(e,"appear",r),enter:GF(e,"enter",r),exit:GF(e,"exit",r)})}))):HF(e,a,o),firstRender:!1}},r.handleExited=function(e,t){var n=KF(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=ZN({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=eP(e,["component","childFactory"]),a=this.state.contextValue,o=$F(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(fF.Provider,{value:a},o):t.createElement(fF.Provider,{value:a},t.createElement(n,i,o))},n}(t.Component);QF.propTypes={},QF.defaultProps={component:"div",childFactory:function(e){return e}};var YF=QF;n(110),r.useInsertionEffect?r.useInsertionEffect:t.useLayoutEffect;function XF(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return wO(t)}var JF=function(){var e=XF.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var ZF=function(e){var n=e.className,r=e.classes,i=e.pulsate,a=void 0!==i&&i,o=e.rippleX,u=e.rippleY,s=e.rippleSize,l=e.in,f=e.onExited,h=e.timeout,d=c(t.useState(!1),2),p=d[0],v=d[1],m=nP(n,r.ripple,r.rippleVisible,a&&r.ripplePulsate),y={width:s,height:s,top:-s/2+u,left:-s/2+o},g=nP(r.child,p&&r.childLeaving,a&&r.childPulsate);return l||p||v(!0),t.useEffect((function(){if(!l&&null!=f){var e=setTimeout(f,h);return function(){clearTimeout(e)}}}),[f,l,h]),(0,XN.jsx)("span",{className:m,style:y,children:(0,XN.jsx)("span",{className:g})})};var eU,tU,nU,rU,iU,aU,oU,uU,sU=NM("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),cU=["center","classes","className"],lU=JF(iU||(iU=eU||(eU=WF(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),fU=JF(aU||(aU=tU||(tU=WF(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),hU=JF(oU||(oU=nU||(nU=WF(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),dU=aF("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),pU=aF(ZF,{name:"MuiTouchRipple",slot:"Ripple"})(uU||(uU=rU||(rU=WF(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),sU.rippleVisible,lU,550,(function(e){return e.theme.transitions.easing.easeInOut}),sU.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),sU.child,sU.childLeaving,fU,550,(function(e){return e.theme.transitions.easing.easeInOut}),sU.childPulsate,hU,(function(e){return e.theme.transitions.easing.easeInOut})),vU=t.forwardRef((function(e,n){var r=sF({props:e,name:"MuiTouchRipple"}),i=r.center,a=void 0!==i&&i,o=r.classes,u=void 0===o?{}:o,s=r.className,l=eP(r,cU),f=c(t.useState([]),2),h=f[0],d=f[1],p=t.useRef(0),v=t.useRef(null);t.useEffect((function(){v.current&&(v.current(),v.current=null)}),[h]);var m=t.useRef(!1),y=t.useRef(null),g=t.useRef(null),b=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(y.current)}}),[]);var k=t.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;d((function(e){return[].concat(Di(e),[(0,XN.jsx)(pU,{classes:{ripple:nP(u.ripple,sU.ripple),rippleVisible:nP(u.rippleVisible,sU.rippleVisible),ripplePulsate:nP(u.ripplePulsate,sU.ripplePulsate),child:nP(u.child,sU.child),childLeaving:nP(u.childLeaving,sU.childLeaving),childPulsate:nP(u.childPulsate,sU.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},p.current)])})),p.current+=1,v.current=a}),[u]),w=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,u=void 0===o?a||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===(null==e?void 0:e.type)&&m.current)m.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(m.current=!0);var l,f,h,d=c?null:b.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches&&e.touches.length>0?e.touches[0]:e,w=v.clientX,x=v.clientY;l=Math.round(w-p.left),f=Math.round(x-p.top)}if(u)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var _=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,S=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(_,2)+Math.pow(S,2))}null!=e&&e.touches?null===g.current&&(g.current=function(){k({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})},y.current=setTimeout((function(){g.current&&(g.current(),g.current=null)}),80)):k({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[a,k]),x=t.useCallback((function(){w({},{pulsate:!0})}),[w]),_=t.useCallback((function(e,t){if(clearTimeout(y.current),"touchend"===(null==e?void 0:e.type)&&g.current)return g.current(),g.current=null,void(y.current=setTimeout((function(){_(e,t)})));g.current=null,d((function(e){return e.length>0?e.slice(1):e})),v.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:x,start:w,stop:_}}),[x,w,_]),(0,XN.jsx)(dU,ZN({className:nP(sU.root,u.root,s),ref:b},l,{children:(0,XN.jsx)(YF,{component:null,exit:!0,children:h})}))})),mU=vU;function yU(e){return AM("MuiButtonBase",e)}var gU,bU=NM("MuiButtonBase",["root","disabled","focusVisible"]),kU=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],wU=aF("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((Wr(gU={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(bU.disabled),{pointerEvents:"none",cursor:"default"}),Wr(gU,"@media print",{colorAdjust:"exact"}),gU)),xU=t.forwardRef((function(e,n){var r=sF({props:e,name:"MuiButtonBase"}),i=r.action,a=r.centerRipple,o=void 0!==a&&a,u=r.children,s=r.className,l=r.component,f=void 0===l?"button":l,h=r.disabled,d=void 0!==h&&h,p=r.disableRipple,v=void 0!==p&&p,m=r.disableTouchRipple,y=void 0!==m&&m,g=r.focusRipple,b=void 0!==g&&g,k=r.LinkComponent,w=void 0===k?"a":k,x=r.onBlur,_=r.onClick,S=r.onContextMenu,I=r.onDragLeave,E=r.onFocus,T=r.onFocusVisible,C=r.onKeyDown,R=r.onKeyUp,A=r.onMouseDown,N=r.onMouseLeave,P=r.onMouseUp,O=r.onTouchEnd,D=r.onTouchMove,L=r.onTouchStart,M=r.tabIndex,F=void 0===M?0:M,U=r.TouchRippleProps,V=r.touchRippleRef,j=r.type,z=eP(r,kU),B=t.useRef(null),q=t.useRef(null),W=wF(q,V),K=qF(),G=K.isFocusVisibleRef,H=K.onFocus,$=K.onBlur,Q=K.ref,Y=c(t.useState(!1),2),X=Y[0],J=Y[1];d&&X&&J(!1),t.useImperativeHandle(i,(function(){return{focusVisible:function(){J(!0),B.current.focus()}}}),[]);var Z=c(t.useState(!1),2),ee=Z[0],te=Z[1];t.useEffect((function(){te(!0)}),[]);var ne=ee&&!v&&!d;function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;return LF((function(r){return t&&t(r),!n&&q.current&&q.current[e](r),!0}))}t.useEffect((function(){X&&b&&!v&&ee&&q.current.pulsate()}),[v,b,X,ee]);var ie=re("start",A),ae=re("stop",S),oe=re("stop",I),ue=re("stop",P),se=re("stop",(function(e){X&&e.preventDefault(),N&&N(e)})),ce=re("start",L),le=re("stop",O),fe=re("stop",D),he=re("stop",(function(e){$(e),!1===G.current&&J(!1),x&&x(e)}),!1),de=LF((function(e){B.current||(B.current=e.currentTarget),H(e),!0===G.current&&(J(!0),T&&T(e)),E&&E(e)})),pe=function(){var e=B.current;return f&&"button"!==f&&!("A"===e.tagName&&e.href)},ve=t.useRef(!1),me=LF((function(e){b&&!ve.current&&X&&q.current&&" "===e.key&&(ve.current=!0,q.current.stop(e,(function(){q.current.start(e)}))),e.target===e.currentTarget&&pe()&&" "===e.key&&e.preventDefault(),C&&C(e),e.target===e.currentTarget&&pe()&&"Enter"===e.key&&!d&&(e.preventDefault(),_&&_(e))})),ye=LF((function(e){b&&" "===e.key&&q.current&&X&&!e.defaultPrevented&&(ve.current=!1,q.current.stop(e,(function(){q.current.pulsate(e)}))),R&&R(e),_&&e.target===e.currentTarget&&pe()&&" "===e.key&&!e.defaultPrevented&&_(e)})),ge=f;"button"===ge&&(z.href||z.to)&&(ge=w);var be={};"button"===ge?(be.type=void 0===j?"button":j,be.disabled=d):(z.href||z.to||(be.role="button"),d&&(be["aria-disabled"]=d));var ke=wF(Q,B),we=wF(n,ke);var xe=ZN({},r,{centerRipple:o,component:f,disabled:d,disableRipple:v,disableTouchRipple:y,focusRipple:b,tabIndex:F,focusVisible:X}),_e=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=pM({root:["root",t&&"disabled",n&&"focusVisible"]},yU,e.classes);return n&&r&&(i.root+=" ".concat(r)),i}(xe);return(0,XN.jsxs)(wU,ZN({as:ge,className:nP(_e.root,s),ownerState:xe,onBlur:he,onClick:_,onContextMenu:ae,onFocus:de,onKeyDown:me,onKeyUp:ye,onMouseDown:ie,onMouseLeave:se,onMouseUp:ue,onDragLeave:oe,onTouchEnd:le,onTouchMove:fe,onTouchStart:ce,ref:we,tabIndex:d?-1:F,type:j},be,z,{children:[u,ne?(0,XN.jsx)(mU,ZN({ref:W,center:o},U)):null]}))})),_U=xU,SU=BO;function IU(e){return AM("MuiButton",e)}var EU=NM("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var TU=t.createContext({}),CU=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],RU=["root"],AU=function(e){return ZN({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},NU=aF(_U,{shouldForwardProp:function(e){return rF(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(SU(n.color))],t["size".concat(SU(n.size))],t["".concat(n.variant,"Size").concat(SU(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,r,i=e.theme,a=e.ownerState;return ZN({},i.typography.button,(Wr(t={minWidth:64,padding:"6px 16px",borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":ZN({textDecoration:"none",backgroundColor:i.vars?"rgba(".concat(i.vars.palette.text.primaryChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):CL(i.palette.text.primary,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===a.variant&&"inherit"!==a.color&&{backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):CL(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===a.variant&&"inherit"!==a.color&&{border:"1px solid ".concat((i.vars||i).palette[a.color].main),backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):CL(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===a.variant&&{backgroundColor:(i.vars||i).palette.grey.A100,boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2],backgroundColor:(i.vars||i).palette.grey[300]}},"contained"===a.variant&&"inherit"!==a.color&&{backgroundColor:(i.vars||i).palette[a.color].dark,"@media (hover: none)":{backgroundColor:(i.vars||i).palette[a.color].main}}),"&:active":ZN({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[8]})},"&.".concat(EU.focusVisible),ZN({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[6]})),Wr(t,"&.".concat(EU.disabled),ZN({color:(i.vars||i).palette.action.disabled},"outlined"===a.variant&&{border:"1px solid ".concat((i.vars||i).palette.action.disabledBackground)},"outlined"===a.variant&&"secondary"===a.color&&{border:"1px solid ".concat((i.vars||i).palette.action.disabled)},"contained"===a.variant&&{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground})),t),"text"===a.variant&&{padding:"6px 8px"},"text"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main},"outlined"===a.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main,border:i.vars?"1px solid rgba(".concat(i.vars.palette[a.color].mainChannel," / 0.5)"):"1px solid ".concat(CL(i.palette[a.color].main,.5))},"contained"===a.variant&&{color:i.vars?i.vars.palette.text.primary:null==(n=(r=i.palette).getContrastText)?void 0:n.call(r,i.palette.grey[300]),backgroundColor:(i.vars||i).palette.grey[300],boxShadow:(i.vars||i).shadows[2]},"contained"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].contrastText,backgroundColor:(i.vars||i).palette[a.color].main},"inherit"===a.color&&{color:"inherit",borderColor:"currentColor"},"small"===a.size&&"text"===a.variant&&{padding:"4px 5px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"text"===a.variant&&{padding:"8px 11px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"outlined"===a.variant&&{padding:"3px 9px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"outlined"===a.variant&&{padding:"7px 21px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"contained"===a.variant&&{padding:"4px 10px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"contained"===a.variant&&{padding:"8px 22px",fontSize:i.typography.pxToRem(15)},a.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(Wr(t={boxShadow:"none","&:hover":{boxShadow:"none"}},"&.".concat(EU.focusVisible),{boxShadow:"none"}),Wr(t,"&:active",{boxShadow:"none"}),Wr(t,"&.".concat(EU.disabled),{boxShadow:"none"}),t)})),PU=aF("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(SU(n.size))]]}})((function(e){var t=e.ownerState;return ZN({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},AU(t))})),OU=aF("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(SU(n.size))]]}})((function(e){var t=e.ownerState;return ZN({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},AU(t))})),DU=t.forwardRef((function(e,n){var r=t.useContext(TU),i=sF({props:oF(r,e),name:"MuiButton"}),a=i.children,o=i.color,u=void 0===o?"primary":o,s=i.component,c=void 0===s?"button":s,l=i.className,f=i.disabled,h=void 0!==f&&f,d=i.disableElevation,p=void 0!==d&&d,v=i.disableFocusRipple,m=void 0!==v&&v,y=i.endIcon,g=i.focusVisibleClassName,b=i.fullWidth,k=void 0!==b&&b,w=i.size,x=void 0===w?"medium":w,_=i.startIcon,S=i.type,I=i.variant,E=void 0===I?"text":I,T=eP(i,CU),C=ZN({},i,{color:u,component:c,disabled:h,disableElevation:p,disableFocusRipple:m,fullWidth:k,size:x,type:S,variant:E}),R=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,a=e.variant,o=e.classes;return ZN({},o,pM({root:["root",a,"".concat(a).concat(SU(t)),"size".concat(SU(i)),"".concat(a,"Size").concat(SU(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(SU(i))],endIcon:["endIcon","iconSize".concat(SU(i))]},IU,o))}(C),A=R.root,N=eP(R,RU),P=_&&(0,XN.jsx)(PU,{className:N.startIcon,ownerState:C,children:_}),O=y&&(0,XN.jsx)(OU,{className:N.endIcon,ownerState:C,children:y});return(0,XN.jsxs)(NU,ZN({ownerState:C,className:nP(r.className,A,l),component:c,disabled:h,focusRipple:!m,focusVisibleClassName:nP(N.focusVisible,g),ref:n,type:S},T,{classes:N,children:[P,a,O]}))})),LU=DU;var MU=t.createContext();var FU=MU;function UU(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function VU(e,n){return t.useMemo((function(){return null==e&&null==n?null:function(t){UU(e,t),UU(n,t)}}),[e,n])}function jU(e,t){return parseInt(e[t],10)||0}var zU="undefined"!==typeof window?t.useLayoutEffect:t.useEffect,BU={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},qU=t.forwardRef((function(e,n){var r=e.onChange,i=e.rows,a=e.rowsMax,o=e.rowsMin,u=e.maxRows,s=e.minRows,c=void 0===s?1:s,f=e.style,d=e.value,p=h(e,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),v=u||a,m=i||o||c,y=t.useRef(null!=d).current,g=t.useRef(null),b=VU(n,g),k=t.useRef(null),w=t.useRef(0),x=t.useState({}),_=x[0],S=x[1],I=t.useCallback((function(){var t=g.current,n=window.getComputedStyle(t),r=k.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],a=jU(n,"padding-bottom")+jU(n,"padding-top"),o=jU(n,"border-bottom-width")+jU(n,"border-top-width"),u=r.scrollHeight-a;r.value="x";var s=r.scrollHeight-a,c=u;m&&(c=Math.max(Number(m)*s,c)),v&&(c=Math.min(Number(v)*s,c));var l=(c=Math.max(c,s))+("border-box"===i?a+o:0),f=Math.abs(c-u)<=1;S((function(e){return w.current<20&&(l>0&&Math.abs((e.outerHeightStyle||0)-l)>1||e.overflow!==f)?(w.current+=1,{overflow:f,outerHeightStyle:l}):e}))}),[v,m,e.placeholder]);t.useEffect((function(){var e=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=this,u=function(){e.apply(o,i)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r}((function(){w.current=0,I()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[I]),zU((function(){I()})),t.useEffect((function(){w.current=0}),[d]);return t.createElement(t.Fragment,null,t.createElement("textarea",l({value:d,onChange:function(e){w.current=0,y||I(),r&&r(e)},ref:b,rows:m,style:l({height:_.outerHeightStyle,overflow:_.overflow?"hidden":null},f)},p)),t.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:k,tabIndex:-1,style:l({},BU,f)}))})),WU=qU;function KU(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}var GU="undefined"===typeof window?t.useEffect:t.useLayoutEffect,HU=t.forwardRef((function(e,n){var r=e["aria-describedby"],i=e.autoComplete,a=e.autoFocus,o=e.classes,u=e.className,s=(e.color,e.defaultValue),c=e.disabled,f=e.endAdornment,d=(e.error,e.fullWidth),v=void 0!==d&&d,m=e.id,y=e.inputComponent,g=void 0===y?"input":y,b=e.inputProps,k=void 0===b?{}:b,w=e.inputRef,x=(e.margin,e.multiline),_=void 0!==x&&x,S=e.name,I=e.onBlur,E=e.onChange,T=e.onClick,C=e.onFocus,R=e.onKeyDown,A=e.onKeyUp,N=e.placeholder,P=e.readOnly,O=e.renderSuffix,D=e.rows,L=e.rowsMax,M=e.rowsMin,F=e.maxRows,U=e.minRows,V=e.startAdornment,j=e.type,z=void 0===j?"text":j,B=e.value,q=h(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),W=null!=k.value?k.value:B,K=t.useRef(null!=W).current,G=t.useRef(),H=t.useCallback((function(e){0}),[]),$=VU(k.ref,H),Q=VU(w,$),Y=VU(G,Q),X=t.useState(!1),J=X[0],Z=X[1],ee=t.useContext(MU);var te=function(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}({props:e,muiFormControl:ee,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});te.focused=ee?ee.focused:J,t.useEffect((function(){!ee&&c&&J&&(Z(!1),I&&I())}),[ee,c,J,I]);var ne=ee&&ee.onFilled,re=ee&&ee.onEmpty,ie=t.useCallback((function(e){!function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(KU(e.value)&&""!==e.value||t&&KU(e.defaultValue)&&""!==e.defaultValue)}(e)?re&&re():ne&&ne()}),[ne,re]);GU((function(){K&&ie({value:W})}),[W,ie,K]);t.useEffect((function(){ie(G.current)}),[]);var ae=g,oe=l({},k,{ref:Y});"string"!==typeof ae?oe=l({inputRef:Y,type:z},oe,{ref:null}):_?!D||F||U||L||M?(oe=l({minRows:D||U,rowsMax:L,maxRows:F},oe),ae=WU):ae="textarea":oe=l({type:z},oe);return t.useEffect((function(){ee&&ee.setAdornedStart(Boolean(V))}),[ee,V]),t.createElement("div",l({className:p(o.root,o["color".concat(Ur(te.color||"primary"))],u,te.disabled&&o.disabled,te.error&&o.error,v&&o.fullWidth,te.focused&&o.focused,ee&&o.formControl,_&&o.multiline,V&&o.adornedStart,f&&o.adornedEnd,"dense"===te.margin&&o.marginDense),onClick:function(e){G.current&&e.currentTarget===e.target&&G.current.focus(),T&&T(e)},ref:n},q),V,t.createElement(FU.Provider,{value:null},t.createElement(ae,l({"aria-invalid":te.error,"aria-describedby":r,autoComplete:i,autoFocus:a,defaultValue:s,disabled:te.disabled,id:m,onAnimationStart:function(e){ie("mui-auto-fill-cancel"===e.animationName?G.current:{value:"x"})},name:S,placeholder:N,readOnly:P,required:te.required,rows:D,value:W,onKeyDown:R,onKeyUp:A},oe,{className:p(o.input,k.className,te.disabled&&o.disabled,_&&o.inputMultiline,te.hiddenLabel&&o.inputHiddenLabel,V&&o.inputAdornedStart,f&&o.inputAdornedEnd,"search"===z&&o.inputTypeSearch,"dense"===te.margin&&o.inputMarginDense),onBlur:function(e){I&&I(e),k.onBlur&&k.onBlur(e),ee&&ee.onBlur?ee.onBlur(e):Z(!1)},onChange:function(e){if(!K){var t=e.target||G.current;if(null==t)throw new Error(qn(1));ie({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];k.onChange&&k.onChange.apply(k,[e].concat(r)),E&&E.apply(void 0,[e].concat(r))},onFocus:function(e){te.disabled?e.stopPropagation():(C&&C(e),k.onFocus&&k.onFocus(e),ee&&ee.onFocus?ee.onFocus(e):Z(!0))}}))),f,O?O(l({},te,{startAdornment:V})):null)})),$U=Fr((function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},i={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:l({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(HU),QU=t.forwardRef((function(e,n){var r=e.disableUnderline,i=e.classes,a=e.fullWidth,o=void 0!==a&&a,u=e.inputComponent,s=void 0===u?"input":u,c=e.multiline,f=void 0!==c&&c,d=e.type,v=void 0===d?"text":d,m=h(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return t.createElement($U,l({classes:l({},i,{root:p(i.root,!r&&i.underline),underline:null}),fullWidth:o,inputComponent:s,multiline:f,ref:n,type:v},m))}));QU.muiName="Input";var YU=Fr((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(QU),XU="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;function JU(e){var n=t.useRef(e);return XU((function(){n.current=e})),t.useCallback((function(){return n.current.apply(void 0,arguments)}),[])}var ZU=!0,eV=!1,tV=null,nV={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function rV(e){e.metaKey||e.altKey||e.ctrlKey||(ZU=!0)}function iV(){ZU=!1}function aV(){"hidden"===this.visibilityState&&eV&&(ZU=!0)}function oV(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return ZU||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!nV[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function uV(){eV=!0,window.clearTimeout(tV),tV=window.setTimeout((function(){eV=!1}),100)}function sV(){var e=t.useCallback((function(e){var t,n=vM.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",rV,!0),t.addEventListener("mousedown",iV,!0),t.addEventListener("pointerdown",iV,!0),t.addEventListener("touchstart",iV,!0),t.addEventListener("visibilitychange",aV,!0))}),[]);return{isFocusVisible:oV,onBlurVisible:uV,ref:e}}var cV=t.createContext(null);function lV(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function fV(e,t,n){return null!=n[t]?n[t]:e.props[t]}function hV(e,n,r){var i=lV(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(n,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,t.isValidElement)(u)){var s=o in n,c=o in i,l=n[o],f=(0,t.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:l.props.in,exit:fV(u,"exit",e),enter:fV(u,"enter",e)})):a[o]=(0,t.cloneElement)(u,{in:!1}):a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:fV(u,"exit",e),enter:fV(u,"enter",e)})}})),a}var dV=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},pV=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(_(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}x(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,lV(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:fV(e,"appear",r),enter:fV(e,"enter",r),exit:fV(e,"exit",r)})}))):hV(e,a,o),firstRender:!1}},r.handleExited=function(e,t){var n=lV(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=l({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=f(e,["component","childFactory"]),a=this.state.contextValue,o=dV(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(cV.Provider,{value:a},o):t.createElement(cV.Provider,{value:a},t.createElement(n,i,o))},n}(t.Component);pV.propTypes={},pV.defaultProps={component:"div",childFactory:function(e){return e}};var vV=pV,mV="undefined"===typeof window?t.useEffect:t.useLayoutEffect;var yV=function(e){var n=e.classes,r=e.pulsate,i=void 0!==r&&r,a=e.rippleX,o=e.rippleY,u=e.rippleSize,s=e.in,c=e.onExited,l=void 0===c?function(){}:c,f=e.timeout,h=t.useState(!1),d=h[0],v=h[1],m=p(n.ripple,n.rippleVisible,i&&n.ripplePulsate),y={width:u,height:u,top:-u/2+o,left:-u/2+a},g=p(n.child,d&&n.childLeaving,i&&n.childPulsate),b=JU(l);return mV((function(){if(!s){v(!0);var e=setTimeout(b,f);return function(){clearTimeout(e)}}}),[b,s,f]),t.createElement("span",{className:m,style:y},t.createElement("span",{className:g}))},gV=t.forwardRef((function(e,n){var r=e.center,i=void 0!==r&&r,a=e.classes,o=e.className,u=h(e,["center","classes","className"]),s=t.useState([]),c=s[0],f=s[1],d=t.useRef(0),v=t.useRef(null);t.useEffect((function(){v.current&&(v.current(),v.current=null)}),[c]);var m=t.useRef(!1),y=t.useRef(null),g=t.useRef(null),b=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(y.current)}}),[]);var k=t.useCallback((function(e){var n=e.pulsate,r=e.rippleX,i=e.rippleY,o=e.rippleSize,u=e.cb;f((function(e){return[].concat(bt(e),[t.createElement(yV,{key:d.current,classes:a,timeout:550,pulsate:n,rippleX:r,rippleY:i,rippleSize:o})])})),d.current+=1,v.current=u}),[a]),w=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,a=void 0!==r&&r,o=t.center,u=void 0===o?i||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===e.type&&m.current)m.current=!1;else{"touchstart"===e.type&&(m.current=!0);var l,f,h,d=c?null:b.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,w=v.clientX,x=v.clientY;l=Math.round(w-p.left),f=Math.round(x-p.top)}if(u)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var _=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,S=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(_,2)+Math.pow(S,2))}e.touches?null===g.current&&(g.current=function(){k({pulsate:a,rippleX:l,rippleY:f,rippleSize:h,cb:n})},y.current=setTimeout((function(){g.current&&(g.current(),g.current=null)}),80)):k({pulsate:a,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[i,k]),x=t.useCallback((function(){w({},{pulsate:!0})}),[w]),_=t.useCallback((function(e,t){if(clearTimeout(y.current),"touchend"===e.type&&g.current)return e.persist(),g.current(),g.current=null,void(y.current=setTimeout((function(){_(e,t)})));g.current=null,f((function(e){return e.length>0?e.slice(1):e})),v.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:x,start:w,stop:_}}),[x,w,_]),t.createElement("span",l({className:p(a.root,o),ref:b},u),t.createElement(vV,{component:null,exit:!0},c))})),bV=Fr((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(t.memo(gV)),kV=t.forwardRef((function(e,n){var r=e.action,i=e.buttonRef,a=e.centerRipple,o=void 0!==a&&a,u=e.children,s=e.classes,c=e.className,f=e.component,d=void 0===f?"button":f,v=e.disabled,m=void 0!==v&&v,y=e.disableRipple,g=void 0!==y&&y,b=e.disableTouchRipple,k=void 0!==b&&b,w=e.focusRipple,x=void 0!==w&&w,_=e.focusVisibleClassName,S=e.onBlur,I=e.onClick,E=e.onFocus,T=e.onFocusVisible,C=e.onKeyDown,R=e.onKeyUp,A=e.onMouseDown,N=e.onMouseLeave,P=e.onMouseUp,O=e.onTouchEnd,D=e.onTouchMove,L=e.onTouchStart,M=e.onDragLeave,F=e.tabIndex,U=void 0===F?0:F,V=e.TouchRippleProps,j=e.type,z=void 0===j?"button":j,B=h(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),q=t.useRef(null);var W=t.useRef(null),K=t.useState(!1),G=K[0],H=K[1];m&&G&&H(!1);var $=sV(),Q=$.isFocusVisible,Y=$.onBlurVisible,X=$.ref;function J(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k;return JU((function(r){return t&&t(r),!n&&W.current&&W.current[e](r),!0}))}t.useImperativeHandle(r,(function(){return{focusVisible:function(){H(!0),q.current.focus()}}}),[]),t.useEffect((function(){G&&x&&!g&&W.current.pulsate()}),[g,x,G]);var Z=J("start",A),ee=J("stop",M),te=J("stop",P),ne=J("stop",(function(e){G&&e.preventDefault(),N&&N(e)})),re=J("start",L),ie=J("stop",O),ae=J("stop",D),oe=J("stop",(function(e){G&&(Y(e),H(!1)),S&&S(e)}),!1),ue=JU((function(e){q.current||(q.current=e.currentTarget),Q(e)&&(H(!0),T&&T(e)),E&&E(e)})),se=function(){var e=vM.findDOMNode(q.current);return d&&"button"!==d&&!("A"===e.tagName&&e.href)},ce=t.useRef(!1),le=JU((function(e){x&&!ce.current&&G&&W.current&&" "===e.key&&(ce.current=!0,e.persist(),W.current.stop(e,(function(){W.current.start(e)}))),e.target===e.currentTarget&&se()&&" "===e.key&&e.preventDefault(),C&&C(e),e.target===e.currentTarget&&se()&&"Enter"===e.key&&!m&&(e.preventDefault(),I&&I(e))})),fe=JU((function(e){x&&" "===e.key&&W.current&&G&&!e.defaultPrevented&&(ce.current=!1,e.persist(),W.current.stop(e,(function(){W.current.pulsate(e)}))),R&&R(e),I&&e.target===e.currentTarget&&se()&&" "===e.key&&!e.defaultPrevented&&I(e)})),he=d;"button"===he&&B.href&&(he="a");var de={};"button"===he?(de.type=z,de.disabled=m):("a"===he&&B.href||(de.role="button"),de["aria-disabled"]=m);var pe=VU(i,n),ve=VU(X,q),me=VU(pe,ve),ye=t.useState(!1),ge=ye[0],be=ye[1];t.useEffect((function(){be(!0)}),[]);var ke=ge&&!g&&!m;return t.createElement(he,l({className:p(s.root,c,G&&[s.focusVisible,_],m&&s.disabled),onBlur:oe,onClick:I,onFocus:ue,onKeyDown:le,onKeyUp:fe,onMouseDown:Z,onMouseLeave:ne,onMouseUp:te,onDragLeave:ee,onTouchEnd:ie,onTouchMove:ae,onTouchStart:re,ref:me,tabIndex:m?-1:U},de,B),u,ke?t.createElement(bV,l({ref:W,center:o},V)):null)})),wV=Fr({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(kV),xV=t.forwardRef((function(e,n){var r=e.children,i=e.classes,a=e.className,o=e.color,u=void 0===o?"default":o,s=e.component,c=void 0===s?"button":s,f=e.disabled,d=void 0!==f&&f,v=e.disableElevation,m=void 0!==v&&v,y=e.disableFocusRipple,g=void 0!==y&&y,b=e.endIcon,k=e.focusVisibleClassName,w=e.fullWidth,x=void 0!==w&&w,_=e.size,S=void 0===_?"medium":_,I=e.startIcon,E=e.type,T=void 0===E?"button":E,C=e.variant,R=void 0===C?"text":C,A=h(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),N=I&&t.createElement("span",{className:p(i.startIcon,i["iconSize".concat(Ur(S))])},I),P=b&&t.createElement("span",{className:p(i.endIcon,i["iconSize".concat(Ur(S))])},b);return t.createElement(wV,l({className:p(i.root,i[R],a,"inherit"===u?i.colorInherit:"default"!==u&&i["".concat(R).concat(Ur(u))],"medium"!==S&&[i["".concat(R,"Size").concat(Ur(S))],i["size".concat(Ur(S))]],m&&i.disableElevation,d&&i.disabled,x&&i.fullWidth),component:c,disabled:d,focusRipple:!g,focusVisibleClassName:p(i.focusVisible,k),ref:n,type:T},A),t.createElement("span",{className:i.label},N,r,P))})),_V=Fr((function(e){return{root:l({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:nr(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:nr(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:nr(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(nr(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:nr(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(nr(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:nr(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(xV);var SV=function(e){var n=e.username,r=c((0,t.useState)(null),2),i=r[0],a=r[1],o=c((0,t.useState)(0),2),u=o[0],s=o[1],l=c((0,t.useState)(""),2),f=l[0],h=l[1];return(0,XN.jsxs)("div",{className:"imageupload",children:[(0,XN.jsx)("progress",{className:"imageupload__progress",value:u,max:"100"}),(0,XN.jsx)("input",{type:"text",placeholder:"Enter a caption ...",onChange:function(e){return h(e.target.value)},value:f}),(0,XN.jsx)("input",{type:"file",onChange:function(e){e.target.files[0]&&a(e.target.files[0])}}),(0,XN.jsx)(_V,{onClick:function(){YN.ref("images/".concat(i.name)).put(i).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);s(t)}),(function(e){console.log(e),alert(e.message)}),(function(){YN.ref("images").child(i.name).getDownloadURL().then((function(e){$N.collection("posts").add({timestamp:fo.firestore.FieldValue.serverTimestamp(),caption:f,imageUrl:e,username:n}),s(0),h(""),a(null)}))}))},children:"Upload"})]})},IV={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};var EV=function(){var e=c((0,t.useState)([]),2),n=e[0],r=e[1],i=c((0,t.useState)(!1),2),a=i[0],o=i[1],u=c((0,t.useState)(!1),2),s=u[0],l=u[1],f=c((0,t.useState)(""),2),h=f[0],d=f[1],p=c((0,t.useState)(""),2),v=p[0],m=p[1],y=c((0,t.useState)(""),2),g=y[0],b=y[1],k=c((0,t.useState)(null),2),w=k[0],x=k[1];return(0,t.useEffect)((function(){var e=QN.onAuthStateChanged((function(e){e?(console.log(e),x(e)):x(null)}));return function(){e()}}),[w,h]),(0,t.useEffect)((function(){$N.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){r(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[]),(0,XN.jsxs)("div",{className:"App",children:[(0,XN.jsx)(DF,{open:a,onClose:function(){return o(!1)},children:(0,XN.jsx)(uM,{sx:IV,children:(0,XN.jsxs)("form",{className:"app__signup",children:[(0,XN.jsx)("center",{children:(0,XN.jsx)("img",{className:"app__headerImage",src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:""})}),(0,XN.jsx)(YU,{placeholder:"username",type:"username",value:h,onChange:function(e){return d(e.target.value)}}),(0,XN.jsx)(YU,{placeholder:"email",type:"text",value:g,onChange:function(e){return b(e.target.value)}}),(0,XN.jsx)(YU,{placeholder:"password",type:"password",value:v,onChange:function(e){return m(e.target.value)}}),(0,XN.jsx)(LU,{onClick:function(e){e.preventDefault(),QN.createUserWithEmailAndPassword(g,v).then((function(e){return e.user.updateProfile({displayName:h})})).catch((function(e){return alert(e.message)})),o(!1)},children:"Sign Up"})]})})}),(0,XN.jsx)(DF,{open:s,onClose:function(){return l(!1)},children:(0,XN.jsx)(uM,{sx:IV,children:(0,XN.jsxs)("form",{className:"app__signup",children:[(0,XN.jsx)("center",{children:(0,XN.jsx)("img",{className:"app__headerImage",src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:""})}),(0,XN.jsx)(YU,{placeholder:"email",type:"text",value:g,onChange:function(e){return b(e.target.value)}}),(0,XN.jsx)(YU,{placeholder:"password",type:"password",value:v,onChange:function(e){return m(e.target.value)}}),(0,XN.jsx)(LU,{onClick:function(e){e.preventDefault(),QN.signInWithEmailAndPassword(g,v).catch((function(e){return alert(e.message)})),l(!1)},children:"Sign In"})]})})}),(0,XN.jsxs)("div",{className:"app__header",children:[(0,XN.jsx)("img",{className:"app__headerImage",src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:""}),w?(0,XN.jsx)(LU,{onClick:function(){return QN.signOut()},children:"Logout"}):(0,XN.jsxs)("div",{className:"app__loginContainer",children:[(0,XN.jsx)(LU,{onClick:function(){return l(!0)},children:"Sign In"}),(0,XN.jsx)(LU,{onClick:function(){return o(!0)},children:"Sign up"})]})]}),(0,XN.jsx)("div",{className:"app__posts",children:(0,XN.jsx)("div",{children:n.map((function(e){var t=e.id,n=e.post;return(0,XN.jsx)(JN,{postId:t,user:w,username:n.username,caption:n.caption,imageUrl:n.imageUrl},t)}))})}),null!==w&&void 0!==w&&w.displayName?(0,XN.jsx)(SV,{username:w.displayName}):(0,XN.jsx)("h3",{className:"logout",children:" Sorry you need to login to upload"})]})},TV=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,XN.jsx)(t.StrictMode,{children:(0,XN.jsx)(EV,{})})),TV()}()}();
//# sourceMappingURL=main.78f7e798.js.map